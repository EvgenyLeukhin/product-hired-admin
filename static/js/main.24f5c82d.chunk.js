(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{247:function(e,t,a){},253:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUFBQUFBQYGBgYICQgJCAwLCgoLDBINDg0ODRIbERQRERQRGxgdGBYYHRgrIh4eIisyKigqMjw2NjxMSExkZIYBBQUFBQUFBgYGBggJCAkIDAsKCgsMEg0ODQ4NEhsRFBERFBEbGB0YFhgdGCsiHh4iKzIqKCoyPDY2PExITGRkhv/CABEIABQAFAMBIgACEQEDEQH/xAAXAAADAQAAAAAAAAAAAAAAAAAABAYI/9oACAEBAAAAANlqNqytoB//xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oACAECEAAAAA//xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDEAAAAA//xAAhEAACAgIBBAMAAAAAAAAAAAABAgMEBRIhAAYRIhATIP/aAAgBAQABPwC9bix9K1clDGOCF5XCjyxVBsfA6xXcOJzJApTlyQ7AFSOI20Pxnbk1StFpQNtJpTFNHqWAjZG5YKG9fI54PWFztWfLfVV7ZNeR3dZ5kj1MZdy7CQhANi3sefz/AP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8AH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8AH//Z"},264:function(e,t,a){e.exports=a(648)},338:function(e,t){!function(e,t,a){var n=[],l={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var a=this;setTimeout(function(){t(a[e])},0)},addTest:function(e,t,a){n.push({name:e,fn:t,options:a})},addAsyncTest:function(e){n.push({name:null,fn:e})}},r=function(){};r.prototype=l,r=new r;var o=[];function i(e,t){return typeof e===t}var c=t.documentElement,s="svg"===c.nodeName.toLowerCase();function m(e){var t=c.className,a=r._config.classPrefix||"";if(s&&(t=t.baseVal),r._config.enableJSClass){var n=new RegExp("(^|\\s)"+a+"no-js(\\s|$)");t=t.replace(n,"$1"+a+"js$2")}r._config.enableClasses&&(t+=" "+a+e.join(" "+a),s?c.className.baseVal=t:c.className=t)}function d(){return"function"!==typeof t.createElement?t.createElement(arguments[0]):s?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}r.addTest("bgpositionshorthand",function(){var e=d("a").style,t="right 10px bottom 10px";return e.cssText="background-position: "+t+";",e.backgroundPosition===t});var u=l._config.usePrefixes?"Moz O ms Webkit".split(" "):[];l._cssomPrefixes=u;var p={elem:d("modernizr")};r._q.push(function(){delete p.elem});var h={style:p.elem.style};function g(e,a,n,l){var r,o,i,m,u="modernizr",p=d("div"),h=function(){var e=t.body;return e||((e=d(s?"svg":"body")).fake=!0),e}();if(parseInt(n,10))for(;n--;)(i=d("div")).id=l?l[n]:u+(n+1),p.appendChild(i);return(r=d("style")).type="text/css",r.id="s"+u,(h.fake?h:p).appendChild(r),h.appendChild(p),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(t.createTextNode(e)),p.id=u,h.fake&&(h.style.background="",h.style.overflow="hidden",m=c.style.overflow,c.style.overflow="hidden",c.appendChild(h)),o=a(p,e),h.fake?(h.parentNode.removeChild(h),c.style.overflow=m,c.offsetHeight):p.parentNode.removeChild(p),!!o}function v(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function f(t,n){var l=t.length;if("CSS"in e&&"supports"in e.CSS){for(;l--;)if(e.CSS.supports(v(t[l]),n))return!0;return!1}if("CSSSupportsRule"in e){for(var r=[];l--;)r.push("("+v(t[l])+":"+n+")");return g("@supports ("+(r=r.join(" or "))+") { #modernizr { position: absolute; } }",function(t){return"absolute"==function(t,a,n){var l;if("getComputedStyle"in e){l=getComputedStyle.call(e,t,a);var r=e.console;null!==l?n&&(l=l.getPropertyValue(n)):r&&r[r.error?"error":"log"].call(r,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else l=!a&&t.currentStyle&&t.currentStyle[n];return l}(t,null,"position")})}return a}r._q.unshift(function(){delete h.style});var E=l._config.usePrefixes?"Moz O ms Webkit".toLowerCase().split(" "):[];function b(e,t){return function(){return e.apply(t,arguments)}}function y(e,t,n,l,r){var o=e.charAt(0).toUpperCase()+e.slice(1),c=(e+" "+u.join(o+" ")+o).split(" ");return i(t,"string")||i(t,"undefined")?function(e,t,n,l){if(l=!i(l,"undefined")&&l,!i(n,"undefined")){var r=f(e,n);if(!i(r,"undefined"))return r}for(var o,c,s,m,u,p=["modernizr","tspan","samp"];!h.style&&p.length;)o=!0,h.modElem=d(p.shift()),h.style=h.modElem.style;function g(){o&&(delete h.style,delete h.modElem)}for(s=e.length,c=0;c<s;c++)if(m=e[c],u=h.style[m],~(""+m).indexOf("-")&&(m=m.replace(/([a-z])-([a-z])/g,function(e,t,a){return t+a.toUpperCase()}).replace(/^-/,"")),h.style[m]!==a){if(l||i(n,"undefined"))return g(),"pfx"!=t||m;try{h.style[m]=n}catch(v){}if(h.style[m]!=u)return g(),"pfx"!=t||m}return g(),!1}(c,t,l,r):function(e,t,a){var n;for(var l in e)if(e[l]in t)return!1===a?e[l]:i(n=t[e[l]],"function")?b(n,a||t):n;return!1}(c=(e+" "+E.join(o+" ")+o).split(" "),t,n)}function N(e,t,n){return y(e,a,a,t,n)}l._domPrefixes=E,l.testAllProps=y,l.testAllProps=N,r.addTest("bgpositionxy",function(){return N("backgroundPositionX","3px",!0)&&N("backgroundPositionY","5px",!0)}),r.addTest("bgrepeatround",N("backgroundRepeat","round")),r.addTest("bgrepeatspace",N("backgroundRepeat","space")),r.addTest("bgsizecover",N("backgroundSize","cover")),r.addTest("borderradius",N("borderRadius","0px",!0)),r.addTest("cssanimations",N("animationName","a",!0));var S=l._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];l._prefixes=S,r.addTest("csscalc",function(){var e=d("a");return e.style.cssText="width:"+S.join("calc(10px);width:"),!!e.style.length}),r.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&N("transform","scale(1)",!0)});var C="CSS"in e&&"supports"in e.CSS,O="supportsCSS"in e;r.addTest("supports",C||O),r.addTest("csstransforms3d",function(){return!!N("perspective","1px",!0)}),r.addTest("preserve3d",function(){var t,a,n=e.CSS,l=!1;return!!(n&&n.supports&&n.supports("(transform-style: preserve-3d)"))||(t=d("a"),a=d("a"),t.style.cssText="display: block; transform-style: preserve-3d; transform-origin: right; transform: rotateY(40deg);",a.style.cssText="display: block; width: 9px; height: 1px; background: #000; transform-origin: right; transform: rotateY(40deg);",t.appendChild(a),c.appendChild(t),l=a.getBoundingClientRect(),c.removeChild(t),l=l.width&&l.width<4)}),r.addTest("csstransitions",N("transition","all",!0)),r.addTest("flexboxtweener",N("flexAlign","end",!0));var w,k=l.testStyles=g;function _(e,t){if("object"==typeof e)for(var a in e)w(e,a)&&_(a,e[a]);else{var n=(e=e.toLowerCase()).split("."),l=r[n[0]];if(2==n.length&&(l=l[n[1]]),"undefined"!=typeof l)return r;t="function"==typeof t?t():t,1==n.length?r[n[0]]=t:(!r[n[0]]||r[n[0]]instanceof Boolean||(r[n[0]]=new Boolean(r[n[0]])),r[n[0]][n[1]]=t),m([(t&&0!=t?"":"no-")+n.join("-")]),r._trigger(e,t)}return r}(function(){var e=navigator.userAgent,t=e.match(/w(eb)?osbrowser/gi),a=e.match(/windows phone/gi)&&e.match(/iemobile\/([0-9])+/gi)&&parseFloat(RegExp.$1)>=9;return t||a})()?r.addTest("fontface",!1):k('@font-face {font-family:"font";src:url("https://")}',function(e,a){var n=t.getElementById("smodernizr"),l=n.sheet||n.styleSheet,o=l?l.cssRules&&l.cssRules[0]?l.cssRules[0].cssText:l.cssText||"":"",i=/src/i.test(o)&&0===o.indexOf(a.split(" ")[0]);r.addTest("fontface",i)}),r.addTest("svg",!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),function(){var e={}.hasOwnProperty;w=i(e,"undefined")||i(e.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(t,a){return e.call(t,a)}}(),l._l={},l.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),r.hasOwnProperty(e)&&setTimeout(function(){r._trigger(e,r[e])},0)},l._trigger=function(e,t){if(this._l[e]){var a=this._l[e];setTimeout(function(){var e;for(e=0;e<a.length;e++)(0,a[e])(t)},0),delete this._l[e]}},r._q.push(function(){l.addTest=_}),r.addTest("svgasimg",t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"));var A={}.toString;r.addTest("svgclippaths",function(){return!!t.createElementNS&&/SVGClipPath/.test(A.call(t.createElementNS("http://www.w3.org/2000/svg","clipPath")))}),r.addTest("svgfilters",function(){var t=!1;try{t="SVGFEColorMatrixElement"in e&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(a){}return t}),r.addTest("svgforeignobject",function(){return!!t.createElementNS&&/SVGForeignObject/.test(A.call(t.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}),r.addTest("inlinesvg",function(){var e=d("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"==("undefined"!=typeof SVGRect&&e.firstChild&&e.firstChild.namespaceURI)}),r.addTest("smil",function(){return!!t.createElementNS&&/SVGAnimate/.test(A.call(t.createElementNS("http://www.w3.org/2000/svg","animate")))}),r.addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}),r.addTest("sessionstorage",function(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(t){return!1}}),r.addTest("websqldatabase","openDatabase"in e),r.addTest("multiplebgs",function(){var e=d("a").style;return e.cssText="background:url(https://),url(https://),red url(https://)",/(url\s*\(.*?){3}/.test(e.background)}),function(){var e,t,a,l,c,s;for(var m in n)if(n.hasOwnProperty(m)){if(e=[],(t=n[m]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(a=0;a<t.options.aliases.length;a++)e.push(t.options.aliases[a].toLowerCase());for(l=i(t.fn,"function")?t.fn():t.fn,c=0;c<e.length;c++)1===(s=e[c].split(".")).length?r[s[0]]=l:(!r[s[0]]||r[s[0]]instanceof Boolean||(r[s[0]]=new Boolean(r[s[0]])),r[s[0]][s[1]]=l),o.push((l?"":"no-")+s.join("-"))}}(),m(o),delete l.addTest,delete l.addAsyncTest;for(var x=0;x<r._q.length;x++)r._q[x]();e.Modernizr=r}(window,document)},367:function(e,t,a){},369:function(e,t,a){},392:function(e,t,a){},394:function(e,t,a){},396:function(e,t,a){},398:function(e,t,a){},400:function(e,t,a){},427:function(e,t,a){},433:function(e,t,a){},442:function(e,t,a){},444:function(e,t,a){},446:function(e,t,a){},513:function(e,t,a){},515:function(e,t,a){},537:function(e,t,a){},539:function(e,t,a){},543:function(e,t,a){},545:function(e,t,a){},547:function(e,t,a){},549:function(e,t,a){},551:function(e,t,a){},553:function(e,t,a){},555:function(e,t,a){},557:function(e,t,a){},560:function(e,t,a){},562:function(e,t,a){},564:function(e,t,a){},566:function(e,t,a){},568:function(e,t,a){},570:function(e,t,a){},572:function(e,t,a){},576:function(e,t,a){},580:function(e,t,a){},643:function(e,t,a){},648:function(e,t,a){"use strict";a.r(t);a(265),a(282),a(293),a(295),a(297),a(315),a(323),a(328),a(331);var n=a(0),l=a.n(n),r=a(40),o=a.n(r),i=a(13),c=a(14),s=a(17),m=a(15),d=a(16),u=a(134),p=(a(338),a(339),a(341),a(343),a(150)),h=a(129),g=a(149),v=a(151),f=a(48),E=a.n(f),b=a(188),y=a(653),N=a(654),S=a(655),C=a(656),O=a(657),w=a(5),k=a.n(w),_="https://stage1.producthired.com",A="api/api",x=function(){var e=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.post("".concat(_,"/").concat(A,"/users/logout"),{},{headers:{Authorization:e}}).then(function(){localStorage.removeItem("ph-admin-user-data")}).catch(function(e){console.log(e),localStorage.removeItem("ph-admin-user-data")})},I=(a(367),a(369),function(){return l.a.createElement("div",{className:"SpinnerFull"},l.a.createElement("div",{className:"sk-chase"},l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"})))}),j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={pageTitle:"",navIcon:"menu-link-slide",dropdownOpen:!1,logOutSuccsess:!1,loading:!1,error:!1,redirect:!1},a.toggle=function(){a.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},a.logout=function(e){e.preventDefault(),a.setState({loading:!0}),x().then(function(){a.setState({logOutSuccsess:!0}),setTimeout(function(){a.setState({redirect:!0})},1e3)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.pubsub_token=E.a.subscribe("setPageTitle",function(t,a){e.setState({pageTitle:a})}),this.pubsub_token_icon=E.a.subscribe("setNavIcon",function(t,a){e.setState({navIcon:a})})}},{key:"componentWillUnmount",value:function(){E.a.unsubscribe(this.pubsub_token),E.a.unsubscribe(this.pubsub_token_icon)}},{key:"showSettings",value:function(e){e.preventDefault(),E.a.publish("showsettings")}},{key:"render",value:function(){var e=this.state,t=e.navIcon,a=e.pageTitle,n=e.dropdownOpen,r=this.state,o=r.logOutSuccsess,i=r.error,c=r.redirect,s=r.loading;return l.a.createElement("header",{className:"header-container"},c&&l.a.createElement(g.a,{to:"/login"}),i&&l.a.createElement(y.a,{color:"danger"},"Error"),o&&l.a.createElement(y.a,{color:"success"},"Log out"),s&&l.a.createElement(I,null),l.a.createElement("nav",null,l.a.createElement("ul",{className:"d-lg-none"},l.a.createElement("li",null,l.a.createElement("a",{id:"sidebar-toggler",href:"#dummylink1",className:"menu-link "+t},l.a.createElement("span",null,l.a.createElement("em",null))))),l.a.createElement("ul",{className:"d-none d-lg-block"},l.a.createElement("li",null,l.a.createElement("a",{id:"offcanvas-toggler",href:"#dummylink2",className:"menu-link "+t},l.a.createElement("span",null,l.a.createElement("em",null))))),l.a.createElement("h2",{className:"header-title"},a),l.a.createElement("ul",{className:"float-right"},l.a.createElement(N.a,{id:"basic-nav-dropdown",tag:"li",isOpen:n,toggle:this.toggle},l.a.createElement(S.a,{nav:!0,className:"has-badge ripple"},l.a.createElement("em",{className:"ion-person"})),l.a.createElement(C.a,{right:!0,className:"md-dropdown-menu"},l.a.createElement(b.LinkContainer,{to:"/profile"},l.a.createElement(O.a,null,l.a.createElement("em",{className:"ion-home icon-fw"})," Profile")),l.a.createElement(O.a,{divider:!0}),l.a.createElement(b.LinkContainer,{to:"/login",onClick:this.logout},l.a.createElement(O.a,null,l.a.createElement("em",{className:"ion-log-out icon-fw"})," Logout")))),l.a.createElement("li",null,l.a.createElement("a",{href:"#dummylink4",className:"ripple",onClick:this.showSettings},l.a.createElement("em",{className:"ion-gear-b"}))))))}}]),t}(n.Component),L=a(8),M=a(20),T=a(1),F=a.n(T),D=a(128),R=a(92),P=a(135);a(392);var z=function(){var e=document.querySelector(".sidebar-nav"),t=document.querySelector(".layout-container"),a=document.querySelector("#sidebar-toggler"),n=document.querySelector("#offcanvas-toggler"),l=document.querySelector(".sidebar-layout-obfuscator"),r=document.body,o=function(e){return[].slice.call(e)};e.addEventListener("click",function(e){var t=function(e){var t=e.target,a=t.parentNode;return"a"===t.tagName.toLowerCase()?t:"a"===a.tagName.toLowerCase()?a:"a"===a.parentNode.tagName.toLowerCase()?a.parentNode:void 0}(e);if(t){var a=t.parentElement,n=o(a.parentElement.querySelectorAll("li"));n.forEach(function(e){o(e.querySelectorAll("li")).forEach(function(e){return e.classList.remove("active")})}),n.forEach(function(e){e!==a&&e.classList.remove("active")}),t.nextElementSibling&&"UL"===t.nextElementSibling.tagName&&(a.classList.toggle("active"),e.preventDefault())}}),a.addEventListener("click",function(e){e.preventDefault(),t.classList.toggle("sidebar-visible"),e.target.parentElement.classList.toggle("active")}),l.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("sidebar-visible"),a.parentElement.classList.remove("active")}),n.addEventListener("click",function(e){e.preventDefault(),r.classList.toggle("offcanvas-visible"),e.target.parentElement.classList.toggle("active")}),window.addEventListener("resize",function(){window.innerWidth<768&&(r.classList.remove("offcanvas-visible"),n.parentElement.classList.add("active"))})},J=a(189),U=a.n(J),H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).handleClick=function(e){e.preventDefault(),U.a.enabled?U.a.toggle():console.log("Fullscreen not enabled")},a.setRef=function(e){a.element=e},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=window.navigator.userAgent;e.indexOf("MSIE ")>0||e.match(/Trident.*rv:11\./)?this.element.classList.add("d-none"):this.element.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){this.element.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=this.props.tag;return l.a.createElement(e,Object.assign({ref:this.setRef},this.props))}}]),t}(n.Component);H.defaultProps={tag:"a"};var V=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).setRef=function(e){a.element=e},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;if(!this.props.src||this.props.src.indexOf(".svg")<0)throw new Error("only support for SVG images");k.a.get(this.props.src).then(function(t){return e.element.outerHTML=t.data.replace("xmlns:a","")})}},{key:"render",value:function(){return l.a.createElement("div",{ref:this.setRef})}}]),t}(n.Component),q=(a(394),[{id:0,name:"Companies",icon:"img/icons/ios-browsers.svg",path:"/companies"},{id:1,name:"Users",icon:"img/icons/person-stalker.svg",path:"/users"},{id:2,name:"Jobs",icon:"img/icons/clipboard.svg",path:"/jobs"},{id:3,name:"Skills",icon:"img/icons/navicon.svg",path:"/skills"},{id:4,name:"Roles",icon:"img/icons/navicon.svg",path:"/roles"},{id:5,name:"Plans",icon:"img/icons/connection-bars.svg",path:"/plans"}]),B=function(e){var t=e.label;return l.a.createElement("span",{className:"float-right nav-label"},l.a.createElement("span",{className:"badge "+t.className},t.value))},W=function(e){var t=e.src;return l.a.createElement("span",{className:"nav-icon"},l.a.createElement(V,{src:t,className:"invisible"}))},G=function(e){var t=e.item;return l.a.createElement(D.a,{to:t.path,className:"ripple"},t.label&&l.a.createElement(B,{label:t.label}),t.icon&&l.a.createElement(W,{src:t.icon}),l.a.createElement("span",null,t.name))},Q=function(e){var t=e.item,a=e.routeActive;return[l.a.createElement("a",{href:"#".concat(t.name),className:"ripple",key:"0"},l.a.createElement("span",{className:"float-right nav-caret"},l.a.createElement("em",{className:"ion-ios-arrow-right"})),t.label&&l.a.createElement(B,{label:t.label}),t.icon&&l.a.createElement(W,{src:t.icon}),l.a.createElement("span",null,t.name)),l.a.createElement("ul",{className:"sidebar-subnav",key:"1"},t.submenu.map(function(e,t){return l.a.createElement("li",{className:a(e.path),key:t},l.a.createElement(G,{item:e}))}))]},Y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={sidebarModes:{header:!0,toolbar:!0,offcanvas:!1},name:"",avatar:null},a.routeActive=function(e){return(e=Array.isArray(e)?e:[e]).some(function(e){return a.props.location.pathname.indexOf(e)>-1})?"active":""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.pubsub_token=E.a.subscribe("sidebarmode",function(t,a){e.setState({sidebarModes:Object(M.a)({},e.state.sidebarModes,Object(L.a)({},a,!e.state.sidebarModes[a]))}),"offcanvas"===a&&document.body.classList[e.state.sidebarModes.offcanvas?"add":"remove"]("sidebar-offcanvas")}),this.props.history.listen(function(){document.querySelector(".layout-container").classList.remove("sidebar-visible")})}},{key:"componentDidMount",value:function(){z();var e=JSON.parse(localStorage.getItem("ph-admin-user-data")),t=e&&"".concat(e.user.name," ").concat(e.user.surname);t&&this.setState({name:t});var a=e&&"".concat(e.user.image.url);"null"!==a&&this.setState({avatar:a})}},{key:"componentWillUnmount",value:function(){E.a.unsubscribe(this.pubsub_token)}},{key:"render",value:function(){var e=this,t=function(e){return e.submenu&&e.submenu.length},a=this.state,n=a.name,r=a.avatar;return l.a.createElement("aside",{className:"sidebar-container"},this.state.sidebarModes.header&&l.a.createElement("div",{className:"sidebar-header"},l.a.createElement("div",{className:"float-right pt-lg text-muted invisible"},l.a.createElement("em",{className:"ion-close-round"})),l.a.createElement("div",{className:"sidebar-header-logo"},l.a.createElement(P.a,{to:"/"},l.a.createElement(V,{src:"img/logo.svg",alt:"Logo",width:120})))),l.a.createElement("div",{className:"sidebar-content"},this.state.sidebarModes.toolbar&&l.a.createElement("div",{className:"sidebar-toolbar text-center"},l.a.createElement("a",{href:"#user"},l.a.createElement("img",{className:"rounded-circle thumb64",src:r||"img/user/01.jpg",alt:"Profile"})),l.a.createElement("div",{className:"mt"},l.a.createElement(R.a,{i18nKey:"user.WELCOME"}),", ","".concat(n))),l.a.createElement("nav",{className:"sidebar-nav"},l.a.createElement("ul",null,q.map(function(a,n){var r=t(a)?a.submenu.map(function(e){return e.path}):[a.path];return l.a.createElement("li",{className:e.routeActive(r),key:n},t(a)?l.a.createElement(Q,{item:a,routeActive:e.routeActive}):l.a.createElement(G,{item:a}))}))),l.a.createElement("nav",{hidden:!0},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(P.a,{to:"/Cards"},"Cards")),l.a.createElement("li",null,"..."),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/bootstrapui"},"Elements/Bootstrapui")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/buttons"},"Elements/Buttons")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/colors"},"Elements/Colors")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/grid"},"Elements/Grid")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/gridMasonry"},"Elements/GridMasonry")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/icons"},"Elements/Icons")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/lists"},"Elements/Lists")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/spinners"},"Elements/Spinners")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/swal"},"Elements/Swal")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/sweetalert"},"Elements/Sweetalert")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/toastify"},"Elements/Toastify")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/typography"},"Elements/Typography")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/utilities"},"Elements/Utilities")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/whiteframes"},"Elements/Whiteframes")),l.a.createElement("li",null,"..."),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/forms/advanced"},"Forms/Advanced")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/forms/classic"},"Forms/Classic")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/forms/dropzone"},"Forms/Dropzone")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/forms/editor"},"Forms/Editor")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/forms/material"},"Forms/Material")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/forms/validation"},"Forms/Validation")),l.a.createElement("li",null,"..."),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/layouts/boxed"},"Layouts/LayoutsBoxed")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/layouts/columns"},"Layouts/LayoutsColumns")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/layouts/containers"},"Layouts/LayoutsContainers")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/layouts/overlap"},"Layouts/LayoutsOverlap")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/layouts/tabs"},"Layouts/LayoutsTabs")),l.a.createElement("li",null,"..."),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/tables/classic"},"Tables/Classic")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/tables/datatable"},"Tables/Datatable")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/tables/datagrid"},"Tables/Datagrid"))))))}}]),t}(n.Component);Y.contextTypes={router:F.a.object};var Z=Object(R.c)("translations")(Object(v.a)(Y)),K=a(661),$=a(658),X=a(659),ee=(a(396),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={showModal:!1,selectedLang:"en",selectedTheme:"theme-1",sidebarModes:{header:!0,toolbar:!0,offcanvas:!1}},a.onShowModal=function(){document.body.classList.add("modal-backdrop-soft")},a.onHiddenModal=function(){document.body.classList.remove("modal-backdrop-soft")},a.close=function(){return a.setState({showModal:!1})},a.open=function(){return a.setState({showModal:!0})},a.toggle=function(){return a.setState({showModal:!a.state.showModal})},a.setSelectedLanguage=function(e){var t=e.target.value;a.props.i18n.changeLanguage(t),a.setState({selectedLang:t})},a.setTheme=function(e){var t=e.target.value;document.body.classList.remove(a.state.selectedTheme),a.setState({selectedTheme:t}),document.body.classList.add(t),localStorage.setItem("ph-admin-theme",t)},a.changeSidebarMode=function(e){return function(t){a.setState({sidebarModes:Object(M.a)({},a.state.sidebarModes,Object(L.a)({},e,t.target.checked))}),E.a.publish("sidebarmode",e)}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("ph-admin-theme");e&&this.setState({selectedTheme:e})}},{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.pubsub_token=E.a.subscribe("showsettings",function(){e.open()})}},{key:"componentWillUnmount",value:function(){E.a.unsubscribe(this.pubsub_token)}},{key:"render",value:function(){var e=l.a.createElement("button",{className:"close",onClick:this.toggle},"\xd7"),t=this.state.selectedTheme;return l.a.createElement(K.a,{isOpen:this.state.showModal,modalClassName:"modal-right fade modal-settings",onEnter:this.onShowModal,onClosed:this.onHiddenModal,toggle:this.toggle},l.a.createElement($.a,{tag:"div",close:e},l.a.createElement("h4",{className:"m-0"},l.a.createElement("span",null,"Settings"))),l.a.createElement(X.a,null,l.a.createElement("div",{className:"d-flex mb"},l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-1"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-1",checked:"theme-1"===t,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"})))))),l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-2"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-2",checked:"theme-2"===t,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"})))))),l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-3"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-3",checked:"theme-3"===t,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"}))))))),l.a.createElement("div",{className:"d-flex mb"},l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-4"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-4",checked:"theme-4"===t,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"})))))),l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-5"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-5",checked:"theme-5"===t,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"})))))),l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-6"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-6",checked:"theme-6"===t,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"}))))))),l.a.createElement("div",{className:"d-flex mb"},l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-7"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-7",checked:"theme-7"===t,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"})))))),l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-8"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-8",checked:"theme-8"===t,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"})))))),l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-9"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-9",checked:"theme-9"===t,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"}))))))),l.a.createElement("hr",null),l.a.createElement(H,{tag:"button",className:"btn btn-secondary btn-raised",type:"button","data-toggle-fullscreen":""},"Toggle fullscreen"),l.a.createElement("hr",null)))}}]),t}(n.Component)),te=Object(R.c)("translations")(ee),ae=(a(398),a(400),function(e){var t=e.children;return l.a.createElement("div",{className:"layout-container"},l.a.createElement(j,null),l.a.createElement(Z,null),l.a.createElement(te,null),l.a.createElement("div",{className:"sidebar-layout-obfuscator"}),l.a.createElement("main",{className:"main-container"},l.a.createElement("div",{className:"container-fluid"},t),l.a.createElement("footer",{className:"footer"},l.a.createElement("span",null,"\xa9 2020 ProductHired Admin Panel"))))}),ne=a(31),le=a(63),re=a.n(le),oe=a(29),ie=a.n(oe),ce=a(262),se=(a(427),function(e){return l.a.createElement(ce.a,Object.assign({},e,{resizable:!0,filterable:!0,className:"-striped -highlight"}))}),me=a(23),de=a(253),ue=a.n(de),pe=[{Header:"Id",accessor:"id",width:60,style:{textAlign:"right"},Cell:function(e){var t=e.original.id;return l.a.createElement("div",{className:"ellipsis-text",title:t||""},t||"")},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Company name",accessor:"name",style:{fontWeight:"bold"},Cell:function(e){var t=e.original,a=t.id,n=t.name,r=t.logo;return l.a.createElement("div",{className:"table-column-name  ellipsis-text",title:n||""},l.a.createElement(P.a,{to:"/companies/".concat(a)},l.a.createElement("img",{src:r||ue.a,width:20,height:20,style:{objectFit:"cover"}}),"\xa0\xa0",l.a.createElement("span",{title:n||""},n||"")))},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Domain",accessor:"domain",Cell:function(e){var t=e.original.domain;return t?l.a.createElement("div",{className:"ellipsis-text"},l.a.createElement("a",{href:"http://".concat(t),title:"http://".concat(t),target:"_blank",rel:"noopener noreferrer"},t)):""},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Slug",accessor:"slug",Cell:function(e){var t=e.original.slug;return l.a.createElement("div",{className:"ellipsis-text",title:t||""},t||"")},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}}],he=function(e){var t=e.type,a=e.id,n=e.name,r=e.surname,o=e.errorText,i=e.errorAlertIsOpen,c=e.closeErrorAlert,s=r?"".concat(n," ").concat(r):"".concat(n);return l.a.createElement(l.a.Fragment,null,"add"===t&&l.a.createElement(y.a,{color:"success"},"New item has been added")||"edit"===t&&l.a.createElement(y.a,{color:"warning"},'"'.concat(a)," - ",l.a.createElement("b",null,s," has been edited"))||"delete"===t&&l.a.createElement(y.a,{color:"danger"},'"'.concat(a)," - ",l.a.createElement("b",null,s," has been deleted"))||"error"===t&&l.a.createElement(y.a,{color:"danger",isOpen:i,toggle:c},o)||"copy"===t&&l.a.createElement(y.a,{color:"warning"},"Copied"))},ge=a(378),ve=a(10),fe=a.n(ve),Ee=(a(433),function(e){var t=e.text,a=e.loading,n=e.addClick;return l.a.createElement(ge.a,{type:"button",color:"primary",onClick:n,className:fe()("add-button",{"is-loading":a})},"Add ",t)}),be=a(139),ye=a.n(be),Ne=(a(442),a(444),function(e){var t=e.isOpen,a=e.modalLoading,n=e.closeModal;return l.a.createElement(ye.a,Object.assign({},e,{ariaHideApp:!1,isOpen:t,overlayClassName:"ReactModal__Overlay",className:"ReactModal ReactModal__add",portalClassName:"ReactModal__Portal__add",onRequestClose:!a&&n}),e.children)}),Se=function(){return l.a.createElement("div",{className:"sk-chase"},l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}))},Ce=function(e){var t=e.name,a=e.domain,n=e.slug,r=(e.weight,e.logo),o=e.cover,i=e.fileInputLogo,c=e.logoLoading,s=e.onUploadLogo,m=e.deleteLogo,d=e.fileInputCover,u=e.coverLoading,p=e.onUploadCover,h=e.deleteCover,g=e.isOpen,v=e.closeModal,f=e.onChange,E=e.onSubmit,b=e.modalLoading,y=e.generateSlug;return l.a.createElement(Ne,{isOpen:g,modalLoading:b,closeModal:v},l.a.createElement("section",{className:"section-container add-container"},l.a.createElement("h4",{className:"add-container__title"},"Add company"),l.a.createElement("span",{className:"ion-close-round add-container__close",onClick:v}),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:E},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"add-name"},"Company name"),l.a.createElement("input",{name:"name",value:t,id:"add-name",onChange:f,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"add-domain"},"Domain"),l.a.createElement("input",{name:"domain",value:a,id:"add-domain",onChange:f,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"add-slug"},"Slug"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{name:"slug",value:n,id:"add-slug",onChange:f,type:"text",className:"form-control"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:y,disabled:!t},"Generate")))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"add-logo"},l.a.createElement("label",{htmlFor:"add-logo"},"Logo"),c?l.a.createElement(Se,null):r?l.a.createElement("img",{className:"logo",src:r,alt:"logo"}):l.a.createElement("div",{className:"no-logo"},"No logo"),l.a.createElement("input",{id:"add-logo",type:"file",className:"input-file-custom",ref:i,onChange:s}),l.a.createElement("label",{htmlFor:"add-logo",className:"input-file-label  btn btn-light"},l.a.createElement("i",{className:"ion-image"}),"\xa0",l.a.createElement("span",null,"Load logo"))),l.a.createElement("div",{className:"add-logo-url"},l.a.createElement("label",{htmlFor:"add-logo-url"},"Logo URL"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{name:"logo",value:r,id:"add-logo-url",onChange:f,type:"url",className:"form-control",placeholder:"Please, paste logo URL or load file"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:m,disabled:!r},"Clear"))))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"add-cover"},l.a.createElement("label",{htmlFor:"add-cover"},"Cover"),u?l.a.createElement(Se,null):o?l.a.createElement("img",{className:"cover",src:o,alt:"cover"}):l.a.createElement("div",{className:"no-cover"},"No cover"),l.a.createElement("input",{id:"add-cover",type:"file",className:"input-file-custom",ref:d,onChange:p}),l.a.createElement("label",{htmlFor:"add-cover",className:"input-file-label  btn btn-light"},l.a.createElement("i",{className:"ion-image"}),"\xa0",l.a.createElement("span",null,"Load cover"))),l.a.createElement("div",{className:"add-cover-url"},l.a.createElement("label",{htmlFor:"add-cover-url"},"Cover URL"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{name:"cover",value:o,id:"add-cover-url",onChange:f,type:"url",className:"form-control",placeholder:"Please, paste cover URL or load file"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:h,disabled:!o},"Clear"))))))),b?l.a.createElement("div",{className:"add-container__is-loading"},l.a.createElement(Se,null)):l.a.createElement("footer",{className:"add-container__buttons"},l.a.createElement(ge.a,{outline:!0,color:"secondary",onClick:v},"Cancel"),l.a.createElement(ge.a,{disabled:!t||!n||c||u,outline:!0,color:"primary",type:"submit"},"Save")))))))},Oe=(a(446),function(e){var t=e.isOpen,a=e.modalLoading,n=e.closeModal;return l.a.createElement(ye.a,Object.assign({},e,{ariaHideApp:!1,isOpen:t,overlayClassName:"ReactModal__Overlay",className:"ReactModal ReactModal__delete",portalClassName:"ReactModal__Portal__delete",onRequestClose:!a&&n}),e.children)}),we=function(e){var t=e.isOpen,a=e.modalLoading,n=e.closeModal,r=e.id,o=e.name,i=e.deleteSubmit;return l.a.createElement(Oe,{isOpen:t,modalLoading:a,closeModal:n},l.a.createElement("section",{className:"section-container  delete-container"},l.a.createElement("span",{className:"ion-close-round ReactModal__delete__close",onClick:n}),l.a.createElement("div",{className:"ReactModal__delete__title"},l.a.createElement("span",null,"Are you sure you want to delete ")," ",l.a.createElement("br",null),l.a.createElement("span",null,r," - ",l.a.createElement("b",null,o),"?")),a?l.a.createElement("div",{className:"ReactModal__delete__is-loading"},l.a.createElement(Se,null)):l.a.createElement("footer",{className:"ReactModal__delete__buttons"},l.a.createElement(ge.a,{outline:!0,color:"secondary",onClick:n},"Cancel"),l.a.createElement(ge.a,{outline:!0,color:"danger",onClick:i},"Delete"))))};var ke=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};function _e(e){return function(t){function a(){return Object(i.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,t),Object(c.a)(a,[{key:"render",value:function(){var t={setHeaderTitle:function(e){E.a.publish("setPageTitle",e)}};return l.a.createElement(e,Object.assign({},this.props,t))}}]),a}(n.Component)}var Ae=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,a=e.pageSize,n=e.page,l=e.filtered,r=e.sorted,o={where:{},limit:a,skip:n*a,order:"id DESC"};return l.forEach(function(e){"id"===e.id?o.where[e.id]=e.value:o.where[e.id]={like:"%"+e.value+"%"}}),r.forEach(function(e){var t=e.desc?"DESC":"ASC";o.order="".concat(e.id," ").concat(t)}),k.a.get("".concat(_,"/").concat(A,"/companies"),{params:{filter:o},headers:{Authorization:t}})},xe=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,a=e.filtered,n={};return a.forEach(function(e){"id"===e.id?n[e.id]=e.value:n[e.id]={like:"%"+e.value+"%"}}),k.a.get("".concat(_,"/").concat(A,"/companies/count"),{params:{where:n},headers:{Authorization:t}})},Ie=function(e,t,a,n,l,r){var o=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.post("".concat(_,"/").concat(A,"/companies"),{name:e,domain:t,slug:a,weight:n,logo:l,cover:r},{headers:{Authorization:o}})},je=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.delete("".concat(_,"/").concat(A,"/companies/").concat(e),{headers:{Authorization:t}})},Le=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.post("".concat(_,"/").concat(A,"/vacancies/logo"),e,{headers:{Authorization:t}})},Me=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.post("".concat(_,"/").concat(A,"/vacancies/cover"),e,{headers:{Authorization:t}})},Te=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).fileInputLogo=l.a.createRef(),a.fileInputCover=l.a.createRef(),a.state={companies:[],companiesCount:null,tableLoading:!1,count:null,alertIsOpen:!1,alertType:"",alertErrorText:"",deleteModalIsOpen:!1,deleteModalLoading:!1,addModalIsOpen:!1,addModalLoading:!1,id:null,name:"",oldName:"",slug:"",domain:"",weight:null,logo:"",cover:"",logoLoading:!1,coverLoading:!1},a.onChange=function(e){return a.setState(Object(L.a)({},e.target.name,e.target.value))},a.addClick=function(){a.setState({id:null,name:"",slug:"",domain:"",weight:null,logo:"",logoLoading:!1,cover:"",coverLoading:!1,addModalIsOpen:!0,alertIsOpen:!1})},a.addSubmit=function(e){e.preventDefault(),a.setState({addModalLoading:!0,errorAlertIsOpen:!1});var t=a.state,n=t.name,l=t.domain,r=t.slug,o=t.weight,i=t.logo,c=t.cover,s=t.companies;Ie(n,l,r,o,i,c).then(function(e){var t=[e.data].concat(s);a.setState({addModalLoading:!1,addModalIsOpen:!1,alertType:"add",alertIsOpen:!0,companies:t}),setTimeout(function(){a.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.onUploadLogo=function(e){e.preventDefault(),a.setState({logoLoading:!0});var t=new FormData,n=a.fileInputLogo.current.files[0];t.append("file",n),Le(t).then(function(e){a.setState({logo:"".concat(_,"/").concat(A,"/containers/logo/download/").concat(e.data.name),logoLoading:!1})}).catch(function(e){return a.catchErrors(e)})},a.onUploadCover=function(e){e.preventDefault(),a.setState({coverLoading:!0});var t=new FormData,n=a.fileInputCover.current.files[0];t.append("file",n),Me(t).then(function(e){a.setState({cover:"".concat(_,"/").concat(A,"/containers/cover/download/").concat(e.data.name),coverLoading:!1})}).catch(function(e){return a.catchErrors(e)})},a.closeAddModal=function(){!a.state.addModalLoading&&a.setState({addModalIsOpen:!1})},a.closeDeleteModal=function(){!a.state.deleteModalLoading&&a.setState({deleteModalIsOpen:!1})},a.closeErrorAlert=function(){return a.setState({errorAlertIsOpen:!1})},a.deleteClick=function(e){return function(){var t=e.id,n=e.name;a.setState({id:t,name:n,deleteModalIsOpen:!0,alertIsOpen:!1})}},a.deleteSubmit=function(){var e=[],t=a.state,n=t.companies,l=t.id;a.setState({deleteModalLoading:!0,errorAlertIsOpen:!1}),je(l).then(function(){for(var t=0;t<n.length;t++)n[t].id!==l&&e.push(n[t]);a.setState({companies:e,deleteModalIsOpen:!1,deleteModalLoading:!1,alertType:"delete",alertIsOpen:!0}),setTimeout(function(){a.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.generateSlug=function(){var e=a.state.name;a.setState({slug:re()(e,{replacement:"-",lower:!0})})},a.catchErrors=function(e){var t=e.response.data.error,n=t.name,l=t.statusCode,r=t.message;401===l?(localStorage.removeItem("ph-admin-user-data"),a.props.history.push("/login")):a.setState({errorAlertIsOpen:!0,addModalLoading:!1,deleteModalLoading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.setHeaderTitle("Companies")}},{key:"componentWillReceiveProps",value:function(){var e=(this.props.history.location.state||{}).afterEditData;if(!ie()(e)){for(var t=this.state.companies,a=0;a<t.length;a++)t[a].id===e.id&&(t[a]={id:e.id,name:e.name,domain:e.domain,slug:e.slug,logo:e.logo,cover:e.cover});this.setState({companies:t})}var n=(this.props.history.location.state||{}).deletedId;if(n){for(var l=this.state,r=l.companies,o=l.companiesCount,i=l.count,c=[],s=0;s<r.length;s++)r[s].id!==n&&c.push(r[s]);this.setState({companies:c,companiesCount:o-1,count:i-1})}}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.companies,r=a.companiesCount,o=a.count,i=a.tableLoading,c=a.alertIsOpen,s=a.alertType,m=a.alertErrorText,d=a.deleteModalLoading,u=a.deleteModalIsOpen,p=a.addModalIsOpen,h=a.addModalLoading,g=a.logoLoading,v=a.coverLoading,f=a.id,E=a.name,b=a.slug,y=a.domain,N=a.weight,S=a.logo,C=a.cover,O=[{Header:"",width:30,sortable:!1,filterable:!1,Cell:function(e){var a=e.original;return l.a.createElement("div",{className:"rt-custom__controls"},l.a.createElement("i",{className:"ion-android-delete",onClick:t.deleteClick(a)}))}}];return l.a.createElement("div",{className:"companies-page"},l.a.createElement("p",{className:"md-lg"},"Total records:\xa0",l.a.createElement("b",null,o&&ke(this.state.count))),c&&l.a.createElement(he,{type:s,id:f,name:E,errorText:m}),l.a.createElement(Ee,{text:"company",loading:h&&d,addClick:this.addClick}),l.a.createElement(Ce,(e={name:E,domain:y,slug:b,weight:N,logo:S,cover:C},Object(L.a)(e,"logo",S),Object(L.a)(e,"logoLoading",g),Object(L.a)(e,"fileInputLogo",this.fileInputLogo),Object(L.a)(e,"onUploadLogo",this.onUploadLogo),Object(L.a)(e,"cover",C),Object(L.a)(e,"coverLoading",v),Object(L.a)(e,"fileInputCover",this.fileInputCover),Object(L.a)(e,"onUploadCover",this.onUploadCover),Object(L.a)(e,"isOpen",p),Object(L.a)(e,"modalLoading",h),Object(L.a)(e,"closeModal",this.closeAddModal),Object(L.a)(e,"onChange",this.onChange),Object(L.a)(e,"onSubmit",this.addSubmit),Object(L.a)(e,"deleteLogo",this.deleteLogo),Object(L.a)(e,"deleteCover",this.deleteCover),Object(L.a)(e,"generateSlug",this.generateSlug),e)),l.a.createElement(we,{id:f,name:E,isOpen:u,deleteSubmit:this.deleteSubmit,modalLoading:d,closeModal:this.closeDeleteModal}),l.a.createElement(se,{data:n,manual:!0,pages:r,loading:i,columns:[].concat(Object(ne.a)(pe),O),onFetchData:function(e){t.setState({tableLoading:!0}),xe(e).then(function(a){t.setState({count:a.data.count,companiesCount:Math.ceil(a.data.count/e.pageSize)}),Ae(e).then(function(e){return t.setState({companies:e.data,tableLoading:!1})}).catch(function(e){return t.catchErrors(e)})}).catch(function(e){return t.catchErrors(e)})}}))}}]),t}(l.a.Component),Fe=_e(Te),De=function(e){var t=e.type,a=e.id,n=e.name,r=e.errorText,o=e.errorAlertIsOpen,i=e.closeErrorAlert;return l.a.createElement(l.a.Fragment,null,"add"===t&&l.a.createElement(y.a,{color:"success"},"New item has been added")||"edit"===t&&l.a.createElement(y.a,{color:"warning"},l.a.createElement("b",null,"".concat(a," - ").concat(n)," has been edited"))||"delete"===t&&l.a.createElement(y.a,{color:"danger"},l.a.createElement("b",null,"".concat(a," - ").concat(n)," has been deleted"))||"error"===t&&l.a.createElement(y.a,{color:"danger",isOpen:o,toggle:i},r)||"copy"===t&&l.a.createElement(y.a,{color:"warning"},"Copied"))},Re=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/companies/").concat(e),{headers:{Authorization:t}})},Pe=function(e,t,a,n,l,r){var o=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.patch("".concat(_,"/").concat(A,"/companies/").concat(e),{name:t,domain:a,slug:n,logo:l,cover:r},{headers:{Authorization:o}})},ze=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).fileInputLogo=l.a.createRef(),a.fileInputCover=l.a.createRef(),a.state={id:null,name:"",domain:"",slug:"",logo:"",cover:"",alertIsOpen:!1,alertType:"",alertErrorText:"",loading:!1,deleteModalIsOpen:!1,deleteModalLoading:!1},a.onChange=function(e){return a.setState(Object(L.a)({},e.target.name,e.target.value))},a.generateSlug=function(){var e=a.state.name;a.setState({slug:re()(e,{replacement:"-",lower:!0})})},a.closeDetail=function(){return a.props.history.push("/companies")},a.closeDeleteModal=function(){!a.state.deleteModalLoading&&a.setState({deleteModalIsOpen:!1})},a.closeErrorAlert=function(){return a.setState({errorAlertIsOpen:!1})},a.onUploadLogo=function(e){e.preventDefault(),a.setState({logoLoading:!0});var t=new FormData,n=a.fileInputLogo.current.files[0];t.append("file",n),Le(t).then(function(e){a.setState({logo:"".concat(_,"/").concat(A,"/containers/logo/download/").concat(e.data.name),logoLoading:!1})}).catch(function(e){return a.catchErrors(e)})},a.onUploadCover=function(e){e.preventDefault(),a.setState({coverLoading:!0});var t=new FormData,n=a.fileInputCover.current.files[0];t.append("file",n),Me(t).then(function(e){a.setState({cover:"".concat(_,"/").concat(A,"/containers/cover/download/").concat(e.data.name),coverLoading:!1})}).catch(function(e){return a.catchErrors(e)})},a.deleteLogo=function(){return a.setState({logo:""})},a.deleteCover=function(){return a.setState({cover:""})},a.editSubmit=function(e){e.preventDefault(),a.setState({loading:!0});var t=a.state,n=t.id,l=t.name,r=t.domain,o=t.slug,i=t.logo,c=t.cover;Pe(n,l,r,o,i,c).then(function(e){a.setState({alertIsOpen:!0,alertType:"edit"}),setTimeout(function(){a.setState({loading:!1,alertIsOpen:!1}),a.props.history.push({pathname:"/companies",state:{afterEditData:e.data}})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.deleteClick=function(){a.setState({deleteModalIsOpen:!0,alertIsOpen:!1})},a.deleteSubmit=function(){var e=a.state.id;a.setState({loading:!0,deleteModalIsOpen:!1,deleteModalLoading:!0,errorAlertIsOpen:!1}),je(e).then(function(){a.setState({deleteModalIsOpen:!1,deleteModalLoading:!1,alertType:"delete",alertIsOpen:!0}),setTimeout(function(){a.props.history.push({pathname:"/companies",state:{deletedId:e}}),a.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.generateSlug=function(){var e=a.state.name;a.setState({slug:re()(e,{replacement:"-",lower:!0})})},a.catchErrors=function(e){var t=e.response.data.error,n=t.name,l=t.statusCode,r=t.message;401===l?(localStorage.removeItem("ph-admin-user-data"),a.props.history.push("/login")):a.setState({errorAlertIsOpen:!0,loading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match;this.setState({loading:!0}),Re(t.params.id).then(function(t){var a=t.data,n=a.id,l=a.name,r=a.domain,o=a.slug,i=a.logo,c=a.cover;e.setState({id:n,name:l,oldName:l,domain:r,slug:o,logo:i,cover:c,loading:!1})}).catch(function(t){return e.catchErrors(t)})}},{key:"render",value:function(){var e=this.state,t=e.id,a=e.name,n=e.oldName,r=e.domain,o=e.slug,i=e.logo,c=e.cover,s=e.alertIsOpen,m=e.alertType,d=e.alertErrorText,u=e.errorAlertIsOpen,p=e.loading,h=e.deleteModalIsOpen,g=e.deleteModalLoading,v=e.logoLoading,f=e.coverLoading;return l.a.createElement("section",{className:"ph-detail-page  container"},l.a.createElement(we,{id:t,name:a,isOpen:h,deleteSubmit:this.deleteSubmit,modalLoading:g,closeModal:this.closeDeleteModal}),s&&l.a.createElement(De,{id:t,name:a,type:m,errorText:d,errorAlertIsOpen:u,closeErrorAlert:this.closeErrorAlert}),l.a.createElement("h4",{className:"ph-detail-page__title"},"Edit: ",l.a.createElement("b",null,n)),l.a.createElement("span",{className:"ion-close-round ph-detail-page__close",onClick:this.closeDetail}),p&&l.a.createElement("div",{className:"ph-detail-page__is-loading"},l.a.createElement(Se,null)),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:this.editSubmit},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-name"},"Company name"),l.a.createElement("input",{name:"name",value:a,id:"edit-name",onChange:this.onChange,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-domain"},"Website"),l.a.createElement("input",{name:"domain",value:r,id:"edit-domain",onChange:this.onChange,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-slug"},"Slug"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{name:"slug",value:o,id:"edit-slug",onChange:this.onChange,type:"text",className:"form-control"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:this.generateSlug,disabled:!a},"Generate")))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"edit-logo"},l.a.createElement("label",{htmlFor:"edit-logo"},"Logo"),v?l.a.createElement(Se,null):i?l.a.createElement("img",{className:"logo",src:i,alt:"logo"}):l.a.createElement("div",{className:"no-logo"},"No logo"),l.a.createElement("input",{id:"edit-logo",type:"file",className:"input-file-custom",ref:this.fileInputLogo,onChange:this.onUploadLogo}),l.a.createElement("label",{htmlFor:"edit-logo",className:"input-file-label  btn btn-light"},l.a.createElement("i",{className:"ion-image"}),"\xa0",l.a.createElement("span",null,"Load logo"))),l.a.createElement("div",{className:"edit-logo-url"},l.a.createElement("label",{htmlFor:"edit-logo-url"},"Logo URL"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{name:"logo",value:i&&i.includes("clearbit.com")?"":i,id:"edit-logo-url",onChange:this.onChange,type:"url",className:"form-control",placeholder:"Please, paste logo URL or load file"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:this.deleteLogo,disabled:!i},"Clear"))))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"edit-cover"},l.a.createElement("label",{htmlFor:"edit-cover"},"Cover"),f?l.a.createElement(Se,null):c?l.a.createElement("img",{className:"cover",src:c,alt:"cover"}):l.a.createElement("div",{className:"no-cover"},"No cover"),l.a.createElement("input",{id:"edit-cover",type:"file",className:"input-file-custom",ref:this.fileInputCover,onChange:this.onUploadCover}),l.a.createElement("label",{htmlFor:"edit-cover",className:"input-file-label  btn btn-light"},l.a.createElement("i",{className:"ion-image"}),"\xa0",l.a.createElement("span",null,"Load cover"))),l.a.createElement("div",{className:"edit-cover-url"},l.a.createElement("label",{htmlFor:"edit-cover-url"},"Cover URL"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{name:"cover",value:c,id:"edit-cover-url",onChange:this.onChange,type:"url",className:"form-control",placeholder:"Please, paste cover URL or load file"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:this.deleteCover,disabled:!c},"Clear"))))))),l.a.createElement("footer",{className:"ph-detail-page__buttons"},l.a.createElement(ge.a,{outline:!0,color:"danger",onClick:this.deleteClick},"Delete"),l.a.createElement(ge.a,{outline:!0,color:"secondary",onClick:this.closeDetail},"Cancel"),l.a.createElement(ge.a,{disabled:!a||!o||v||f,outline:!0,color:"primary",type:"submit"},"Save"))))))}}]),t}(l.a.Component),Je=a(116),Ue=a.n(Je),He=(a(227),[{Header:"Id",accessor:"id",width:60,style:{textAlign:"right"},Cell:function(e){var t=e.original.id;return l.a.createElement("div",{className:"ellipsis-text",title:t||""},t||"")},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Full name",accessor:"name",style:{fontWeight:"bold"},Cell:function(e){var t=e.original,a=t.id,n=t.name||"",r=t.surname||"";return l.a.createElement("div",{className:"table-column-name  ellipsis-text",title:"".concat(n," ").concat(r)},l.a.createElement(P.a,{to:"/users/".concat(a)},"".concat(n," ").concat(r)))},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Email",accessor:"email",Cell:function(e){var t=e.original,a=t.email;return a?l.a.createElement("div",{className:"ellipsis-text"},l.a.createElement("a",{href:"mailto:".concat(t.email),title:a,onClick:function(e){return e.stopPropagation()}},a)):""},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Role",accessor:"user_role_id",width:100,Cell:function(e){var t=e.original.user_role_id,a=t?(1===t?"Talent":2===t&&"Both")||3===t&&"Recruiter":"Null";return l.a.createElement("div",{className:"ellipsis-text",title:a},a)},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement("select",{onChange:function(e){return"Null"===e.target.value?a(null):a(e.target.value)},style:{width:"100%",height:"38px"},value:t?t.value:""},l.a.createElement("option",{value:""},"All"),l.a.createElement("option",{value:null},"Null"),l.a.createElement("option",{value:1},"Talent"),l.a.createElement("option",{value:2},"Both"),l.a.createElement("option",{value:3},"Recruiter"))}},{Header:"Created",accessor:"created",width:120,Cell:function(e){var t=e.original.created;return l.a.createElement("div",{className:"ellipsis-text",title:t&&t.substring(0,10)||""},l.a.createElement("span",null,t&&t.substring(0,10)||""))},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(Ue.a,{placeholderText:"Select date...",isClearable:!!t,className:"created-datepicker",selected:t?t.value:"",onChange:function(e){return a(e)}})}},{Header:"Access",accessor:"roles",width:110,filterable:!1,sortable:!1,Cell:function(e){var t=e.original.roles,a=t?t.map(function(e){return e.name}):[];return ie()(a)?null:l.a.createElement("span",{className:"roles-string"},a.join(", "))}}]),Ve=function(e){var t=e.name,a=e.surname,n=e.password,r=e.email,o=e.isOpen,i=e.closeModal,c=e.onChange,s=e.onSubmit,m=e.modalLoading;return l.a.createElement(Ne,{isOpen:o,modalLoading:m,closeModal:i},l.a.createElement("section",{className:"section-container add-container"},l.a.createElement("h4",{className:"add-container__title"},"Add user"),l.a.createElement("span",{className:"ion-close-round add-container__close",onClick:i}),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:s},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"add-name"},"Name"),l.a.createElement("input",{required:!0,autoComplete:"off",name:"name",value:t,id:"add-name",onChange:c,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"add-surname"},"Surname"),l.a.createElement("input",{required:!0,autoComplete:"off",name:"surname",value:a,id:"add-surname",onChange:c,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"add-password"},"Password"),l.a.createElement("input",{required:!0,autoComplete:"off",name:"password",value:n,id:"add-password",onChange:c,type:"password",className:"form-control"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"add-email"},"Email"),l.a.createElement("input",{required:!0,autoComplete:"off",name:"email",value:r,id:"add-email",onChange:c,type:"email",className:"form-control"})))),m?l.a.createElement("div",{className:"add-container__is-loading"},l.a.createElement(Se,null)):l.a.createElement("footer",{className:"add-container__buttons"},l.a.createElement(ge.a,{outline:!0,color:"secondary",onClick:i},"Cancel"),l.a.createElement(ge.a,{disabled:!t,outline:!0,color:"primary",type:"submit"},"Save")))))))},qe=function(e){var t=e.isOpen,a=e.modalLoading,n=e.closeModal,r=e.id,o=e.name,i=e.surname,c=e.deleteSubmit;return l.a.createElement(Oe,{isOpen:t,modalLoading:a,closeModal:n},l.a.createElement("section",{className:"section-container delete-container"},l.a.createElement("span",{className:"ion-close-round ReactModal__delete__close",onClick:n}),l.a.createElement("div",{className:"ReactModal__delete__title"},l.a.createElement("span",null,"Are you sure you want to delete ")," ",l.a.createElement("br",null),l.a.createElement("span",null,r," - ",l.a.createElement("b",null,"".concat(o," ").concat(i)),"?")),a?l.a.createElement("div",{className:"ReactModal__delete__is-loading"},l.a.createElement(Se,null)):l.a.createElement("footer",{className:"ReactModal__delete__buttons"},l.a.createElement(ge.a,{outline:!0,color:"secondary",onClick:n},"Cancel"),l.a.createElement(ge.a,{outline:!0,color:"danger",onClick:c},"Delete"))))},Be=a(650),We=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,a=e.pageSize,n=e.page,l=e.filtered,r=e.sorted,o={where:{},limit:a,skip:n*a,order:"id DESC"};return l.forEach(function(e){if("id"===e.id)o.where[e.id]=e.value;else if("name"===e.id)o.where={or:[{name:{like:"%".concat(e.value,"%")}},{surname:{like:"%".concat(e.value,"%")}}]};else if("user_role_id"===e.id)e.value?o.where[e.id]=Number(e.value):o.where[e.id]=null;else if("created"===e.id){var t=e.value&&Object(Be.default)(e.value,"yyyy-MM-dd");if(t)return o.where.created={gt:t};o.order=e.value?"created DESC":"id DESC"}else o.where[e.id]={like:"%"+e.value+"%"}}),r.forEach(function(e){var t=e.desc?"DESC":"ASC";o.order="".concat(e.id," ").concat(t)}),k.a.get("".concat(_,"/").concat(A,"/users"),{params:{filter:o},headers:{Authorization:t}})},Ge=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,a=e.filtered,n={};return a.forEach(function(e){if("id"===e.id)n[e.id]=e.value;else if("name"===e.id)n.or=[{name:{like:"%".concat(e.value,"%")}},{surname:{like:"%".concat(e.value,"%")}}];else if("user_role_id"===e.id)e.value?n[e.id]=Number(e.value):n[e.id]=null;else if("created"===e.id){var t=e.value&&Object(Be.default)(e.value,"yyyy-MM-dd");if(t)return n.created={gt:t}}else n[e.id]={like:"%"+e.value+"%"}}),k.a.get("".concat(_,"/").concat(A,"/users/count"),{params:{where:n},headers:{Authorization:t}})},Qe=function(e,t,a,n){var l=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.post("".concat(_,"/").concat(A,"/users"),{name:e,surname:t,password:a,email:n},{headers:{Authorization:l}})},Ye=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.delete("".concat(_,"/").concat(A,"/users/").concat(e),{headers:{Authorization:t}})},Ze=_e(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={users:[],usersCount:null,tableLoading:!1,count:null,alertIsOpen:!1,alertType:"",alertErrorText:"",errorAlertIsOpen:!1,id:null,name:"",surname:"",password:"",email:"",deleteModalLoading:!1,deleteModalIsOpen:!1,addModalIsOpen:!1,addModalLoading:!1},a.deleteClick=function(e){return function(){var t=e.id,n=e.name;a.setState({id:t,name:n,deleteModalIsOpen:!0,alertIsOpen:!1})}},a.deleteSubmit=function(){var e=[],t=a.state,n=t.users,l=t.id;a.setState({deleteModalLoading:!0,errorAlertIsOpen:!1}),Ye(l).then(function(){for(var t=0;t<n.length;t++)n[t].id!==l&&e.push(n[t]);a.setState({users:e,deleteModalIsOpen:!1,deleteModalLoading:!1,alertType:"delete",alertIsOpen:!0}),setTimeout(function(){a.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.onChange=function(e){return a.setState(Object(L.a)({},e.target.name,e.target.value))},a.addClick=function(){a.setState({addModalIsOpen:!0,alertIsOpen:!1,name:"",surname:"",password:"",email:""})},a.addSubmit=function(e){e.preventDefault(),a.setState({addModalLoading:!0,errorAlertIsOpen:!1});var t=a.state,n=t.name,l=t.surname,r=t.password,o=t.email,i=t.users;Qe(n,l,r,o).then(function(e){var t=[e.data].concat(i);a.setState({alertType:"add",alertIsOpen:!0,users:t}),setTimeout(function(){a.setState({alertIsOpen:!1,addModalLoading:!1,addModalIsOpen:!1}),a.props.history.push("/users/".concat(e.data.id))},2e3)}).catch(function(e){return a.catchErrors(e)})},a.closeAddModal=function(){!a.state.addModalLoading&&a.setState({addModalIsOpen:!1})},a.closeDeleteModal=function(){!a.state.deleteModalLoading&&a.setState({deleteModalIsOpen:!1})},a.closeErrorAlert=function(){return a.setState({errorAlertIsOpen:!1})},a.catchErrors=function(e){var t=e.response.data.error,n=t.name,l=t.statusCode,r=t.message;401===l?(localStorage.removeItem("ph-admin-user-data"),a.props.history.push("/login")):a.setState({errorAlertIsOpen:!0,addModalLoading:!1,deleteModalLoading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.setHeaderTitle("Users")}},{key:"componentWillReceiveProps",value:function(){var e=(this.props.history.location.state||{}).afterEditData;if(!ie()(e)){for(var t=this.state.users,a=0;a<t.length;a++)t[a].id===e.id&&(t[a]={id:e.id,name:e.name,surname:e.surname,email:e.email,job_title:e.job_title,emailVerified:e.emailVerified,admin:e.admin,status:e.status,banned:e.banned,experience:e.experience.value,image:e.image,skills:e.skills,created:e.created,emailSettings:e.emailSettings,emailJobApplication:e.emailJobApplication,emailMarketing:e.emailMarketing,seniority_id:e.seniority_id,seniority:e.seniority,location_id:e.location_id,location:e.location,userRole:e.userRole,user_role_id:e.user_role_id,roles:e.roles,role:e.role,role_id:e.role_id,company:e.company,company_id:e.company_id});this.setState({users:t})}var n=(this.props.history.location.state||{}).deletedId;if(n){for(var l=this.state,r=l.users,o=l.usersCount,i=l.count,c=[],s=0;s<r.length;s++)r[s].id!==n&&c.push(r[s]);this.setState({users:c,usersCount:o-1,count:i-1})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.users,n=t.usersCount,r=t.count,o=t.tableLoading,i=t.alertIsOpen,c=t.alertType,s=t.alertErrorText,m=t.addModalIsOpen,d=t.addModalLoading,u=t.deleteModalLoading,p=t.deleteModalIsOpen,h=t.id,g=t.name,v=t.surname,f=t.password,E=t.email,b=[{Header:"",width:30,sortable:!1,filterable:!1,Cell:function(t){var a=t.original;return l.a.createElement("div",{className:"rt-custom__controls"},l.a.createElement("i",{className:"ion-android-delete",onClick:e.deleteClick(a)}))}}];return l.a.createElement("div",{className:"users-page"},l.a.createElement("p",{className:"md-lg"},"Total records:\xa0",l.a.createElement("b",null,r&&ke(this.state.count))),l.a.createElement(Ee,{text:"user",loading:d,addClick:this.addClick}),i&&l.a.createElement(De,{type:c,id:h,name:g,errorText:s}),l.a.createElement(Ve,{name:g,surname:v,password:f,email:E,isOpen:m,modalLoading:d,closeModal:this.closeAddModal,onChange:this.onChange,onSubmit:this.addSubmit}),l.a.createElement(qe,{id:h,name:g,surname:v,isOpen:p,deleteSubmit:this.deleteSubmit,modalLoading:u,closeModal:this.closeDeleteModal}),l.a.createElement(se,{data:a,manual:!0,pages:n,loading:o,columns:[].concat(Object(ne.a)(He),b),getTheadFilterThProps:function(e,t,a){return{style:{overflow:"visible"}}},onFetchData:function(t){e.setState({tableLoading:!0}),Ge(t).then(function(a){e.setState({count:a.data.count,usersCount:Math.ceil(a.data.count/t.pageSize)}),We(t).then(function(t){return e.setState({users:t.data,tableLoading:!1})}).catch(function(t){return e.catchErrors(t)})}).catch(function(t){return e.catchErrors(t)})}}))}}]),t}(l.a.Component)),Ke=a(85),$e=a(78),Xe=a(38),et=a(55),tt=(a(231),function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/users/").concat(e,"/applied-jobs"),{headers:{Authorization:t}})}),at=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],loading:!1},a.catchErrors=function(e){var t=e.response.data.error,n=t.name,l=t.statusCode,r=t.message;401===l?(localStorage.removeItem("ph-admin-user-data"),a.props.history.push("/login")):a.setState({errorAlertIsOpen:!0,loading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0});var t=this.props.id;tt(t).then(function(t){var a=t.data;console.log(a),e.setState({data:a,loading:!1})}).catch(function(t){return e.catchErrors(t)})}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.loading,n=this.props,r=n.name,o=n.surname,i=n.email;return l.a.createElement("div",{className:"applied-container"},l.a.createElement("h4",{className:"ph-detail-page__title"},"Jobs Applied"),l.a.createElement("div",{className:"ph-detail-page__subtitle"},l.a.createElement("span",null,"".concat(r," ").concat(o)),"\xa0",l.a.createElement("a",{href:"mailto:".concat(i)},i)),a?l.a.createElement("div",{className:"ph-detail-page__is-loading"},l.a.createElement(Se,null)):t.map(function(e){return l.a.createElement("div",{className:"cardbox  applied-container__item",key:e.id},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6 applied-container__title"},l.a.createElement("b",null,l.a.createElement(D.a,{to:"/jobs/".concat(e.vacancy.id),title:"/jobs/".concat(e.vacancy.id),target:"_blank"},e.vacancy.name))),l.a.createElement("div",{className:"col-sm-6  text-right applied-container__locations"},l.a.createElement("b",null,l.a.createElement(D.a,{style:{fontWeight:"normal"},to:"/companies/".concat(e.vacancy.company.id),title:"/companies/".concat(e.vacancy.company.id),target:"_blank"},e.vacancy.company.name)),l.a.createElement("ul",{className:"locations-list"},e.vacancy.locations.map(function(e){return e.alias_region?l.a.createElement("li",null,"".concat(e.name,", ").concat(e.alias_region)):l.a.createElement("li",null,e.name)}))),l.a.createElement("div",{className:"col-md-3  applied-container__date"},l.a.createElement("b",null,"Applied"),l.a.createElement("br",null),l.a.createElement("span",null,"".concat(e.created.substring(0,10))||"")),l.a.createElement("div",{className:"col-md-3  applied-container__phone"},l.a.createElement("b",null,"Phone"),l.a.createElement("br",null),l.a.createElement("a",{href:"tel:".concat(e.phone)},e.phone||"")),l.a.createElement("div",{className:"col-md-6"}),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("b",null,"How do you know you are an amazing fit for this role?"),l.a.createElement("p",{style:{marginTop:"5px"}},e.vacancy.description)),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("a",{download:!0,style:{fontWeight:"bold"},href:"".concat(_,"/").concat(e.url),title:"Click to download",target:"_blank"},"Download CV"))))}))}}]),t}(l.a.Component),nt=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/users/").concat(e),{headers:{Authorization:t}})},lt=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,a=e.id,n=e.name,l=e.surname,r=e.email,o=e.job_title,i=e.emailVerified,c=e.admin,s=e.banned,m=e.experience,d=e.image,u=e.skills,p=e.emailSettings,h=e.emailJobApplication,g=e.emailMarketing,v=e.seniority_id,f=e.location_id,E=e.user_role_id,b=e.role_id,y=e.company_id;return k.a.patch("".concat(_,"/").concat(A,"/users/").concat(a),{name:n,surname:l,email:r,job_title:o,emailVerified:i,admin:c,banned:s,experience:m.value,image:d,skills:u,emailSettings:p,emailJobApplication:h,emailMarketing:g,seniority_id:v,location_id:f,user_role_id:E,role_id:b,company_id:y,modified:"".concat((new Date).toISOString())},{headers:{Authorization:t}})},rt=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/skills"),{params:{filter:{where:{name:{like:"%".concat(e,"%")}},limit:50}},headers:{Authorization:t}})},ot=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/locations/").concat(e),{params:{filter:{limit:1}},headers:{Authorization:t}})},it=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/locations"),{params:{filter:{where:{or:[{name:{like:"%".concat(e,"%")}},{country:{like:"%".concat(e,"%")}}]},limit:50}},headers:{Authorization:t}})},ct=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/vacancy_roles/").concat(e),{params:{filter:{limit:1}},headers:{Authorization:t}})},st=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/vacancy_roles"),{params:{filter:{where:{name:{like:"%".concat(e,"%")}},limit:10}},headers:{Authorization:t}})},mt=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/user_roles"),{params:{filter:{where:{name:{like:"%".concat(e,"%")}},limit:10}},headers:{Authorization:t}})},dt=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/companies/").concat(e),{params:{filter:{limit:1}},headers:{Authorization:t}})},ut=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/companies"),{params:{filter:{where:{name:{like:"%".concat(e,"%")}},limit:30}},headers:{Authorization:t}})},pt=function(e,t){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.post("".concat(_,"/").concat(A,"/users/").concat(t,"/uploadImage"),e,{headers:{Authorization:a}})},ht=[{value:1,label:"Junior"},{value:2,label:"Mid level"},{value:3,label:"Senior"},{value:4,label:"Managment"}],gt=[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"}],vt=(a(513),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).fileInputImage=l.a.createRef(),a.state={id:null,name:"",oldName:"",surname:"",password:"",email:"",job_title:"",emailVerified:!1,admin:!1,status:!0,banned:!1,experience:{value:0,label:"0"},skills:[],created:"",modified:"",emailSettings:!0,emailJobApplication:!0,emailMarketing:!0,seniority:{},seniority_id:null,location:{id:null,name:"",alias_region:""},location_id:null,userRole:{id:null,name:""},user_role_id:null,roles:[],role:{id:null,name:""},role_id:null,company:{id:null,name:""},company_id:null,image:{url:"",icon:"",color:""},imageLoading:!1,alertIsOpen:!1,alertType:"",alertErrorText:"",loading:!1,tabIndex:0,appliedCount:null,deleteModalIsOpen:!1,deleteModalLoading:!1},a.onChange=function(e){"checkbox"===e.target.type?a.setState(Object(L.a)({},e.target.name,e.target.checked)):a.setState(Object(L.a)({},e.target.name,e.target.value))},a.onChangeImage=function(e){a.setState({image:{url:"".concat(e.target.value)}})},a.onChangeSkills=function(e){return a.setState({skills:e})},a.onChangeExperience=function(e){return a.setState({experience:e})},a.onChangeSeniority=function(e){a.setState({seniority:e,seniority_id:e.value})},a.onChangeLocation=function(e){a.setState({location:e,location_id:e.id})},a.onChangeUserRole=function(e){a.setState({userRole:e,user_role_id:e.id})},a.onChangeRole=function(e){a.setState({role:e,role_id:e.id})},a.onChangeCompany=function(e){a.setState({company:e,company_id:e.id})},a.onChangeRoles=function(e){var t=e.target.name,n=a.state,l=n.admin,r=n.banned;"admin"===t&&a.setState({admin:!l,roles:[{name:l?"":"admin"},{name:r?"banned":""}]}),"banned"===t&&a.setState({banned:!r,roles:[{name:l?"admin":""},{name:r?"":"banned"}]})},a.closeDetail=function(){return a.props.history.push("/users")},a.closeErrorAlert=function(){return a.setState({errorAlertIsOpen:!1})},a.closeDeleteModal=function(){!a.state.deleteModalLoading&&a.setState({deleteModalIsOpen:!1})},a.closeErrorAlert=function(){return a.setState({errorAlertIsOpen:!1})},a.onUploadImage=function(e){e.preventDefault(),a.setState({imageLoading:!0});var t=new FormData,n=a.state.id,l=a.fileInputImage.current.files[0];t.append("file",l),pt(t,n).then(function(e){a.setState({image:{url:"".concat(_).concat(e.data.file.url)},imageLoading:!1})}).catch(function(e){return a.catchErrors(e)})},a.onDeleteImage=function(){return a.setState({image:{url:""}})},a.editSubmit=function(e){e.preventDefault(),a.setState({loading:!0,errorAlertIsOpen:!1});var t=Object(Ke.a)(Object(Ke.a)(a)).state;lt(t).then(function(e){a.setState({alertIsOpen:!0,alertType:"edit"}),setTimeout(function(){a.setState({loading:!1,alertIsOpen:!1}),a.props.history.push({pathname:"/users",state:{afterEditData:e.data}})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.deleteClick=function(){a.setState({deleteModalIsOpen:!0,alertIsOpen:!1})},a.deleteSubmit=function(){var e=a.state.id;a.setState({loading:!0,deleteModalIsOpen:!1,deleteModalLoading:!0,errorAlertIsOpen:!1}),Ye(e).then(function(){a.setState({deleteModalIsOpen:!1,deleteModalLoading:!1,alertType:"delete",alertIsOpen:!0}),setTimeout(function(){a.props.history.push({pathname:"/users",state:{deletedId:e}}),a.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.catchErrors=function(e){var t=e.response.data.error,n=t.name,l=t.statusCode,r=t.message;401===l?(localStorage.removeItem("ph-admin-user-data"),a.props.history.push("/login")):a.setState({errorAlertIsOpen:!0,loading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match;this.setState({loading:!0}),nt(t.params.id).then(function(t){var a=t.data;e.setState({loading:!1,id:a.id,name:a.name,oldName:"".concat(a.name," ").concat(a.surname),surname:a.surname,email:a.email,job_title:a.job_title,emailVerified:a.emailVerified,status:a.status,experience:{value:a.experience?Number(a.experience):0,label:a.experience?"".concat(a.experience):"0"},image:a.image,skills:a.skills,created:a.created,modified:a.modified,emailSettings:a.emailSettings,emailJobApplication:a.emailJobApplication,emailMarketing:a.emailMarketing,seniority_id:a.seniority_id,location_id:a.location_id,user_role_id:a.user_role_id,userRole:a.userRole,role_id:a.role_id,roles:a.roles,company_id:a.company_id});var n=e.state.roles;n&&n.map(function(t){return"admin"===t.name&&e.setState({admin:!0})}),n&&n.map(function(t){return"banned"===t.name&&e.setState({banned:!0})});var l=e.state.seniority_id;l?ht.map(function(t){t.value===l&&e.setState({seniority:t})}):e.setState({seniority:{}})}).then(function(){var t=e.state.location_id;e.setState({location:{id:null,name:"Loading ...",alias_region:""}}),t?ot(t).then(function(t){e.setState({location:t.data,location_id:t.data.id})}):e.setState({location:{id:null,name:"",alias_region:""}});var a=e.state.role_id;e.setState({role:{id:null,name:"Loading..."}}),a?ct(a).then(function(t){e.setState({role:t.data,role_id:t.data.id})}):e.setState({role:{id:null,name:""}});var n=e.state.company_id;e.setState({company:{id:null,name:"Loading..."}}),n?dt(n).then(function(t){e.setState({company:t.data,company_id:t.data.id})}):e.setState({company:{id:null,name:""}})}).catch(function(t){return e.catchErrors(t)}),tt(t.params.id).then(function(t){e.setState({appliedCount:t.data.length>0?t.data.length:0})}).catch(function(t){return e.catchErrors(t)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.id,n=t.name,r=t.oldName,o=t.surname,i=t.email,c=t.job_title,s=t.emailVerified,m=t.admin,d=(t.status,t.banned),u=t.experience,p=t.skills,h=t.created,g=t.modified,v=t.emailSettings,f=t.emailJobApplication,E=t.emailMarketing,b=t.seniority_id,y=t.seniority,N=t.location,S=t.location_id,C=t.userRole,O=t.user_role_id,w=(t.roles,t.role),k=t.role_id,_=t.company,A=t.company_id,x=t.image,I=t.imageLoading,j=t.deleteModalIsOpen,L=t.deleteModalLoading,M=t.alertIsOpen,T=t.alertType,F=t.alertErrorText,D=t.errorAlertIsOpen,R=t.loading,P=t.tabIndex,z=t.appliedCount;return l.a.createElement("section",{className:"ph-detail-page  container  edit-user"},M&&l.a.createElement(De,{id:a,name:n,type:T,errorText:F,errorAlertIsOpen:D,closeErrorAlert:this.closeErrorAlert}),l.a.createElement(qe,{isOpen:j,modalLoading:L,closeModal:this.closeDeleteModal,id:a,name:n,surname:o,deleteSubmit:this.deleteSubmit}),l.a.createElement("h4",{className:"ph-detail-page__title"},"Edit: ",l.a.createElement("b",null,r)),l.a.createElement("span",{className:"ion-close-round ph-detail-page__close",onClick:this.closeDetail}),R&&l.a.createElement("div",{className:"ph-detail-page__is-loading"},l.a.createElement(Se,null)),l.a.createElement(et.d,{selectedIndex:P,onSelect:function(t){return e.setState({tabIndex:t})}},l.a.createElement(et.b,null,l.a.createElement(et.a,null,"Edit user"),l.a.createElement(et.a,null,"View Jobs Applied ",l.a.createElement("b",null,"(",z||" ",")"))),l.a.createElement(et.c,null,l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:this.editSubmit},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-3  edit-user__left"},l.a.createElement("div",{className:"edit-image"},l.a.createElement("label",{htmlFor:"edit-image",className:"edit-image__label"},"Profile photo"),I?l.a.createElement(Se,null):!ie()(x)&&x.url?l.a.createElement("img",{className:"image",src:"".concat(x.url),alt:"image"}):l.a.createElement("div",{className:"no-image"},"No image"),l.a.createElement("input",{id:"edit-image",type:"file",className:"input-file-custom",ref:this.fileInputImage,onChange:this.onUploadImage}),l.a.createElement("div",{className:"edit-image__buttons"},l.a.createElement("label",{htmlFor:"edit-image",className:"input-file-label  btn btn-light"},l.a.createElement("i",{className:"ion-image"}),"\xa0",l.a.createElement("span",null,"Choose a file")),l.a.createElement(ge.a,{disabled:!x.url,outline:!0,color:"danger",onClick:this.onDeleteImage},"Delete photo"))),l.a.createElement("div",{className:"edit-image-url",hidden:!0},l.a.createElement("label",{htmlFor:"edit-image-url"},"Image URL"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{name:"image",value:!ie()(x)&&x.url?x.url:"",id:"edit-image-url",onChange:this.onChangeImage,type:"url",className:"form-control",placeholder:"Please, paste image URL or load file"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:this.deleteImage,disabled:!ie()(x)&&!x.url},"Clear")))),l.a.createElement("div",{className:"created"},l.a.createElement("label",{htmlFor:"edit-created"},"Created"),l.a.createElement("input",{disabled:!0,name:"created",value:h&&"".concat(h.substring(0,10),", ").concat(h.substring(11,16),"UTC"),id:"edit-created",type:"text",className:"form-control"})),l.a.createElement("div",{className:"modified"},l.a.createElement("label",{htmlFor:"edit-modified"},"Modified"),l.a.createElement("input",{disabled:!0,name:"modified",value:g&&"".concat(g.substring(0,10),", ").concat(g.substring(11,16),"UTC"),id:"edit-modified",type:"text",className:"form-control"})),l.a.createElement("div",{className:"admin"},l.a.createElement("label",{htmlFor:"edit-modified"},"Admin status"),l.a.createElement("div",{className:"custom-checkbox"},l.a.createElement("label",{className:"switch switch-warn switch-primary"},l.a.createElement("input",{id:"edit-admin",name:"admin",type:"checkbox",checked:m,onChange:this.onChangeRoles}),l.a.createElement("span",null)),l.a.createElement("label",{htmlFor:"edit-admin",style:{fontWeight:"normal",paddingLeft:0,marginBottom:0}},m?"Site admin":"Not an admin")))),l.a.createElement("div",{className:"col-md-9  edit-user__right"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-name"},"Name"),l.a.createElement("input",{required:!0,name:"name",value:n,id:"edit-name",onChange:this.onChange,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-name"},"Last name"),l.a.createElement("input",{required:!0,name:"surname",value:o,id:"edit-surname",onChange:this.onChange,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-location_id"},"Location"),l.a.createElement("input",{hidden:!0,name:"location_id",value:S,id:"edit-location_id",onChange:this.onChange,type:"number",className:"form-control"}),l.a.createElement(Xe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return it(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return l.a.createElement("div",null,l.a.createElement("span",null,"".concat(e.name&&e.name+", "," ")),l.a.createElement("span",{style:{color:"#3498db",textShadow:"1px 1px 0 #fff"}},e.alias_region))},value:N,onChange:this.onChangeLocation})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-email"},"Email"),l.a.createElement("input",{required:!0,name:"email",value:i,id:"edit-email",onChange:this.onChange,type:"email",className:"form-control"})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-emailVerified"},"Email verified"),l.a.createElement("div",{className:"custom-checkbox"},l.a.createElement("label",{className:"switch switch-warn switch-primary"},l.a.createElement("input",{id:"edit-emailVerified",name:"emailVerified",type:"checkbox",checked:s,onChange:this.onChange}),l.a.createElement("span",null)),l.a.createElement("label",{htmlFor:"edit-emailVerified",style:{fontWeight:"normal",paddingLeft:0,marginBottom:0}},s?"Verified":"Not verified"))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-banned"},"User activity"),l.a.createElement("div",{className:"custom-checkbox"},l.a.createElement("label",{className:"switch switch-warn switch-success"},l.a.createElement("input",{id:"edit-banned",name:"banned",type:"checkbox",checked:!d,onChange:this.onChangeRoles}),l.a.createElement("span",null)),l.a.createElement("label",{htmlFor:"edit-banned",style:{fontWeight:"normal",paddingLeft:0,marginBottom:0}},d?l.a.createElement("span",{style:{color:"#F44336"}},"Blocked"):l.a.createElement("span",{style:{color:"#4CAF50"}},"Active")))),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("label",{htmlFor:"edit-skills"},"Skills"),l.a.createElement(Xe.a,{isMulti:!0,menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return rt(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},onChange:this.onChangeSkills,value:p})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-company_id"},"Current company"),l.a.createElement("input",{hidden:!0,name:"company_id",value:A,id:"edit-company_id",onChange:this.onChange,type:"number",className:"form-control"}),l.a.createElement(Xe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return ut(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},value:_,onChange:this.onChangeCompany})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-job_title"},"Job title"),l.a.createElement("input",{name:"job_title",value:c,id:"edit-job_title",onChange:this.onChange,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-role_id"},"Product role"),l.a.createElement("input",{hidden:!0,name:"role_id",value:k,id:"edit-role_id",onChange:this.onChange,type:"number",className:"form-control"}),l.a.createElement(Xe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return st(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},value:w,onChange:this.onChangeRole})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-seniority_id"},"Seniority"),l.a.createElement("input",{hidden:!0,name:"seniority_id",value:b,id:"edit-seniority_id",onChange:this.onChange,type:"number",className:"form-control"}),l.a.createElement($e.a,{value:y,onChange:this.onChangeSeniority,options:ht})),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("label",{htmlFor:"edit-experience"},"Experience"),l.a.createElement("input",{hidden:!0,required:!0,min:0,max:50,name:"experience",value:u.value,id:"edit-experience",onChange:this.onChange,type:"number",className:"form-control"}),l.a.createElement($e.a,{value:u,onChange:this.onChangeExperience,options:gt})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"edit-user_role_id"},"Main reason for using ProductHired"),l.a.createElement("input",{hidden:!0,name:"user_role",value:O,id:"edit-user_role",onChange:this.onChange,type:"number",className:"form-control"}),l.a.createElement(Xe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return mt(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},value:C,onChange:this.onChangeUserRole})),l.a.createElement("div",{className:"col-md-9  notifications"},l.a.createElement("label",null,"Notifications"),l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"edit-emailSettings",name:"emailSettings",checked:v,onChange:this.onChange}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"edit-emailSettings",style:{fontWeight:"normal"}},"When account settings have been modified")),l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"edit-emailJobApplication",name:"emailJobApplication",checked:f,onChange:this.onChange}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"edit-emailJobApplication",style:{fontWeight:"normal"}},"When job settings has been viewed")),l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"edit-emailMarketing",name:"emailMarketing",checked:E,onChange:this.onChange}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"edit-emailMarketing",style:{fontWeight:"normal"}},"Allow receiving marketing emails"))))))),l.a.createElement("footer",{className:"ph-detail-page__buttons"},l.a.createElement(ge.a,{outline:!0,color:"danger",onClick:this.deleteClick},"Delete"),l.a.createElement(ge.a,{outline:!0,color:"secondary",onClick:this.closeDetail},"Cancel"),l.a.createElement(ge.a,{disabled:!n||I,outline:!0,color:"primary",type:"submit"},"Save")))))),l.a.createElement(et.c,null,l.a.createElement(at,{id:a,name:n,surname:o,email:i}))))}}]),t}(l.a.Component)),ft=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/users"),{params:{filter:{where:{or:[{name:{like:"%".concat(e,"%")}},{surname:{like:"%".concat(e,"%")}},{email:{like:"%".concat(e,"%")}}]},limit:10}},headers:{Authorization:t}})},Et=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/companies"),{params:{filter:{where:{name:{like:"%".concat(e,"%")}},limit:10}},headers:{Authorization:t}})},bt=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/locations"),{params:{filter:{where:{name:{like:"%".concat(e,"%")}},limit:50}},headers:{Authorization:t}})},yt=[{value:null,label:"Null"},{value:1,label:"Free"},{value:2,label:"Bronze"},{value:3,label:"Silver"},{value:4,label:"Gold"}],Nt=(a(515),{menu:function(e){return Object(M.a)({},e,{textAlign:"left",width:320})},control:function(e){return Object(M.a)({},e,{padding:0,border:"1px solid rgba(0,0,0,0.1)"})},option:function(e,t){return Object(M.a)({},e,{borderBottom:"1px solid rgba(0,0,0,0.1)",minHeight:"22px"})}}),St={menu:function(e){return Object(M.a)({},e,{textAlign:"left"})},control:function(e){return Object(M.a)({},e,{padding:0,border:"1px solid rgba(0,0,0,0.1)"})},option:function(e,t){return Object(M.a)({},e,{borderBottom:"1px solid rgba(0,0,0,0.1)",minHeight:"22px"})}},Ct=[{Header:"Id",accessor:"id",width:65,style:{textAlign:"right"},Cell:function(e){var t=e.original.id;return l.a.createElement("div",{className:"ellipsis-text",title:t||""},t||"")},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",minHeight:"38px"},debounceTimeout:800})}},{Header:"Job",accessor:"name",style:{fontWeight:"bold"},Cell:function(e){var t=e.original,a=t.id,n=t.name;return l.a.createElement("div",{className:"table-column-name  ellipsis-text",title:n||""},l.a.createElement(P.a,{to:"/jobs/".concat(a)},n||""))},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",minHeight:"38px"},debounceTimeout:800})}},{Header:"Company",accessor:"company",sortable:!1,width:200,Cell:function(e){var t=e.original.company;return t?l.a.createElement("div",{className:"ellipsis-text",title:t.name},t.name):""},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(Xe.a,{className:"jobs-company-select",placeholder:"Select companies...",isMulti:!0,isClearable:!0,styles:St,menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return Et(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return l.a.createElement("div",{title:"".concat(e.name,", ").concat(e.domain)},e.name||"")},onChange:a,value:t?t.value:""})}},{Header:"Locations",accessor:"locations",width:200,sortable:!1,Cell:function(e){var t=e.original.locations,a=function(){return t.map(function(e){return e.alias_region?"".concat(e.name,", ").concat(e.alias_region):e.name}).join("; ")||""};return t&&l.a.createElement("div",{className:"text-ellipsis",title:a()},a())},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(Xe.a,{className:"jobs-locations-select",placeholder:"Select locations...",isMulti:!0,isClearable:!0,styles:St,menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return bt(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return l.a.createElement("div",null,l.a.createElement("span",null,"".concat(e.name,", ")||""),l.a.createElement("span",{style:{color:"#3498db",textShadow:"1px 1px 0 #fff"}},e.alias_region||""))},onChange:a,value:t?t.value:""})}},{Header:"User",accessor:"employer",width:150,sortable:!1,Cell:function(e){var t=e.original.employer,a=t.name,n=t.surname,r=t.email;return l.a.createElement("div",{title:"".concat(a," ").concat(n,", ").concat(r)||"",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},"".concat(a," ").concat(n)||"")},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(Xe.a,{className:"jobs-user-select",placeholder:"Select user...",isClearable:!0,styles:Nt,menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return ft(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return l.a.createElement("div",null,l.a.createElement("span",null,"".concat(e.name," ").concat(e.surname,", ")),l.a.createElement("span",{style:{color:"#3498db",textShadow:"1px 1px 0 #fff"}},e.email))},onChange:a,value:t?t.value:""})}},{Header:"Status",accessor:"status",width:85,Cell:function(e){var t=e.original.status;return l.a.createElement("div",{className:"ellipsis-text",title:t||""},t||"")},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement("select",{onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},value:t?t.value:""},l.a.createElement("option",{value:""},"All"),l.a.createElement("option",{value:"draft"},"Draft"),l.a.createElement("option",{value:"public"},"Public"),l.a.createElement("option",{value:"expired"},"Expired"))}},{Header:"Plan",accessor:"plan_id",width:85,Cell:function(e){var t=e.original.plan_id;return yt.map(function(e){return t===e.value&&l.a.createElement("div",{className:"ellipsis-text",title:e.label},e.label)})},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement("select",{onChange:function(e){return"Null"===e.target.value?a(null):a(Number(e.target.value))},style:{width:"100%",height:"38px"},value:t?t.value:""},l.a.createElement("option",{value:""},"All"),l.a.createElement("option",{value:null},"Null"),l.a.createElement("option",{value:1},"Free"),l.a.createElement("option",{value:2},"Bronze"),l.a.createElement("option",{value:3},"Silver"),l.a.createElement("option",{value:4},"Gold"),l.a.createElement("option",{value:5},"All paid"))}},{Header:"Created",accessor:"created",width:120,Cell:function(e){var t=e.original.created;return l.a.createElement("div",{className:"ellipsis-text",title:t&&t.substring(0,10)||""},l.a.createElement("span",null,t&&t.substring(0,10)||""))},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(Ue.a,{placeholderText:"Select date...",isClearable:!!t,className:"created-datepicker",selected:t?t.value:"",onChange:function(e){return a(e)}})}},{Header:"Published",accessor:"published",width:120,Cell:function(e){var t=e.original.published;return l.a.createElement("div",{className:"ellipsis-text",title:t&&t.substring(0,10)||""},l.a.createElement("span",null,t&&t.substring(0,10)||""))},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(Ue.a,{placeholderText:"Select date...",isClearable:!!t,popperPlacement:"top-end",className:"published-datepicker",selected:t?t.value:"",onChange:function(e){return a(e)}})}}],Ot=function(e){var t=e.name,a=e.company,n=e.user,r=e.isOpen,o=e.closeModal,i=e.onChange,c=e.onSubmit,s=e.modalLoading,m=e.onChangeCompany,d=e.onChangeUser;return l.a.createElement(Ne,{isOpen:r,modalLoading:s,closeModal:o},l.a.createElement("section",{className:"section-container add-container"},l.a.createElement("h4",{className:"add-container__title"},"Add job"),l.a.createElement("span",{className:"ion-close-round add-container__close",onClick:o}),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:c},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("label",{htmlFor:"add-name"},"Job title"),l.a.createElement("input",{required:!0,autoComplete:"off",name:"name",value:t,id:"add-name",onChange:i,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"add-surname"},"Company"),l.a.createElement(Xe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return Et(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},onChange:m,value:a})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"add-password"},"User"),l.a.createElement(Xe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return ft(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return l.a.createElement("div",null,l.a.createElement("span",null,"".concat(e.name," ").concat(e.surname," ")),l.a.createElement("span",{style:{color:"#1976D2"}},e.email))},onChange:d,value:n})))),s?l.a.createElement("div",{className:"add-container__is-loading"},l.a.createElement(Se,null)):l.a.createElement("footer",{className:"add-container__buttons"},l.a.createElement(ge.a,{outline:!0,color:"secondary",onClick:o},"Cancel"),l.a.createElement(ge.a,{disabled:!t||!a.name||!n.name,outline:!0,color:"primary",type:"submit"},"Save")))))))},wt=function(e){var t=e.isOpen,a=e.modalLoading,n=e.closeModal,r=e.id,o=e.name,i=e.deleteSubmit;return l.a.createElement(Oe,{isOpen:t,modalLoading:a,closeModal:n},l.a.createElement("section",{className:"section-container  delete-container"},l.a.createElement("span",{className:"ion-close-round ReactModal__delete__close",onClick:n}),l.a.createElement("div",{className:"ReactModal__delete__title"},l.a.createElement("span",null,"Are you sure you want to delete ")," ",l.a.createElement("br",null),l.a.createElement("span",null,r," - ",l.a.createElement("b",null,o),"?")),a?l.a.createElement("div",{className:"ReactModal__delete__is-loading"},l.a.createElement(Se,null)):l.a.createElement("footer",{className:"ReactModal__delete__buttons"},l.a.createElement(ge.a,{outline:!0,color:"secondary",onClick:n},"Cancel"),l.a.createElement(ge.a,{outline:!0,color:"danger",onClick:i},"Delete"))))},kt=function(e,t,a){var n=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.post("".concat(_,"/").concat(A,"/vacancies"),{name:e,employer_id:t,company_id:a,details:"<p></p>",application_link:null,application_type:0,experience_from:0,experience_up:1,hash:null,plan_id:null,seniority:null,status:"draft",vacancy_role:1},{headers:{Authorization:n}})},_t=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.delete("".concat(_,"/").concat(A,"/vacancies/").concat(e),{headers:{Authorization:t}})},At=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,a=e.pageSize,n=e.page,l=e.filtered,r=e.sorted,o={where:{},limit:a,skip:n*a,order:"id DESC"};return l.forEach(function(e){if("id"===e.id)o.where[e.id]=e.value;else if("name"===e.id)o.where[e.id]={like:"%"+e.value+"%"};else if("locations"===e.id)e.value?o.where.locations={inq:e.value.map(function(e){return e.id})}:o.where.locations={};else if("employer"===e.id)e.value?o.where.employer_id=e.value.id:o.where.employer_id=null;else if("company"===e.id)console.log(e.value),e.value?o.where.companies={inq:e.value.map(function(e){return e.id})}:o.where.companies={};else if("status"===e.id)o.where[e.id]=e.value;else if("plan_id"===e.id)5===e.value?o.where[e.id]={gt:1}:o.where[e.id]=e.value;else if("created"===e.id){var t=e.value&&Object(Be.default)(e.value,"yyyy-MM-dd");o.where.created={gt:t},o.order=e.value?"created DESC":"id DESC"}else if("published"===e.id){var a=e.value&&Object(Be.default)(e.value,"yyyy-MM-dd");o.where.published={gt:a}}}),r.forEach(function(e){var t=e.desc?"DESC":"ASC";o.order="".concat(e.id," ").concat(t)}),k.a.get("".concat(_,"/").concat(A,"/vacancies/searchExtra"),{params:{filter:o},headers:{Authorization:t}})},xt=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,a=e.filtered,n={};return a.forEach(function(e){if("id"===e.id)n[e.id]=e.value;else if("name"===e.id)n[e.id]={like:"%"+e.value+"%"};else if("locations"===e.id)e.value?n.locations={inq:e.value.map(function(e){return e.id})}:n.locations={};else if("employer"===e.id)e.value?n.employer_id=e.value.id:n.employer_id=null;else if("company"===e.id)e.value?n.companies={inq:e.value.map(function(e){return e.id})}:n.companies={};else if("status"===e.id)n[e.id]=e.value;else if("plan_id"===e.id)n[e.id]=e.value;else if("created"===e.id){var t=e.value&&Object(Be.default)(e.value,"yyyy-MM-dd");n.created={gt:t}}}),k.a.get("".concat(_,"/").concat(A,"/vacancies/searchExtra"),{params:{filter:{where:n},count:!0},headers:{Authorization:t}})},It=_e(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={jobs:[],jobsCount:null,tableLoading:!1,count:null,alertIsOpen:!1,alertType:"",alertErrorText:"",deleteModalIsOpen:!1,deleteModalLoading:!1,addModalIsOpen:!1,addModalLoading:!1,id:null,name:"",company:{id:null,name:""},company_id:null,user:{id:null,name:"",surname:"",email:""},employer_id:null},a.onChange=function(e){return a.setState(Object(L.a)({},e.target.name,e.target.value))},a.onChangeCompany=function(e){return a.setState({company:e,company_id:e.id})},a.onChangeUser=function(e){return a.setState({user:e,employer_id:e.id})},a.addClick=function(){a.setState({id:null,name:"",company:{id:null,name:""},user:{id:null,name:"",surname:"",email:""},addModalIsOpen:!0,alertIsOpen:!1})},a.addSubmit=function(e){e.preventDefault(),a.setState({addModalLoading:!0,errorAlertIsOpen:!1});var t=a.state,n=t.name,l=t.user,r=t.employer_id,o=t.company,i=t.company_id,c=t.jobs;kt(n,r,i).then(function(e){var t=[Object(M.a)({},e.data,{company:o,employer:l,locations:[{}]})].concat(c);a.setState({addModalLoading:!1,addModalIsOpen:!1,jobs:t})}).catch(function(e){return a.catchErrors(e)})},a.deleteClick=function(e){return function(){var t=e.id,n=e.name;a.setState({id:t,name:n,deleteModalIsOpen:!0,alertIsOpen:!1})}},a.deleteSubmit=function(){var e=[],t=a.state,n=t.id,l=t.jobs;a.setState({deleteModalLoading:!0,errorAlertIsOpen:!1}),_t(n).then(function(){for(var t=0;t<l.length;t++)l[t].id!==n&&e.push(l[t]);a.setState({jobs:e,deleteModalIsOpen:!1,deleteModalLoading:!1,alertType:"delete",alertIsOpen:!0}),setTimeout(function(){a.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.closeAddModal=function(){!a.state.addModalLoading&&a.setState({addModalIsOpen:!1})},a.closeDeleteModal=function(){!a.state.deleteModalLoading&&a.setState({deleteModalIsOpen:!1})},a.closeErrorAlert=function(){return a.setState({errorAlertIsOpen:!1})},a.catchErrors=function(e){var t=e.response.data.error,n=t.name,l=t.statusCode,r=t.message;401===l?(localStorage.removeItem("ph-admin-user-data"),a.props.history.push("/login")):a.setState({errorAlertIsOpen:!0,addModalLoading:!1,deleteodalLoading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.setHeaderTitle("Jobs")}},{key:"componentWillReceiveProps",value:function(){var e=(this.props.history.location.state||{}).afterEditData,t=(this.props.history.location.state||{}).detailState;if(!ie()(e&&t)){for(var a=this.state.jobs,n=0;n<a.length;n++)if(a[n].id===e.id){var l=e.id,r=e.name,o=e.user,i=e.created,c=e.modified,s=e.published,m=e.views,d=e.impressions,u=e.details,p=e.experience_from,h=e.experience_up,g=e.seniority,v=e.seniorityObj,f=e.skills,E=e.status,b=e.statusObj,y=e.plan_id,N=e.planObj,S=e.company_id,C=e.company,O=e.locations,w=e.vacancy_role,k=e.vacancy,_=e.logo,A=e.cover,x=t.employer,I=t.employer_id;a[n]=Object(L.a)({id:l,name:r,user:o,employer:x,employer_id:I,created:i,modified:c,published:s,views:m,impressions:d,details:u,experience_from:p.value,experience_up:h.value,seniority:g,seniorityObj:v,skills:f,status:E,statusObj:b,plan_id:y,planObj:N,company_id:S,company:C,locations:O,vacancy_role:w,vacancy:k,logo:_,cover:A},"modified","".concat((new Date).toISOString()))}this.setState({jobs:a})}var j=(this.props.history.location.state||{}).deletedId;if(j){for(var M=this.state,T=M.jobs,F=M.jobsCount,D=M.count,R=[],P=0;P<T.length;P++)T[P].id!==j&&R.push(T[P]);this.setState({jobs:R,jobsCount:F-1,count:D-1})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.jobs,n=t.jobsCount,r=t.count,o=t.tableLoading,i=t.alertIsOpen,c=t.alertType,s=t.alertErrorText,m=t.deleteModalLoading,d=t.deleteModalIsOpen,u=t.addModalIsOpen,p=t.addModalLoading,h=t.id,g=t.name,v=t.company,f=t.user,E=[{Header:"",width:30,sortable:!1,filterable:!1,Cell:function(t){var a=t.original;return l.a.createElement("div",{className:"rt-custom__controls"},l.a.createElement("i",{className:"ion-android-delete",onClick:e.deleteClick(a)}))}}];return l.a.createElement("div",{className:"jobs-page"},l.a.createElement("p",{className:"md-lg"},"Total records:\xa0",l.a.createElement("b",null,r&&ke(this.state.count))),i&&l.a.createElement(De,{type:c,id:h,name:g,errorText:s}),l.a.createElement(Ee,{text:"job",loading:p&&m,addClick:this.addClick}),l.a.createElement(Ot,{name:g,company:v,user:f,isOpen:u,modalLoading:p,closeModal:this.closeAddModal,onChange:this.onChange,onChangeCompany:this.onChangeCompany,onChangeUser:this.onChangeUser,onSubmit:this.addSubmit}),l.a.createElement(wt,{id:h,name:g,isOpen:d,deleteSubmit:this.deleteSubmit,modalLoading:m,closeModal:this.closeDeleteModal}),l.a.createElement(se,{data:a,manual:!0,pages:n,loading:o,columns:[].concat(Object(ne.a)(Ct),E),getTheadFilterThProps:function(e,t,a){return{style:{overflow:"visible"}}},onFetchData:function(t){e.setState({tableLoading:!0}),xt(t).then(function(a){e.setState({count:a.data.count,jobsCount:Math.ceil(a.data.count/t.pageSize)}),At(t).then(function(t){return e.setState({jobs:t.data,tableLoading:!1})}).catch(function(t){return e.catchErrors(t)})}).catch(function(t){return e.catchErrors(t)})}}))}}]),t}(l.a.Component)),jt=a(257),Lt=a.n(jt),Mt=a(258),Tt=a.n(Mt),Ft=a(259),Dt=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/vacancies/").concat(e,"/applied-jobs"),{headers:{Authorization:t}})},Rt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],loading:!1},a.catchErrors=function(e){var t=e.response.data.error,n=t.name,l=t.statusCode,r=t.message;401===l?(localStorage.removeItem("ph-admin-user-data"),a.props.history.push("/login")):a.setState({errorAlertIsOpen:!0,loading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0});var t=this.props.id;Dt(t).then(function(t){var a=t.data;console.log(a),e.setState({data:a,loading:!1})}).catch(function(t){return e.catchErrors(t)})}},{key:"render",value:function(){return l.a.createElement("div",null,"In progress")}}]),t}(l.a.Component),Pt=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/vacancies/").concat(e),{headers:{Authorization:t}})},zt=function(e){for(var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,a=e.id,n=e.name,l=e.details,r=e.logo,o=e.cover,i=e.skills,c=e.locations,s=e.vacancy,m=e.company,d=e.status,u=e.seniority,p=e.experience_up,h=e.experience_from,g=e.employer_id,v=e.plan_id,f=e.published,E=[],b=0;b<i.length;b++)E.push(i[b].name);var y=E.toString();return k.a.post("".concat(_,"/").concat(A,"/vacancies/").concat(a,"/updateJob"),{name:n,details:l,logo:r?r.split("/").pop():"",cover:o?o.split("/").pop():"",skills_string:y,locations:c,company:m.length?m[0].name:m.name,employer_id:g,plan_id:v,status:d,seniority:u,experience_from:h.value,experience_up:p.value,role:s,modified:"".concat((new Date).toISOString()),published:f},{headers:{Authorization:t}})},Jt=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.post("".concat(_,"/").concat(A,"/vacancies/logo"),e,{headers:{"Content-Type":"multipart/form-data",Authorization:t}})},Ut=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.post("".concat(_,"/").concat(A,"/vacancies/cover"),e,{headers:{"Content-Type":"multipart/form-data",Authorization:t}})},Ht=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/skills"),{params:{filter:{where:{markers:{like:"%".concat(e,"%")}},limit:50}},headers:{Authorization:t}})},Vt=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/companies/").concat(e),{params:{filter:{limit:1}},headers:{Authorization:t}})},qt=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/users/").concat(e),{params:{filter:{limit:1}},headers:{Authorization:t}})},Bt=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/vacancy_roles"),{params:{filter:{where:{name:{like:"%".concat(e,"%")}},limit:10}},headers:{Authorization:t}})},Wt=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/vacancy_roles/").concat(e),{params:{filter:{limit:1}},headers:{Authorization:t}})},Gt=[{value:1,label:"Junior"},{value:2,label:"Mid level"},{value:3,label:"Senior"},{value:4,label:"Managment"}],Qt=[{value:"public",label:"Public"},{value:"draft",label:"Draft"},{value:"expired",label:"Expired"}],Yt=[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"}],Zt=[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"}],Kt=(a(537),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).fileInputLogo=l.a.createRef(),a.fileInputCover=l.a.createRef(),a.state={alertIsOpen:!1,alertType:"",alertErrorText:"",loading:!1,deleteModalIsOpen:!1,deleteModalLoading:!1,id:null,created:"",modified:"",published:"".concat((new Date).toISOString()),views:null,impressions:"",skills:[],locations:[],seniorityObj:{},seniority:null,statusObj:{label:"Draft",value:"draft"},status:"draft",planObj:{label:"Null",value:null},plan_id:null,name:"",oldName:"",company:{name:""},company_id:null,user:{name:"",surname:"",email:""},user_id:null,employer:{name:"",surname:"",email:""},employer_id:null,experience_from:{value:0,label:"0"},experience_up:{value:1,label:"1"},vacancy:{id:1,name:"Product Manager"},vacancy_role:1,details:"",logo:"",cover:"",logoLoading:!1,coverLoading:!1,logoSwitcher:!1,coverSwitcher:!1,application_link:null,application_type:0,hash:null,tabIndex:0},a.onChange=function(e){return a.setState(Object(L.a)({},e.target.name,e.target.value))},a.onChangeCompany=function(e){return a.setState({company:e})},a.onChangeLocations=function(e){return a.setState({locations:e})},a.onChangeDetails=function(e){return a.setState({details:e})},a.onChangeSkills=function(e){return a.setState({skills:e})},a.onChangeSeniority=function(e){return a.setState({seniorityObj:e,seniority:e.value})},a.onChangeStatus=function(e){return a.setState({statusObj:e,status:e.value})},a.onChangePlan=function(e){return a.setState({planObj:e,plan_id:e.value})},a.onChangeCompany=function(e){return a.setState({company:e,company_id:e.id})},a.onChangeUser=function(e){return a.setState({user:e,employer:e,employer_id:e.id})},a.onChangeVacancy=function(e){return a.setState({vacancy:e,vacancy_role:e.id})},a.onChangeExperienceFrom=function(e){return a.setState({experience_from:e})},a.onChangeExperienceUp=function(e){return a.setState({experience_up:e})},a.closeDetail=function(){return a.props.history.push("/jobs")},a.closeDeleteModal=function(){!a.state.deleteModalLoading&&a.setState({deleteModalIsOpen:!1})},a.closeErrorAlert=function(){return a.setState({errorAlertIsOpen:!1})},a.editSubmit=function(e){e.preventDefault(),a.setState({loading:!0});var t=Object(Ke.a)(Object(Ke.a)(a)).state;zt(t).then(function(e){a.setState({alertIsOpen:!0,alertType:"edit"}),setTimeout(function(){a.setState({loading:!1,alertIsOpen:!1}),a.props.history.push({pathname:"/jobs",state:{afterEditData:e.data,detailState:t}})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.deleteClick=function(){a.setState({deleteModalIsOpen:!0,alertIsOpen:!1})},a.deleteSubmit=function(){var e=a.state.id;a.setState({loading:!0,deleteModalIsOpen:!1,deleteModalLoading:!0,errorAlertIsOpen:!1}),_t(e).then(function(){a.setState({deleteModalIsOpen:!1,deleteModalLoading:!1,alertType:"delete",alertIsOpen:!0}),setTimeout(function(){a.props.history.push({pathname:"/jobs",state:{deletedId:e}}),a.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.onUploadLogo=function(e){e.preventDefault(),a.setState({logoLoading:!0,logoSwitcher:!0});var t=new FormData,n=a.fileInputLogo.current.files[0];t.append("file",n),Jt(t).then(function(e){a.setState({logo:"".concat(_,"/").concat(A,"/containers/logo/download/").concat(e.data.name),logoLoading:!1})}).catch(function(e){return console.log(e)})},a.onUploadCover=function(e){e.preventDefault(),a.setState({coverLoading:!0,coverSwitcher:!0});var t=new FormData,n=a.fileInputCover.current.files[0];t.append("file",n),Ut(t).then(function(e){a.setState({cover:"".concat(_,"/").concat(A,"/containers/cover/download/").concat(e.data.name),coverLoading:!1})}).catch(function(e){return console.log(e)})},a.onDeleteLogo=function(){return a.setState({logo:"",logoSwitcher:!1})},a.onDeleteCover=function(){return a.setState({cover:"",coverSwitcher:!1})},a.onCopyUser=function(e){e.preventDefault(),a.setState({alertType:"copy",alertIsOpen:!0}),setTimeout(function(){a.setState({alertIsOpen:!1})},2e3)},a.catchErrors=function(e){var t=e.response.data.error,n=t.name,l=t.statusCode,r=t.message;401===l?(localStorage.removeItem("ph-admin-user-data"),a.props.history.push("/login")):a.setState({errorAlertIsOpen:!0,loading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match;this.setState({loading:!0}),Pt(t.params.id).then(function(t){var a=t.data,n=a.id,l=a.name,r=a.created,o=a.modified,i=a.published,c=a.views,s=a.impressions,m=a.details,d=a.skills,u=a.seniority,p=a.status,h=a.plan_id,g=a.employer_id,v=a.company,f=a.company_id,E=a.locations,b=a.vacancy_role,y=a.vacancy,N=a.logo,S=a.cover;e.setState({loading:!1,oldName:a.name,id:n,name:l,created:r,modified:o,published:i,views:c,impressions:s,details:m,skills:d,seniority:u,status:p,plan_id:h,employer_id:g,company:v,company_id:f,locations:E,vacancy_role:b,vacancy:y,logo:N,cover:S,experience_up:{value:a.experience_up,label:"".concat(a.experience_up)},experience_from:{value:a.experience_from,label:"".concat(a.experience_from)}}),u?Gt.map(function(t){t.value===u&&e.setState({seniorityObj:t})}):e.setState({seniorityObj:{}}),p?Qt.map(function(t){p===t.value&&e.setState({statusObj:t})}):e.setState({statusObj:{}}),h?yt.map(function(t){h===t.value&&e.setState({planObj:t})}):e.setState({planObj:{label:"Null",value:null}})}).then(function(){var t=e.state.company_id;e.setState({company:{id:null,name:"Loading..."}}),t?Vt(t).then(function(t){e.setState({company:t.data,company_id:t.data.id})}):e.setState({company:{id:null,name:""}});var a=e.state.employer_id;e.setState({user:{name:"Loading ...",surname:"",email:""}}),a?qt(a).then(function(t){e.setState({user:t.data,employer:t.data,employer_id:t.data.id})}):e.setState({user:{name:"",surname:"",email:""},employer:{name:"",surname:"",email:""}});var n=e.state.vacancy_role;e.setState({vacancy:{name:"Loading ..."}}),n?Wt(n).then(function(t){e.setState({vacancy:t.data,vacancy_role:t.data.id})}):e.setState({vacancy:{name:""}})}).catch(function(t){return e.catchErrors(t)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.id,n=t.name,r=t.oldName,o=t.user,i=t.employer_id,c=t.created,s=(t.modified,t.published),m=t.views,d=t.impressions,u=t.details,p=t.experience_from,h=t.experience_up,g=t.seniority,v=t.seniorityObj,f=t.skills,E=t.status,b=t.statusObj,y=t.plan_id,N=t.planObj,S=t.company_id,C=t.company,O=t.locations,w=t.vacancy_role,k=t.vacancy,x=t.logo,I=t.cover,j=t.logoSwitcher,L=t.coverSwitcher,M=t.logoLoading,T=t.coverLoading,F=t.alertIsOpen,R=t.alertType,P=t.alertErrorText,z=t.errorAlertIsOpen,J=t.loading,U=t.tabIndex,H=t.deleteModalIsOpen,V=t.deleteModalLoading,q=c&&"".concat(c.substring(0,10),", ").concat(c.substring(11,16)," UTC"),B="".concat(_,"/").concat(A,"/containers/logo/download/").concat(x),W="".concat(_,"/").concat(A,"/containers/cover/download/").concat(I);if(!j&&x&&x.includes("http")){var G=x.split("/").pop();B="".concat(_,"/").concat(A,"/containers/logo/download/").concat(G)}if(!L&&I&&I.includes("http")){var Q=I.split("/").pop();W="".concat(_,"/").concat(A,"/containers/cover/download/").concat(Q)}return l.a.createElement("section",{className:"ph-detail-page  container  edit-job"},l.a.createElement(wt,{id:a,name:n,isOpen:H,deleteSubmit:this.deleteSubmit,modalLoading:V,closeModal:this.closeDeleteModal}),F&&l.a.createElement(De,{id:a,name:n,type:R,errorText:P,errorAlertIsOpen:z,closeErrorAlert:this.closeErrorAlert}),l.a.createElement("h4",{className:"ph-detail-page__title"},"Edit: ",l.a.createElement("b",null,r)),l.a.createElement("span",{className:"ion-close-round ph-detail-page__close",onClick:this.closeDetail}),J&&l.a.createElement("div",{className:"ph-detail-page__is-loading"},l.a.createElement(Se,null)),l.a.createElement(et.d,{selectedIndex:U,onSelect:function(t){return e.setState({tabIndex:t})}},l.a.createElement(et.b,null,l.a.createElement(et.a,null,"Edit job"),l.a.createElement(et.a,null,"View Talants Applied (0)")),l.a.createElement(et.c,null,l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:this.editSubmit},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row top-fields"},l.a.createElement("div",{className:"col-md-4 col-sm-6"},l.a.createElement("b",null,"Created"),l.a.createElement("span",null,q||"")),l.a.createElement("div",{className:"col-md-2 col-sm-6"},l.a.createElement("b",null,"Views"),l.a.createElement("span",null,m||0)),l.a.createElement("div",{className:"col-md-2 col-sm-6"},l.a.createElement("b",null,"Impressions"),l.a.createElement("span",null,d||0)),l.a.createElement("div",{className:"col-md-4 col-sm-6  job-link"},l.a.createElement("b",null,"Link to the job"),l.a.createElement("a",{target:"_blank",href:"".concat(_,"/jobs/").concat(a),title:"".concat(_,"/jobs/").concat(a)},"".concat("".concat(_,"/jobs/").concat(a)))))),l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"edit-name"},"Job title"),l.a.createElement("input",{name:"name",type:"text",value:n,id:"edit-name",style:{height:"38px"},onChange:this.onChange,className:"form-control"})),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("label",{htmlFor:"edit-plan_id"},"Plan"),l.a.createElement("input",{hidden:!0,name:"plan_id",value:y,id:"edit-plan_id",onChange:this.onChange,type:"number",className:"form-control"}),l.a.createElement($e.a,{value:N,onChange:this.onChangePlan,options:yt})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",{htmlFor:"edit-published"},"Published"),l.a.createElement("input",{type:"date",name:"published",id:"edit-published",value:s?s.substring(0,10):"",style:{height:"38px"},onChange:this.onChange,className:"form-control"})),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("label",{htmlFor:"edit-status"},"Status"),l.a.createElement("input",{hidden:!0,name:"status",value:E,id:"edit-status",onChange:this.onChange,type:"text",className:"form-control"}),l.a.createElement($e.a,{value:b,onChange:this.onChangeStatus,options:Qt})),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"edit-employer_id"},"User:\xa0",l.a.createElement(D.a,{style:{fontWeight:"normal"},to:"/users/".concat(i),title:".../users/".concat(i),target:"_blank"},"edit in a new tab")),l.a.createElement("input",{hidden:!0,name:"employer_id",value:i,id:"edit-employer_id",onChange:this.onChange,type:"number",className:"form-control"}),l.a.createElement(Xe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return ft(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return l.a.createElement("div",null,l.a.createElement("span",null,"".concat(e.name," ").concat(e.surname," ")),l.a.createElement("span",{style:{color:"#3498db",textShadow:"1px 1px 0 #fff"}},e.email))},onChange:this.onChangeUser,value:o})),l.a.createElement("div",{className:"col-md-2  copy-button"},l.a.createElement(Ft.CopyToClipboard,{text:"".concat(o.name," ").concat(o.surname," <").concat(o.email,">")},l.a.createElement(ge.a,{title:"Copy user data to clipboard",disabled:!o,outline:!0,color:"primary",onClick:this.onCopyUser},"Copy user"))),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"edit-company_id"},"Company:\xa0",l.a.createElement(D.a,{style:{fontWeight:"normal"},to:"/companies/".concat(S),title:".../companies/".concat(S),target:"_blank"},"edit in a new tab")),l.a.createElement("input",{hidden:!0,name:"company_id",value:S,id:"edit-company_id",onChange:this.onChange,type:"number",className:"form-control"}),l.a.createElement(Xe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return Et(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},onChange:this.onChangeCompany,value:C})),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("label",{htmlFor:"edit-locations"},"Locations"),l.a.createElement(Xe.a,{isMulti:!0,menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return bt(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return l.a.createElement("div",null,l.a.createElement("span",null,"".concat(e.name&&e.name+", "," ")),l.a.createElement("span",{style:{color:"#448aff"}},e.alias_region))},onChange:this.onChangeLocations,value:O})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",{htmlFor:"edit-vacancy_role"},"Role"),l.a.createElement("input",{hidden:!0,name:"vacancy_role",value:w,id:"edit-vacancy_role",onChange:this.onChange,type:"number",className:"form-control"}),l.a.createElement(Xe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return Bt(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},value:k,onChange:this.onChangeVacancy})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",{htmlFor:"edit-experience_from"},"Experience, from"),l.a.createElement("input",{hidden:!0,min:0,max:9,type:"number",onChange:this.onChange,name:"experience_from",value:p,id:"edit-experience_from",className:"form-control"}),l.a.createElement($e.a,{value:p,onChange:this.onChangeExperienceFrom,options:Yt})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",{htmlFor:"edit-experience_up"},"Experience, to"),l.a.createElement("input",{hidden:!0,min:1,max:10,type:"number",onChange:this.onChange,name:"experience_up",value:h,id:"edit-experience_up",className:"form-control"}),l.a.createElement($e.a,{value:h,onChange:this.onChangeExperienceUp,options:Zt})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",{htmlFor:"edit-seniority"},"Seniority"),l.a.createElement("input",{hidden:!0,name:"seniority",value:g,id:"edit-seniority",onChange:this.onChange,type:"number",className:"form-control"}),l.a.createElement($e.a,{value:v,onChange:this.onChangeSeniority,options:Gt})),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("label",{htmlFor:"edit-skills"},"Skills"),l.a.createElement(Xe.a,{isMulti:!0,menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return Ht(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},onChange:this.onChangeSkills,value:f})),l.a.createElement("div",{className:"col-md-6  edit-logo"},l.a.createElement("label",{htmlFor:"edit-logo"},"Logo"),j?M?l.a.createElement(Se,null):x&&l.a.createElement("img",{className:"logo",src:x,alt:"logo"}):x?l.a.createElement("img",{className:"logo",src:B,alt:"logo"}):l.a.createElement("div",{className:"no-logo"},"No logo"),l.a.createElement("input",{id:"edit-logo",type:"file",className:"input-file-custom",ref:this.fileInputLogo,onChange:this.onUploadLogo}),l.a.createElement("div",{className:"edit-logo__buttons"},l.a.createElement("label",{htmlFor:"edit-logo",className:"input-file-label  btn btn-light"},l.a.createElement("i",{className:"ion-image"}),"\xa0",l.a.createElement("span",null,"Load logo")),l.a.createElement(ge.a,{disabled:!x||!B,outline:!0,color:"danger",onClick:this.onDeleteLogo},"Delete logo"))),l.a.createElement("div",{className:"col-md-6  edit-cover"},l.a.createElement("label",{htmlFor:"edit-cover"},"Cover"),L?T?l.a.createElement(Se,null):I&&l.a.createElement("img",{className:"cover",src:I,alt:"cover"}):I?l.a.createElement("img",{className:"cover",src:W,alt:"cover"}):l.a.createElement("div",{className:"no-cover"},"No cover"),l.a.createElement("input",{id:"edit-cover",type:"file",className:"input-file-custom",ref:this.fileInputCover,onChange:this.onUploadCover}),l.a.createElement("div",{className:"edit-cover__buttons"},l.a.createElement("label",{htmlFor:"edit-cover",className:"input-file-label  btn btn-light"},l.a.createElement("i",{className:"ion-image"}),"\xa0",l.a.createElement("span",null,"Load cover")),l.a.createElement(ge.a,{disabled:!I||!W,outline:!0,color:"danger",onClick:this.onDeleteCover},"Delete cover"))),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("label",{htmlFor:"edit-details"},"Details"),l.a.createElement(Lt.a,{editor:Tt.a,data:u,onInit:function(e){},onChange:function(t,a){var n=a.getData();e.onChangeDetails(n)},onBlur:function(e,t){},onFocus:function(e,t){}})))),l.a.createElement("footer",{className:"ph-detail-page__buttons"},l.a.createElement(ge.a,{outline:!0,color:"danger",onClick:this.deleteClick},"Delete"),l.a.createElement(ge.a,{outline:!0,color:"secondary",onClick:this.closeDetail},"Cancel"),l.a.createElement(ge.a,{disabled:!n||ie()(O)||ie()(f),outline:!0,color:"primary",type:"submit"},"Save")))))),l.a.createElement(et.c,null,l.a.createElement(Rt,{id:a}))))}}]),t}(l.a.Component)),$t=[{Header:"Id",accessor:"id",width:60,style:{textAlign:"right"},Cell:function(e){var t=e.original.id;return l.a.createElement("div",{className:"ellipsis-text",title:t||""},t||"")},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Skill",accessor:"name",style:{fontWeight:"bold"},Cell:function(e){var t=e.original,a=t.name,n=t.id;return l.a.createElement("div",{className:"table-column-name  ellipsis-text",title:a||""},l.a.createElement(P.a,{to:"/skills/".concat(n)},a||""))},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Slug",accessor:"slug",Cell:function(e){var t=e.original.slug;return l.a.createElement("div",{className:"ellipsis-text",title:t||""},t||"")},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Aliases",accessor:"markers",Cell:function(e){var t=e.original.markers;return l.a.createElement("div",{className:"ellipsis-text",title:t||""},t||"")},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Weight",accessor:"weight",width:60,Cell:function(e){var t=e.original.weight;return l.a.createElement("div",{className:"ellipsis-text",title:t||""},t||"")},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}}],Xt=function(e){var t=e.name,a=e.slug,n=e.weight,r=e.markers,o=e.isOpen,i=e.closeModal,c=e.onChange,s=e.onSubmit,m=e.modalLoading,d=e.generateSlug;return l.a.createElement(Ne,{isOpen:o,modalLoading:m,closeModal:i},l.a.createElement("section",{className:"section-container  add-container"},l.a.createElement("h4",{className:"add-container__title"},"Add skill"),l.a.createElement("span",{className:"ion-close-round add-container__close",onClick:i}),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:s},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"add-name"},"Skill"),l.a.createElement("input",{name:"name",type:"text",value:t,id:"add-name",onChange:c,className:"form-control"})),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"add-slug"},"Slug"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{required:!0,name:"slug",type:"text",value:a,id:"add-slug",onChange:c,className:"form-control"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:d,disabled:!t||a},"Generate")))),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("label",{htmlFor:"add-weight"},"Weight"),l.a.createElement("input",{min:0,max:999,name:"weight",type:"number",value:n,id:"add-weight",onChange:c,className:"form-control"})),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("label",{htmlFor:"add-aliases"},"Aliases"),l.a.createElement("textarea",{rows:3,type:"text",name:"markers",value:r,id:"add-aliases",onChange:c,className:"form-control"})))),m?l.a.createElement("div",{className:"add-container__is-loading"},l.a.createElement(Se,null)):l.a.createElement("footer",{className:"add-container__buttons"},l.a.createElement(ge.a,{outline:!0,color:"secondary",onClick:i},"Cancel"),l.a.createElement(ge.a,{disabled:!t||!a,outline:!0,color:"primary",type:"submit"},"Save")))))))},ea=function(e){var t=e.isOpen,a=e.modalLoading,n=e.closeModal,r=e.id,o=e.name,i=e.deleteSubmit;return l.a.createElement(Oe,{isOpen:t,modalLoading:a,closeModal:n},l.a.createElement("section",{className:"section-container  delete-container"},l.a.createElement("span",{className:"ion-close-round ReactModal__delete__close",onClick:n}),l.a.createElement("div",{className:"ReactModal__delete__title"},l.a.createElement("span",null,"Are you sure you want to delete ")," ",l.a.createElement("br",null),l.a.createElement("span",null,r," - ",l.a.createElement("b",null,o),"?")),a?l.a.createElement("div",{className:"ReactModal__delete__is-loading"},l.a.createElement(Se,null)):l.a.createElement("footer",{className:"ReactModal__delete__buttons"},l.a.createElement(ge.a,{outline:!0,color:"secondary",onClick:n},"Cancel"),l.a.createElement(ge.a,{outline:!0,color:"danger",onClick:i},"Delete"))))},ta=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,a=e.pageSize,n=e.page,l=e.filtered,r=e.sorted,o={where:{},limit:a,skip:n*a,order:"id DESC"};return l.forEach(function(e){"id"===e.id?o.where[e.id]=e.value:o.where[e.id]={like:"%"+e.value+"%"}}),r.forEach(function(e){var t=e.desc?"DESC":"ASC";o.order="".concat(e.id," ").concat(t)}),k.a.get("".concat(_,"/").concat(A,"/skills"),{params:{filter:o},headers:{Authorization:t}})},aa=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,a=e.filtered,n={};return a.forEach(function(e){"id"===e.id?n[e.id]=e.value:n[e.id]={like:"%"+e.value+"%"}}),k.a.get("".concat(_,"/").concat(A,"/skills/count"),{params:{where:n},headers:{Authorization:t}})},na=function(e,t,a,n){var l=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.post("".concat(_,"/").concat(A,"/skills"),{name:e,slug:t,weight:a,markers:n},{headers:{Authorization:l}})},la=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.delete("".concat(_,"/").concat(A,"/skills/").concat(e),{headers:{Authorization:t}})},ra=_e(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={skills:[],skillsCount:null,tableLoading:!1,count:null,alertIsOpen:!1,alertType:"",alertErrorText:"",deleteModalIsOpen:!1,deleteModalLoading:!1,addModalIsOpen:!1,addModalLoading:!1,id:null,name:"",oldName:"",slug:"",weight:null,markers:""},a.onChange=function(e){return a.setState(Object(L.a)({},e.target.name,e.target.value))},a.addClick=function(){a.setState({addModalIsOpen:!0,alertIsOpen:!1,name:"",slug:"",weight:null,markers:""})},a.addSubmit=function(e){e.preventDefault(),a.setState({addModalLoading:!0,errorAlertIsOpen:!1});var t=a.state,n=t.name,l=t.slug,r=t.weight,o=t.markers,i=t.skills;na(n,l,r,o).then(function(e){var t=[e.data].concat(i);a.setState({addModalLoading:!1,addModalIsOpen:!1,alertType:"add",alertIsOpen:!0,skills:t}),setTimeout(function(){a.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.closeAddModal=function(){!a.state.addModalLoading&&a.setState({addModalIsOpen:!1})},a.closeDeleteModal=function(){!a.state.deleteModalLoading&&a.setState({deleteModalIsOpen:!1})},a.closeErrorAlert=function(){return a.setState({errorAlertIsOpen:!1})},a.deleteClick=function(e){return function(){var t=e.id,n=e.name;a.setState({id:t,name:n,deleteModalIsOpen:!0,alertIsOpen:!1})}},a.deleteSubmit=function(){var e=[],t=a.state,n=t.skills,l=t.id;a.setState({deleteModalLoading:!0,errorAlertIsOpen:!1}),la(l).then(function(){for(var t=0;t<n.length;t++)n[t].id!==l&&e.push(n[t]);a.setState({skills:e,deleteModalIsOpen:!1,deleteModalLoading:!1,alertType:"delete",alertIsOpen:!0}),setTimeout(function(){a.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.generateSlug=function(){var e=a.state.name;a.setState({slug:re()(e,{replacement:"-",lower:!0})})},a.catchErrors=function(e){var t=e.response.data.error,n=t.name,l=t.statusCode,r=t.message;401===l?(localStorage.removeItem("ph-admin-user-data"),a.props.history.push("/login")):a.setState({errorAlertIsOpen:!0,addModalLoading:!1,deleteModalLoading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.setHeaderTitle("Skills")}},{key:"componentWillReceiveProps",value:function(){var e=(this.props.history.location.state||{}).afterEditData;if(!ie()(e)){for(var t=this.state.skills,a=0;a<t.length;a++)t[a].id===e.id&&(t[a]={id:e.id,name:e.name,slug:e.slug,weight:e.weight,markers:e.markers});this.setState({skills:t})}var n=(this.props.history.location.state||{}).deletedId;if(n){for(var l=this.state,r=l.skills,o=l.skillsCount,i=l.count,c=[],s=0;s<r.length;s++)r[s].id!==n&&c.push(r[s]);this.setState({skills:c,skillsCount:o-1,count:i-1})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.skills,n=t.skillsCount,r=t.count,o=t.tableLoading,i=t.alertIsOpen,c=t.alertType,s=t.alertErrorText,m=t.deleteModalLoading,d=t.deleteModalIsOpen,u=t.addModalIsOpen,p=t.addModalLoading,h=t.id,g=t.name,v=t.slug,f=t.weight,E=t.markers,b=[{Header:"",width:30,sortable:!1,filterable:!1,Cell:function(t){var a=t.original;return l.a.createElement("div",{className:"rt-custom__controls"},l.a.createElement("i",{className:"ion-android-delete",onClick:e.deleteClick(a)}))}}];return l.a.createElement("div",{className:"skills-page"},l.a.createElement("p",{className:"md-lg"},"Total records:\xa0",l.a.createElement("b",null,r&&ke(this.state.count))),i&&l.a.createElement(he,{type:c,id:h,name:g,errorText:s}),l.a.createElement(Ee,{text:"skill",loading:p&&m,addClick:this.addClick}),l.a.createElement(Xt,{name:g,slug:v,weight:f,markers:E,isOpen:u,modalLoading:p,closeModal:this.closeAddModal,onChange:this.onChange,onSubmit:this.addSubmit,generateSlug:this.generateSlug}),l.a.createElement(ea,{id:h,name:g,isOpen:d,deleteSubmit:this.deleteSubmit,modalLoading:m,closeModal:this.closeDeleteModal}),l.a.createElement(se,{data:a,manual:!0,pages:n,loading:o,columns:[].concat(Object(ne.a)($t),b),onFetchData:function(t){e.setState({tableLoading:!0}),aa(t).then(function(a){e.setState({count:a.data.count,skillsCount:Math.ceil(a.data.count/t.pageSize)}),ta(t).then(function(t){return e.setState({skills:t.data,tableLoading:!1})}).catch(function(t){return e.catchErrors(t)})}).catch(function(t){return e.catchErrors(t)})}}))}}]),t}(l.a.Component)),oa=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/skills/").concat(e),{headers:{Authorization:t}})},ia=function(e,t,a,n,l){var r=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.patch("".concat(_,"/").concat(A,"/skills/").concat(e),{name:t,slug:a,markers:n,weight:l},{headers:{Authorization:r}})},ca=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={id:null,name:"",slug:"",weight:null,markers:"",alertIsOpen:!1,alertType:"",alertErrorText:"",loading:!1,deleteModalIsOpen:!1,deleteModalLoading:!1},a.onChange=function(e){return a.setState(Object(L.a)({},e.target.name,e.target.value))},a.generateSlug=function(){var e=a.state.name;a.setState({slug:re()(e,{replacement:"-",lower:!0})})},a.closeDetail=function(){return a.props.history.push("/skills")},a.closeDeleteModal=function(){!a.state.deleteModalLoading&&a.setState({deleteModalIsOpen:!1})},a.closeErrorAlert=function(){return a.setState({errorAlertIsOpen:!1})},a.editSubmit=function(e){e.preventDefault(),a.setState({loading:!0});var t=a.state,n=t.id,l=t.name,r=t.slug,o=t.markers,i=t.weight;ia(n,l,r,o,i).then(function(e){a.setState({alertIsOpen:!0,alertType:"edit"}),setTimeout(function(){a.setState({loading:!1,alertIsOpen:!1}),a.props.history.push({pathname:"/skills",state:{afterEditData:e.data}})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.deleteClick=function(){a.setState({deleteModalIsOpen:!0,alertIsOpen:!1})},a.deleteSubmit=function(){var e=a.state.id;a.setState({loading:!0,deleteModalIsOpen:!1,deleteModalLoading:!0,errorAlertIsOpen:!1}),la(e).then(function(){a.setState({deleteModalIsOpen:!1,deleteModalLoading:!1,alertType:"delete",alertIsOpen:!0}),setTimeout(function(){a.props.history.push({pathname:"/skills",state:{deletedId:e}}),a.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.generateSlug=function(){var e=a.state.name;a.setState({slug:re()(e,{replacement:"-",lower:!0})})},a.catchErrors=function(e){var t=e.response.data.error,n=t.name,l=t.statusCode,r=t.message;401===l?(localStorage.removeItem("ph-admin-user-data"),a.props.history.push("/login")):a.setState({errorAlertIsOpen:!0,loading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match;this.setState({loading:!0}),oa(t.params.id).then(function(t){var a=t.data,n=a.id,l=a.name,r=a.slug,o=a.markers,i=a.weight;e.setState({id:n,name:l,oldName:l,slug:r,markers:o,weight:i,loading:!1})}).catch(function(t){return e.catchErrors(t)})}},{key:"render",value:function(){var e=this.state,t=e.id,a=e.name,n=e.oldName,r=e.slug,o=e.weight,i=e.markers,c=e.alertIsOpen,s=e.alertType,m=e.alertErrorText,d=e.errorAlertIsOpen,u=e.loading,p=e.deleteModalIsOpen,h=e.deleteModalLoading;return l.a.createElement("section",{className:"ph-detail-page  container"},l.a.createElement(ea,{id:t,name:a,isOpen:p,deleteSubmit:this.deleteSubmit,modalLoading:h,closeModal:this.closeDeleteModal}),c&&l.a.createElement(De,{id:t,name:a,type:s,errorText:m,errorAlertIsOpen:d,closeErrorAlert:this.closeErrorAlert}),l.a.createElement("h4",{className:"ph-detail-page__title"},"Edit: ",l.a.createElement("b",null,n)),l.a.createElement("span",{className:"ion-close-round ph-detail-page__close",onClick:this.closeDetail}),u&&l.a.createElement("div",{className:"ph-detail-page__is-loading"},l.a.createElement(Se,null)),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:this.editSubmit},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"edit-name"},"Skill"),l.a.createElement("input",{name:"name",type:"text",value:a,id:"edit-name",onChange:this.onChange,className:"form-control"})),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"edit-slug"},"Slug"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{required:!0,name:"slug",type:"text",value:r,id:"edit-slug",onChange:this.onChange,className:"form-control"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:this.generateSlug,disabled:!a},"Generate")))),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("label",{htmlFor:"edit-weight"},"Weight"),l.a.createElement("input",{min:0,max:999,name:"weight",type:"number",value:o,id:"edit-weight",onChange:this.onChange,className:"form-control"})),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("label",{htmlFor:"edit-aliases"},"Aliases"),l.a.createElement("textarea",{rows:3,type:"text",name:"markers",value:i,id:"edit-aliases",onChange:this.onChange,className:"form-control"})))),l.a.createElement("footer",{className:"ph-detail-page__buttons"},l.a.createElement(ge.a,{outline:!0,color:"danger",onClick:this.deleteClick},"Delete"),l.a.createElement(ge.a,{outline:!0,color:"secondary",onClick:this.closeDetail},"Cancel"),l.a.createElement(ge.a,{disabled:!a||!r,outline:!0,color:"primary",type:"submit"},"Save"))))))}}]),t}(l.a.Component),sa=[{Header:"Id",accessor:"id",width:60,style:{textAlign:"right"},Cell:function(e){var t=e.original.id;return l.a.createElement("div",{className:"ellipsis-text",title:t||""},t||"")},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Role",accessor:"name",style:{fontWeight:"bold"},Cell:function(e){var t=e.original,a=t.name,n=t.id;return l.a.createElement("div",{className:"table-column-name  ellipsis-text",title:a||""},l.a.createElement(P.a,{to:"/roles/".concat(n)},a||""))},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Slug",accessor:"slug",Cell:function(e){var t=e.original.slug;return l.a.createElement("div",{className:"ellipsis-text",title:t||""},t||"")},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Weight",accessor:"weight",width:60,Cell:function(e){var t=e.original.weight;return l.a.createElement("div",{className:"ellipsis-text",title:t||""},t||"")},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}}],ma=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,a=e.pageSize,n=e.page,l=e.filtered,r=e.sorted,o={where:{},limit:a,skip:n*a,order:"id ASC"};return l.forEach(function(e){"id"===e.id?o.where[e.id]=e.value:o.where[e.id]={like:"%"+e.value+"%"}}),r.forEach(function(e){var t=e.desc?"DESC":"ASC";o.order="".concat(e.id," ").concat(t)}),k.a.get("".concat(_,"/").concat(A,"/vacancy_roles"),{params:{filter:o},headers:{Authorization:t}})},da=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,a=e.filtered,n={};return a.forEach(function(e){"id"===e.id?n[e.id]=e.value:n[e.id]={like:"%"+e.value+"%"}}),k.a.get("".concat(_,"/").concat(A,"/vacancy_roles/count"),{params:{where:n},headers:{Authorization:t}})},ua=_e(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={roles:[],rolesCount:null,tableLoading:!1,count:null,original:{},alertIsOpen:!1,alertType:"",alertErrorText:""},a.catchErrors=function(e){var t=e.response.data.error,n=t.name,l=t.statusCode,r=t.message;401===l?(localStorage.removeItem("ph-admin-user-data"),a.props.history.push("/login")):a.setState({errorAlertIsOpen:!0,modalLoading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.setHeaderTitle("Roles")}},{key:"componentWillReceiveProps",value:function(){var e=(this.props.history.location.state||{}).afterEditData;if(!ie()(e)){for(var t=this.state.roles,a=0;a<t.length;a++)t[a].id===e.id&&(t[a]={id:e.id,name:e.name,slug:e.slug,weight:e.weight,keywords:e.keywords,negative:e.negative});this.setState({roles:t})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.roles,n=t.rolesCount,r=t.count,o=t.tableLoading,i=t.original,c=t.alertIsOpen,s=t.alertType,m=t.alertErrorText;return l.a.createElement("div",{className:"roles-page"},l.a.createElement("p",{className:"md-lg"},"Total records:\xa0",l.a.createElement("b",null,r&&ke(this.state.count))),c&&l.a.createElement(he,{type:s,original:i,errorText:m}),l.a.createElement(se,{data:a,manual:!0,pages:n,loading:o,columns:Object(ne.a)(sa),onFetchData:function(t){e.setState({tableLoading:!0}),da(t).then(function(a){e.setState({count:a.data.count,rolesCount:Math.ceil(a.data.count/t.pageSize)}),ma(t).then(function(t){return e.setState({roles:t.data,tableLoading:!1})}).catch(function(t){return e.catchErrors(t)})}).catch(function(t){return e.catchErrors(t)})}}))}}]),t}(l.a.Component)),pa=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/vacancy_roles/").concat(e),{headers:{Authorization:t}})},ha=function(e,t,a,n,l,r){var o=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.patch("".concat(_,"/").concat(A,"/vacancy_roles/").concat(e),{name:t,slug:a,weight:n,keywords:l,negative:r},{headers:{Authorization:o}})},ga=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={id:null,name:"",oldName:"",slug:"",weight:null,keywords:"",negative:"",alertIsOpen:!1,alertType:"",alertErrorText:"",loading:!1},a.onChange=function(e){return a.setState(Object(L.a)({},e.target.name,e.target.value))},a.generateSlug=function(){var e=a.state.name;a.setState({slug:re()(e,{replacement:"-",lower:!0})})},a.closeDetail=function(){return a.props.history.push("/roles")},a.closeErrorAlert=function(){return a.setState({errorAlertIsOpen:!1})},a.editSubmit=function(e){e.preventDefault(),a.setState({loading:!0});var t=a.state,n=t.id,l=t.name,r=t.slug,o=t.weight,i=t.keywords,c=t.negative;ha(n,l,r,o,i,c).then(function(e){a.setState({alertIsOpen:!0,alertType:"edit"}),setTimeout(function(){a.setState({loading:!1,alertIsOpen:!1}),a.props.history.push({pathname:"/roles",state:{afterEditData:e.data}})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.catchErrors=function(e){var t=e.response.data.error,n=t.name,l=t.statusCode,r=t.message;401===l?(localStorage.removeItem("ph-admin-user-data"),a.props.history.push("/login")):a.setState({errorAlertIsOpen:!0,loading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match;this.setState({loading:!0}),pa(t.params.id).then(function(t){var a=t.data,n=a.id,l=a.name,r=a.slug,o=a.weight,i=a.keywords,c=a.negative;e.setState({id:n,name:l,oldName:l,slug:r,weight:o,keywords:i,negative:c,loading:!1})}).catch(function(t){return e.catchErrors(t)})}},{key:"render",value:function(){var e=this.state,t=e.id,a=e.name,n=e.oldName,r=e.slug,o=e.weight,i=e.keywords,c=e.negative,s=e.alertIsOpen,m=e.alertType,d=e.alertErrorText,u=e.errorAlertIsOpen,p=e.loading;return l.a.createElement("section",{className:"ph-detail-page  container"},s&&l.a.createElement(De,{id:t,name:a,type:m,errorText:d,errorAlertIsOpen:u,closeErrorAlert:this.closeErrorAlert}),l.a.createElement("h4",{className:"ph-detail-page__title"},"Edit: ",l.a.createElement("b",null,n)),l.a.createElement("span",{className:"ion-close-round ph-detail-page__close",onClick:this.closeDetail}),p&&l.a.createElement("div",{className:"ph-detail-page__is-loading"},l.a.createElement(Se,null)),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:this.editSubmit},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"edit-name"},"Role"),l.a.createElement("input",{required:!0,name:"name",type:"text",value:a,id:"edit-name",onChange:this.onChange,className:"form-control"})),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"edit-slug"},"Slug"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{required:!0,name:"slug",type:"text",value:r,id:"edit-slug",onChange:this.onChange,className:"form-control"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{type:"button",className:"btn btn-light",onClick:this.generateSlug},"Generate")))),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("label",{htmlFor:"edit-weight"},"Weight"),l.a.createElement("input",{min:0,max:999,name:"weight",type:"number",value:o,id:"edit-weight",onChange:this.onChange,className:"form-control"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"edit-keywords"},"Search Phrases, comma-separated"),l.a.createElement("textarea",{rows:6,type:"text",name:"keywords",value:i,id:"edit-keywords",onChange:this.onChange,className:"form-control"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"edit-negative"},"Stop-Words, comma-separated"),l.a.createElement("textarea",{rows:6,type:"text",name:"negative",value:c,id:"edit-negative",onChange:this.onChange,className:"form-control"})))),l.a.createElement("footer",{className:"ph-detail-page__buttons"},l.a.createElement(ge.a,{outline:!0,color:"secondary",onClick:this.closeDetail},"Cancel"),l.a.createElement(ge.a,{disabled:!a||!r,outline:!0,color:"primary",type:"submit"},"Save"))))))}}]),t}(l.a.Component),va=[{Header:"Id",accessor:"id",width:60,style:{textAlign:"right"},Cell:function(e){var t=e.original.id;return l.a.createElement("div",{className:"ellipsis-text",title:t||""},t||"")},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Plan",accessor:"name",style:{fontWeight:"bold"},Cell:function(e){var t=e.original,a=t.id,n=t.name;return l.a.createElement("div",{className:"table-column-name  ellipsis-text",title:n||""},l.a.createElement(P.a,{to:"/plans/".concat(a)},n||""))},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Price",accessor:"price",Cell:function(e){var t=e.original.price;return l.a.createElement("div",{className:"ellipsis-text",title:"$".concat(t)||""},"$".concat(t)||"")},Filter:function(e){var t=e.filter,a=e.onChange;return l.a.createElement(me.Input,{value:t?t.value:"",onChange:function(e){return a(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}}],fa=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,a=e.pageSize,n=e.page,l=e.filtered,r=e.sorted,o={where:{},limit:a,skip:n*a,order:"id ASC"};return l.forEach(function(e){"id"===e.id?o.where[e.id]=e.value:o.where[e.id]={like:"%"+e.value+"%"}}),r.forEach(function(e){var t=e.desc?"DESC":"ASC";o.order="".concat(e.id," ").concat(t)}),k.a.get("".concat(_,"/").concat(A,"/plans"),{params:{filter:o},headers:{Authorization:t}})},Ea=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,a=e.filtered,n={};return a.forEach(function(e){"id"===e.id?n[e.id]=e.value:n[e.id]={like:"%"+e.value+"%"}}),k.a.get("".concat(_,"/").concat(A,"/plans/count"),{params:{where:n},headers:{Authorization:t}})},ba=_e(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={plans:[],plansCount:null,tableLoading:!1,count:null,alertIsOpen:!1,alertType:"",alertErrorText:""},a.catchErrors=function(e){var t=e.response.data.error,n=t.name,l=t.statusCode,r=t.message;401===l?(localStorage.removeItem("ph-admin-user-data"),a.props.history.push("/login")):a.setState({errorAlertIsOpen:!0,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.setHeaderTitle("Plans")}},{key:"componentWillReceiveProps",value:function(){var e=(this.props.history.location.state||{}).afterEditData;if(!ie()(e)){for(var t=this.state.plans,a=0;a<t.length;a++)t[a].id===e.id&&(t[a]={id:e.id,name:e.name,price:e.price});this.setState({plans:t})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.plans,n=t.plansCount,r=t.count,o=t.tableLoading,i=t.alertIsOpen,c=t.alertType,s=t.alertErrorText,m=t.id,d=t.name;return l.a.createElement("div",{className:"plans-page"},l.a.createElement("p",{className:"md-lg"},"Total records:\xa0",l.a.createElement("b",null,r&&ke(this.state.count))),i&&l.a.createElement(he,{id:m,name:d,type:c,errorText:s}),l.a.createElement(se,{data:a,manual:!0,pages:n,loading:o,columns:Object(ne.a)(va),onFetchData:function(t){e.setState({tableLoading:!0}),Ea(t).then(function(a){e.setState({count:a.data.count,plansCount:Math.ceil(a.data.count/t.pageSize)}),fa(t).then(function(t){return e.setState({plans:t.data,tableLoading:!1})}).catch(function(t){return e.catchErrors(t)})}).catch(function(t){return e.catchErrors(t)})}}))}}]),t}(l.a.Component)),ya=function(e){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.get("".concat(_,"/").concat(A,"/plans/").concat(e),{headers:{Authorization:t}})},Na=function(e,t,a){var n=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return k.a.patch("".concat(_,"/").concat(A,"/plans/").concat(e),{name:t,price:a},{headers:{Authorization:n}})},Sa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={id:null,name:"",price:null,oldName:"",alertIsOpen:!1,alertType:"",alertErrorText:"",loading:!1},a.onChange=function(e){return a.setState(Object(L.a)({},e.target.name,e.target.value))},a.closeDetail=function(){return a.props.history.push("/plans")},a.closeErrorAlert=function(){return a.setState({errorAlertIsOpen:!1})},a.editSubmit=function(e){e.preventDefault(),a.setState({loading:!0});var t=a.state,n=t.id,l=t.name,r=t.price;Na(n,l,r).then(function(e){a.setState({alertIsOpen:!0,alertType:"edit"}),setTimeout(function(){a.setState({loading:!1,alertIsOpen:!1}),a.props.history.push({pathname:"/plans",state:{afterEditData:e.data}})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.catchErrors=function(e){var t=e.response.data.error,n=t.name,l=t.statusCode,r=t.message;401===l?(localStorage.removeItem("ph-admin-user-data"),a.props.history.push("/login")):a.setState({errorAlertIsOpen:!0,loading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match;this.setState({loading:!0}),ya(t.params.id).then(function(t){var a=t.data,n=a.id,l=a.name,r=a.price;e.setState({id:n,name:l,price:r,oldName:l,loading:!1})}).catch(function(t){return e.catchErrors(t)})}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.price,n=e.oldName,r=e.alertIsOpen,o=e.alertType,i=e.alertErrorText,c=e.errorAlertIsOpen,s=e.loading;return l.a.createElement("section",{className:"ph-detail-page  container"},r&&l.a.createElement(De,{name:t,type:o,errorText:i,errorAlertIsOpen:c,closeErrorAlert:this.closeErrorAlert}),l.a.createElement("h4",{className:"ph-detail-page__title"},"Edit: ",l.a.createElement("b",null,n)),l.a.createElement("span",{className:"ion-close-round ph-detail-page__close",onClick:this.closeDetail}),s&&l.a.createElement("div",{className:"ph-detail-page__is-loading"},l.a.createElement(Se,null)),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:this.editSubmit},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"edit-name"},"Plan"),l.a.createElement("input",{required:!0,name:"name",type:"text",value:t,id:"edit-name",onChange:this.onChange,className:"form-control"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"edit-price"},"Price"),l.a.createElement("input",{required:!0,min:0,max:1e4,name:"price",type:"number",value:a,id:"edit-price",onChange:this.onChange,className:"form-control"})))),l.a.createElement("footer",{className:"ph-detail-page__buttons"},l.a.createElement(ge.a,{outline:!0,color:"secondary",onClick:this.closeDetail},"Cancel"),l.a.createElement(ge.a,{disabled:!t||!a,outline:!0,color:"primary",type:"submit"},"Save"))))))}}]),t}(l.a.Component);a(539),a(541),a(543),a(545),a(547),a(549),a(551),a(553),a(555),a(557),a(560),a(562),a(564),a(566),a(568),a(570),a(572),a(191),a(574),a(576);a(578),a(580);var Ca=a(660),Oa=a(263),wa=a(47),ka=a.n(wa),_a={validate:function(e){var t="checkbox"===e.type,a=t?e.checked:e.value;if(!e.name)throw new Error("Input name must not be empty.");var n=e.getAttribute("data-param"),l=JSON.parse(e.getAttribute("data-validate")),r=[];return l&&l.length&&l.forEach(function(e){switch(e){case"required":r[e]=t?!1===a:ka.a.isEmpty(a);break;case"email":r[e]=!ka.a.isEmail(a);break;case"number":r[e]=!ka.a.isNumeric(a);break;case"integer":r[e]=!ka.a.isInt(a);break;case"alphanum":r[e]=!ka.a.isAlphanumeric(a);break;case"url":r[e]=!ka.a.isURL(a);break;case"equalto":var l=document.getElementById(n).value;r[e]=!ka.a.equals(a,l);break;case"minlen":r[e]=!ka.a.isLength(a,{min:n});break;case"maxlen":r[e]=!ka.a.isLength(a,{max:n});break;case"len":var o=JSON.parse(n),i=Object(Oa.a)(o,2),c=i[0],s=i[1];r[e]=!ka.a.isLength(a,{min:c,max:s});break;case"min":r[e]=!ka.a.isInt(a,{min:ka.a.toInt(n)});break;case"max":r[e]=!ka.a.isInt(a,{max:ka.a.toInt(n)});break;case"list":var m=JSON.parse(n);r[e]=!ka.a.isIn(a,m);break;default:throw new Error("Unrecognized validator.")}}),r},bulkValidate:function(e){var t=this,a={},n=!1;return e.forEach(function(e){var l=t.validate(e);a=Object(M.a)({},a,Object(L.a)({},e.name,l)),n||(n=Object.keys(l).some(function(e){return l[e]}))}),{errors:a,hasError:n}}},Aa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={formLock:{text:""}},a.validateOnChange=function(e){var t,n=e.target,l=n.form,r="checkbox"===n.type?n.checked:n.value,o=_a.validate(n);a.setState(Object(L.a)({},l.name,Object(M.a)({},a.state[l.name],(t={},Object(L.a)(t,n.name,r),Object(L.a)(t,"errors",Object(M.a)({},a.state[l.name].errors,Object(L.a)({},n.name,o))),t))))},a.onSubmit=function(e){var t=e.target,n=Object(ne.a)(t.elements).filter(function(e){return["INPUT","SELECT"].includes(e.nodeName)}),l=_a.bulkValidate(n),r=l.errors,o=l.hasError;a.setState(Object(L.a)({},t.name,Object(M.a)({},a.state[t.name],{errors:r}))),console.log(o?"Form has errors. Check!":"Form Submitted!"),e.preventDefault()},a.hasError=function(e,t,n){return a.state[e]&&a.state[e].errors&&a.state[e].errors[t]&&a.state[e].errors[t][n]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container-full"},l.a.createElement("div",{className:"container container-xs"},l.a.createElement("div",{className:"text-center mv-lg"},l.a.createElement("img",{className:"rounded-circle mb block-center img-fluid thumb64",src:"img/user/01.jpg",alt:"User Avatar"}),l.a.createElement("p",null,"Brian Walker")),l.a.createElement("form",{className:"cardbox form-validate",name:"formLock",onSubmit:this.onSubmit},l.a.createElement("div",{className:"cardbox-heading"},l.a.createElement("p",{className:"text-center"},"Type your password to unlock terminal")),l.a.createElement("div",{className:"cardbox-offset pb0"},l.a.createElement("div",{className:"cardbox-offset-item; text-right ng-fadeInLeftShort"},l.a.createElement("button",{className:"btn btn-success btn-circle btn-lg",type:"submit"},l.a.createElement("em",{className:"ion-checkmark-round"})))),l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("div",{className:"mda-form-group float-label mda-input-group"},l.a.createElement("div",{className:"mda-form-control"},l.a.createElement(Ca.a,{type:"password",name:"text",invalid:this.hasError("formLock","text","required"),onChange:this.validateOnChange,"data-validate":'["required"]',value:this.state.formLock.text}),l.a.createElement("div",{className:"mda-form-control-line"}),l.a.createElement("label",null,"Password")),l.a.createElement(D.a,{className:"mda-form-msg right",to:"/login"},"Not you?"),l.a.createElement("span",{className:"mda-input-group-addon"},l.a.createElement("em",{className:"ion-ios-locked-outline icon-lg"})))))))}}]),t}(n.Component),xa=function(e,t){return k.a.post("".concat(_,"/").concat(A,"/users/login?include=user"),{email:e,password:t}).then(function(e){return e.data})},Ia=(a(247),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={formLogin:{email:"",password:""},loading:!1,error:!1,errorRights:!1,success:!1},a.validateOnChange=function(e){var t,n,l=e.target,r=l.form,o="checkbox"===l.type?l.checked:l.value,i=_a.validate(l);a.setState((n={},Object(L.a)(n,r.name,Object(M.a)({},a.state[r.name],(t={},Object(L.a)(t,l.name,o),Object(L.a)(t,"errors",Object(M.a)({},a.state[r.name].errors,Object(L.a)({},l.name,i))),t))),Object(L.a)(n,"error",!1),Object(L.a)(n,"success",!1),n))},a.onSubmit=function(e){var t,n=e.target,l=Object(ne.a)(n.elements).filter(function(e){return["INPUT","SELECT"].includes(e.nodeName)}),r=_a.bulkValidate(l),o=r.errors,i=r.hasError;a.setState((t={},Object(L.a)(t,n.name,Object(M.a)({},a.state[n.name],{errors:o})),Object(L.a)(t,"error",!1),Object(L.a)(t,"errorRights",!1),Object(L.a)(t,"success",!1),t)),console.log(i?"Form has errors. Check!":"Form Submitted!"),e.preventDefault();var c=a.state.formLogin,s=c.email,m=c.password;xa(s,m).then(a.setState({loading:!0})).then(function(e){var t=e.user.roles;t.length?t.map(function(t){"admin"===t.name?(localStorage.setItem("ph-admin-user-data",JSON.stringify(e)),a.setState({loading:!1,success:!0}),setTimeout(function(){a.props.history.push("/companies")},1e3)):a.setState({errorRights:!0,loading:!1})}):a.setState({errorRights:!0,loading:!1})}).catch(function(){return a.setState({error:!0,loading:!1})})},a.hasError=function(e,t,n){return a.state[e]&&a.state[e].errors&&a.state[e].errors[t]&&a.state[e].errors[t][n]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.formLogin,t=e.email,a=e.password,n=this.state,r=n.success,o=n.error,i=n.errorRights,c=n.loading;return l.a.createElement("div",{className:"container-full"},r&&l.a.createElement(y.a,{color:"success"},"Success"),o&&l.a.createElement(y.a,{color:"danger"},"Wrong email or password"),i&&l.a.createElement(y.a,{color:"danger"},"You don't have admin rights"),l.a.createElement("div",{className:fe()("container container-xs",{"login-success":r})},l.a.createElement("div",{className:"text-center"},l.a.createElement("img",{style:{display:"inline-flex",margin:"12vh 0  20px",width:"200px"},src:"img/logo.svg",alt:"Brand logo"})),l.a.createElement("form",{className:fe()("cardbox b0 form-validate",{error:o}),action:"",name:"formLogin",onSubmit:this.onSubmit},l.a.createElement("div",{className:"cardbox-heading"},l.a.createElement("div",{className:"cardbox-title text-center"},"Login")),l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("div",{className:"mda-form-group float-label mda-input-group"},l.a.createElement("div",{className:"mda-form-control"},l.a.createElement(Ca.a,{type:"email",name:"email",className:t&&"hasValue",invalid:this.hasError("formLogin","email","required")||this.hasError("formLogin","email","email"),onChange:this.validateOnChange,"data-validate":'["required", "email"]',value:this.state.formLogin.email}),l.a.createElement("div",{className:"mda-form-control-line"}),l.a.createElement("label",null,"Email address")),l.a.createElement("span",{className:fe()("mda-input-group-addon",{hasValue:t})},l.a.createElement("em",{className:"ion-ios-email-outline icon-lg"}))),l.a.createElement("div",{className:"mda-form-group float-label mda-input-group"},l.a.createElement("div",{className:"mda-form-control"},l.a.createElement(Ca.a,{type:"password",name:"password",className:a&&"hasValue",invalid:this.hasError("formLogin","password","required"),onChange:this.validateOnChange,"data-validate":'["required"]',value:this.state.formLogin.password}),l.a.createElement("div",{className:"mda-form-control-line"}),l.a.createElement("label",null,"Password")),l.a.createElement("span",{className:fe()("mda-input-group-addon",{hasValue:a})},l.a.createElement("em",{className:"ion-ios-locked-outline icon-lg"})))),l.a.createElement("button",{type:"submit",disabled:!t||!a,className:"btn btn-primary btn-flat",style:{display:"flex",justifyContent:"center"}},c?l.a.createElement(Se,null):"Authenticate"))))}}]),t}(n.Component));Ia.contextTypes={router:F.a.object};var ja={Lock:Aa,Login:Ia,Recover:function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={formRecover:{submitted:!1,email:""}},a.validateOnChange=function(e){var t,n=e.target,l=n.form,r="checkbox"===n.type?n.checked:n.value,o=_a.validate(n);a.setState(Object(L.a)({},l.name,Object(M.a)({},a.state[l.name],(t={},Object(L.a)(t,n.name,r),Object(L.a)(t,"errors",Object(M.a)({},a.state[l.name].errors,Object(L.a)({},n.name,o))),t))))},a.onSubmit=function(e){var t=e.target,n=Object(ne.a)(t.elements).filter(function(e){return["INPUT","SELECT"].includes(e.nodeName)}),l=_a.bulkValidate(n),r=l.errors,o=l.hasError;a.setState(Object(L.a)({},t.name,Object(M.a)({},a.state[t.name],{errors:r}))),console.log(o?"Form has errors. Check!":"Form Submitted!"),a.setState({formRecover:Object(M.a)({},a.state.formRecover,{submitted:!o})}),e.preventDefault()},a.hasError=function(e,t,n){return a.state[e]&&a.state[e].errors&&a.state[e].errors[t]&&a.state[e].errors[t][n]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.formRecover.submitted;return l.a.createElement("div",{className:"container-full"},l.a.createElement("div",{className:"container container-xs"},l.a.createElement("div",{className:"text-center mv-lg"},l.a.createElement("img",{className:"rounded-circle mb block-center img-fluid thumb64",src:"img/user/01.jpg",alt:"User Avatar"}),l.a.createElement("p",null,"Brian Walker")),e?l.a.createElement("div",{className:"cardbox bg-success ng-fadeIn",id:"confirmation"},l.a.createElement("div",{className:"cardbox-heading"},l.a.createElement("em",{className:"ion-checkmark-round float-right icon-lg"}),l.a.createElement("h4",{className:"mt0"},"Mail Sent!")),l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("p",null,"Please check your inbox and follow instructions to reset your password.")),l.a.createElement("div",{className:"cardbox-footer text-right"},l.a.createElement(D.a,{className:"btn btn-success btn-flat text-white",to:"/login"},"Login",l.a.createElement("em",{className:"ion-ios-arrow-thin-right icon-fw"})))):l.a.createElement("form",{className:"cardbox form-validate",action:"",name:"formRecover",onSubmit:this.onSubmit},l.a.createElement("div",{className:"cardbox-heading"},l.a.createElement("p",{className:"text-center text-inherit"},"Fill with your mail to receive instructions on how to reset your password.")),l.a.createElement("div",{className:"cardbox-offset pb0"},l.a.createElement("div",{className:"cardbox-offset-item text-right ng-fadeInLeftShort"},l.a.createElement("button",{className:"btn btn-success btn-circle btn-lg",type:"submit"},l.a.createElement("em",{className:"ion-checkmark-round"})))),l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("div",{className:"mda-form-group float-label mda-input-group"},l.a.createElement("div",{className:"mda-form-control"},l.a.createElement(Ca.a,{type:"email",name:"email",invalid:this.hasError("formRecover","email","required")||this.hasError("formRecover","email","email"),onChange:this.validateOnChange,"data-validate":'["required", "email"]',value:this.state.formRecover.email}),l.a.createElement("div",{className:"mda-form-control-line"}),l.a.createElement("label",null,"Email address")),l.a.createElement("span",{className:"mda-input-group-addon"},l.a.createElement("em",{className:"ion-ios-email-outline icon-lg"})))))))}}]),t}(n.Component),Signup:function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={formRegister:{email:"",password:"",password2:""}},a.validateOnChange=function(e){var t,n=e.target,l=n.form,r="checkbox"===n.type?n.checked:n.value,o=_a.validate(n);a.setState(Object(L.a)({},l.name,Object(M.a)({},a.state[l.name],(t={},Object(L.a)(t,n.name,r),Object(L.a)(t,"errors",Object(M.a)({},a.state[l.name].errors,Object(L.a)({},n.name,o))),t))))},a.onSubmit=function(e){var t=e.target,n=Object(ne.a)(t.elements).filter(function(e){return["INPUT","SELECT"].includes(e.nodeName)}),l=_a.bulkValidate(n),r=l.errors,o=l.hasError;a.setState(Object(L.a)({},t.name,Object(M.a)({},a.state[t.name],{errors:r}))),console.log(o?"Form has errors. Check!":"Form Submitted!"),e.preventDefault()},a.hasError=function(e,t,n){return a.state[e]&&a.state[e].errors&&a.state[e].errors[t]&&a.state[e].errors[t][n]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container-full"},l.a.createElement("div",{className:"container container-xs"},l.a.createElement("div",{className:"text-center"},l.a.createElement("img",{className:"mv-lg img-fluid thumb64",src:"img/logo.png",alt:"Brand logo"})),l.a.createElement("form",{className:"cardbox b0 form-validate",name:"formRegister",action:"",onSubmit:this.onSubmit},l.a.createElement("div",{className:"cardbox-offset pb0"},l.a.createElement("div",{className:"cardbox-offset-item text-right"},l.a.createElement("div",{className:"btn btn-success btn-circle btn-lg invisible",id:"form-ok"},l.a.createElement("em",{className:"ion-checkmark-round"})))),l.a.createElement("div",{className:"cardbox-heading"},l.a.createElement("div",{className:"cardbox-title text-center"},"Create account")),l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("div",{className:"mda-form-group float-label mda-input-group"},l.a.createElement("div",{className:"mda-form-control"},l.a.createElement(Ca.a,{type:"email",name:"email",invalid:this.hasError("formRegister","email","required")||this.hasError("formRegister","email","email"),onChange:this.validateOnChange,"data-validate":'["required", "email"]',value:this.state.formRegister.email}),l.a.createElement("div",{className:"mda-form-control-line"}),l.a.createElement("label",null,"Email address")),l.a.createElement("span",{className:"mda-input-group-addon"},l.a.createElement("em",{className:"ion-ios-email-outline icon-lg"}))),l.a.createElement("div",{className:"mda-form-group float-label mda-input-group"},l.a.createElement("div",{className:"mda-form-control"},l.a.createElement(Ca.a,{type:"password",id:"id-source",name:"password",invalid:this.hasError("formRegister","password","required"),onChange:this.validateOnChange,"data-validate":'["required"]',value:this.state.formRegister.password}),l.a.createElement("div",{className:"mda-form-control-line"}),l.a.createElement("label",null,"Password")),l.a.createElement("span",{className:"mda-input-group-addon"},l.a.createElement("em",{className:"ion-ios-locked-outline icon-lg"}))),l.a.createElement("div",{className:"mda-form-group float-label mda-input-group"},l.a.createElement("div",{className:"mda-form-control"},l.a.createElement(Ca.a,{type:"password",name:"password2",invalid:this.hasError("formRegister","password2","equalto"),onChange:this.validateOnChange,"data-validate":'["equalto"]',value:this.state.formRegister.password2,"data-param":"id-source"}),l.a.createElement("div",{className:"mda-form-control-line"}),l.a.createElement("label",null,"Confirm password")),l.a.createElement("span",{className:"mda-input-group-addon"},l.a.createElement("em",{className:"ion-ios-locked-outline icon-lg"})))),l.a.createElement("button",{className:"btn btn-primary btn-flat",type:"submit"},"Create"),l.a.createElement("div",{className:"cardbox-body bg-gray-lighter text-center text-sm"},l.a.createElement("span",{className:"spr"},"By registering I accept the"),l.a.createElement("a",{className:"spr",href:"#"},"Terms of Service"),l.a.createElement("span",{className:"spr"},"and"),l.a.createElement("a",{className:"spr",href:"#"},"Privacy")))))}}]),t}(n.Component),User:ja,Layout:function(e){return l.a.createElement("div",{className:"layout-container"},l.a.createElement("div",{className:"page-container bg-blue-grey-900"},e.children))}},La=Object(v.a)(function(e){var t,a=e.location,n=JSON.parse(localStorage.getItem("ph-admin-user-data"));return n&&n.id?l.a.createElement(ae,null,l.a.createElement(h.a,{path:"/companies/:id",component:ze}),l.a.createElement(h.a,{path:"/companies",component:Fe}),l.a.createElement(h.a,{path:"/users/:id",component:vt}),l.a.createElement(h.a,{path:"/users",component:Ze}),l.a.createElement(h.a,{path:"/jobs/:id",component:Kt}),l.a.createElement(h.a,{path:"/jobs",component:It}),l.a.createElement(h.a,{path:"/skills/:id",component:ca}),l.a.createElement(h.a,{path:"/skills",component:ra}),l.a.createElement(h.a,{path:"/roles/:id",component:ga}),l.a.createElement(h.a,{path:"/roles",component:ua}),l.a.createElement(h.a,{path:"/plans/:id",component:Sa}),l.a.createElement(h.a,{path:"/plans",component:ba})):(localStorage.removeItem("ph-admin-user-data"),l.a.createElement(ja.Layout,null,l.a.createElement(p.a,{location:a},l.a.createElement(h.a,{path:"/login",component:(t=ja.Login,function(e){return l.a.createElement(t,e)})}),l.a.createElement(g.a,{to:"/login"}))))}),Ma=a(260),Ta=a.n(Ma),Fa=(a(643),function(){function e(t){var a=this;Object(i.a)(this,e);var n=this.detectClickEvent();this.element=t,this.rippleElement=this.getElement(),this.element.addEventListener(n,function(){a.rippleElement.classList.remove("md-ripple-animate"),a.calcSizeAndPos(),a.rippleElement.classList.add("md-ripple-animate")}),this.rippleElement.addEventListener("transitionend",function(){a.rippleElement.classList.remove("md-ripple-animate"),a.rippleElement.style.width=0,a.rippleElement.style.height=0})}return Object(c.a)(e,[{key:"getElement",value:function(){var e=this.element.querySelector(".md-ripple");return null===e&&((e=document.createElement("span")).className="md-ripple",this.element.appendChild(e)),e}},{key:"calcSizeAndPos",value:function(){var e=Math.max(this.element.offsetWidth,this.element.offsetHeight);this.rippleElement.style.width=e+"px",this.rippleElement.style.height=e+"px",this.rippleElement.style.marginTop=-e/2+"px",this.rippleElement.style.marginLeft=-e/2+"px"}},{key:"detectClickEvent",value:function(){return/iphone|ipad/gi.test(navigator.appVersion)?"touchstart":"mousedown"}}]),e}());!function(){Ta()(function(){[].slice.call(document.querySelectorAll(".ripple")).forEach(function(e){return new Fa(e)})})}();var Da=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("ph-admin-theme",e);e&&(document.body.classList.remove("theme-1"),document.body.classList.add(e))}},{key:"render",value:function(){return l.a.createElement(u.a,{basename:"/"},l.a.createElement(La,null))}}]),t}(n.Component),Ra=a(192),Pa=a(261),za=a.n(Pa);Ra.a.use(za.a).use(R.b).init({fallbackLng:"en",backend:{loadPath:"locales/{{lng}}/{{ns}}.json"},ns:["translations"],defaultNS:"translations",debug:!1,react:{wait:!0}});Ra.a;o.a.render(l.a.createElement(Da,null),document.getElementById("app"))}},[[264,2,1]]]);
//# sourceMappingURL=main.24f5c82d.chunk.js.map