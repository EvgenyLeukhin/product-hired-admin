(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{417:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(10),r=a(11),o=a(14),i=a(12),l=a(13),c=a(0),s=a.n(c),u=a(29),d=a.n(u);function m(e){return function(t){function a(){return Object(n.a)(this,a),Object(o.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(l.a)(a,t),Object(r.a)(a,[{key:"render",value:function(){var t={setHeaderTitle:function(e){d.a.publish("setPageTitle",e)}};return s.a.createElement(e,Object.assign({},this.props,t))}}]),a}(c.Component)}},421:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(441);a(422);t.a=function(e){return r.a.createElement(o.a,Object.assign({},e,{resizable:!0,filterable:!0,className:"-striped -highlight"}))}},422:function(e,t,a){},424:function(e,t,a){"use strict";var n=a(100),r=a(0),o=a.n(r),i=a(646);t.a=function(e){var t=e.type,a=e.original,l=e.errorText,c=Object(r.useState)(!0),s=Object(n.a)(c,2),u=s[0],d=s[1],m=a.surname?"".concat(a.name," ").concat(a.surname):"".concat(a.name);return o.a.createElement(o.a.Fragment,null,"add"===t&&o.a.createElement(i.a,{color:"success"},"New item is added")||"edit"===t&&o.a.createElement(i.a,{color:"warning"},'"'.concat(a.id)," - ",o.a.createElement("b",null,m," is edited"))||"delete"===t&&o.a.createElement(i.a,{color:"danger"},'"'.concat(a.id)," - ",o.a.createElement("b",null,m," is deleted"))||"error"===t&&o.a.createElement(i.a,{color:"danger",isOpen:u,toggle:function(){return d(!1)}},l))}},425:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(419),i=a.n(o);a(426),a(428);t.a=function(e){var t=e.isOpen,a=e.modalLoading,n=e.closeModal;return r.a.createElement(i.a,Object.assign({},e,{ariaHideApp:!1,isOpen:t,overlayClassName:"ReactModal__Overlay",className:"ReactModal ReactModal__edit",portalClassName:"ReactModal__Portal__edit",onRequestClose:!a&&n}),e.children)}},426:function(e,t,a){},428:function(e,t,a){},442:function(e,t,a){var n;n=function(){var e=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xa2":"cent","\xa3":"pound","\xa4":"currency","\xa5":"yen","\xa9":"(c)","\xaa":"a","\xae":"(r)","\xba":"o","\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"AE","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xde":"TH","\xdf":"ss","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"ae","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xfe":"th","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010c":"C","\u010d":"c","\u010e":"D","\u010f":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011a":"E","\u011b":"e","\u011e":"G","\u011f":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012a":"i","\u012b":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015a":"S","\u015b":"s","\u015e":"S","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016a":"u","\u016b":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01c8":"LJ","\u01c9":"lj","\u01cb":"NJ","\u01cc":"nj","\u0218":"S","\u0219":"s","\u021a":"T","\u021b":"t","\u02da":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038a":"I","\u038c":"O","\u038e":"Y","\u038f":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039a":"K","\u039b":"L","\u039c":"M","\u039d":"N","\u039e":"3","\u039f":"O","\u03a0":"P","\u03a1":"R","\u03a3":"S","\u03a4":"T","\u03a5":"Y","\u03a6":"F","\u03a7":"X","\u03a8":"PS","\u03a9":"W","\u03aa":"I","\u03ab":"Y","\u03ac":"a","\u03ad":"e","\u03ae":"h","\u03af":"i","\u03b0":"y","\u03b1":"a","\u03b2":"b","\u03b3":"g","\u03b4":"d","\u03b5":"e","\u03b6":"z","\u03b7":"h","\u03b8":"8","\u03b9":"i","\u03ba":"k","\u03bb":"l","\u03bc":"m","\u03bd":"n","\u03be":"3","\u03bf":"o","\u03c0":"p","\u03c1":"r","\u03c2":"s","\u03c3":"s","\u03c4":"t","\u03c5":"y","\u03c6":"f","\u03c7":"x","\u03c8":"ps","\u03c9":"w","\u03ca":"i","\u03cb":"y","\u03cc":"o","\u03cd":"y","\u03ce":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040a":"NJ","\u040b":"C","\u040f":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042a":"U","\u042b":"Y","\u042c":"","\u042d":"E","\u042e":"Yu","\u042f":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044a":"u","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045a":"nj","\u045b":"c","\u045d":"u","\u045f":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049a":"KH","\u049b":"kh","\u04a2":"NG","\u04a3":"ng","\u04ae":"UE","\u04af":"ue","\u04b0":"U","\u04b1":"u","\u04ba":"H","\u04bb":"h","\u04d8":"AE","\u04d9":"ae","\u04e8":"OE","\u04e9":"oe","\u0e3f":"baht","\u10d0":"a","\u10d1":"b","\u10d2":"g","\u10d3":"d","\u10d4":"e","\u10d5":"v","\u10d6":"z","\u10d7":"t","\u10d8":"i","\u10d9":"k","\u10da":"l","\u10db":"m","\u10dc":"n","\u10dd":"o","\u10de":"p","\u10df":"zh","\u10e0":"r","\u10e1":"s","\u10e2":"t","\u10e3":"u","\u10e4":"f","\u10e5":"k","\u10e6":"gh","\u10e7":"q","\u10e8":"sh","\u10e9":"ch","\u10ea":"ts","\u10eb":"dz","\u10ec":"ts","\u10ed":"ch","\u10ee":"kh","\u10ef":"j","\u10f0":"h","\u1e80":"W","\u1e81":"w","\u1e82":"W","\u1e83":"w","\u1e84":"W","\u1e85":"w","\u1e9e":"SS","\u1ea0":"A","\u1ea1":"a","\u1ea2":"A","\u1ea3":"a","\u1ea4":"A","\u1ea5":"a","\u1ea6":"A","\u1ea7":"a","\u1ea8":"A","\u1ea9":"a","\u1eaa":"A","\u1eab":"a","\u1eac":"A","\u1ead":"a","\u1eae":"A","\u1eaf":"a","\u1eb0":"A","\u1eb1":"a","\u1eb2":"A","\u1eb3":"a","\u1eb4":"A","\u1eb5":"a","\u1eb6":"A","\u1eb7":"a","\u1eb8":"E","\u1eb9":"e","\u1eba":"E","\u1ebb":"e","\u1ebc":"E","\u1ebd":"e","\u1ebe":"E","\u1ebf":"e","\u1ec0":"E","\u1ec1":"e","\u1ec2":"E","\u1ec3":"e","\u1ec4":"E","\u1ec5":"e","\u1ec6":"E","\u1ec7":"e","\u1ec8":"I","\u1ec9":"i","\u1eca":"I","\u1ecb":"i","\u1ecc":"O","\u1ecd":"o","\u1ece":"O","\u1ecf":"o","\u1ed0":"O","\u1ed1":"o","\u1ed2":"O","\u1ed3":"o","\u1ed4":"O","\u1ed5":"o","\u1ed6":"O","\u1ed7":"o","\u1ed8":"O","\u1ed9":"o","\u1eda":"O","\u1edb":"o","\u1edc":"O","\u1edd":"o","\u1ede":"O","\u1edf":"o","\u1ee0":"O","\u1ee1":"o","\u1ee2":"O","\u1ee3":"o","\u1ee4":"U","\u1ee5":"u","\u1ee6":"U","\u1ee7":"u","\u1ee8":"U","\u1ee9":"u","\u1eea":"U","\u1eeb":"u","\u1eec":"U","\u1eed":"u","\u1eee":"U","\u1eef":"u","\u1ef0":"U","\u1ef1":"u","\u1ef2":"Y","\u1ef3":"y","\u1ef4":"Y","\u1ef5":"y","\u1ef6":"Y","\u1ef7":"y","\u1ef8":"Y","\u1ef9":"y","\u2018":"\'","\u2019":"\'","\u201c":"\\"","\u201d":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20a0":"ecu","\u20a2":"cruzeiro","\u20a3":"french franc","\u20a4":"lira","\u20a5":"mill","\u20a6":"naira","\u20a7":"peseta","\u20a8":"rupee","\u20a9":"won","\u20aa":"new shequel","\u20ab":"dong","\u20ac":"euro","\u20ad":"kip","\u20ae":"tugrik","\u20af":"drachma","\u20b0":"penny","\u20b1":"peso","\u20b2":"guarani","\u20b3":"austral","\u20b4":"hryvnia","\u20b5":"cedi","\u20b8":"kazakhstani tenge","\u20b9":"indian rupee","\u20bd":"russian ruble","\u20bf":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221e":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\ufdfc":"rial"}'),t=JSON.parse('{"vi":{"\u0110":"D","\u0111":"d"}}');function a(a,n){if("string"!==typeof a)throw new Error("slugify: string argument expected");var r=t[(n="string"===typeof n?{replacement:n}:n||{}).locale]||{},o=a.split("").reduce(function(t,a){return t+(r[a]||e[a]||a).replace(n.remove||/[^\w\s$*_+~.()'"!\-:@]/g,"")},"").trim().replace(/[-\s]+/g,n.replacement||"-");return n.lower?o.toLowerCase():o}return a.extend=function(t){for(var a in t)e[a]=t[a]},a},e.exports=n(),e.exports.default=n()},659:function(e,t,a){"use strict";a.r(t);var n=a(42),r=a(5),o=a(10),i=a(11),l=a(14),c=a(12),s=a(13),u=a(0),d=a.n(u),m=a(442),g=a.n(m),p=a(421),h=a(424),v=a(425),E=a(98),f=a(282),y=function(e){var t=e.name,a=e.slug,n=e.weight,r=e.keywords,o=e.negative,i=e.original,l=e.isOpen,c=e.closeModal,s=e.onChange,u=e.onSubmit,m=e.modalLoading,g=e.generateSlug;return d.a.createElement(v.a,{isOpen:l,modalLoading:m,closeModal:c},d.a.createElement("section",{className:"section-container edit-container"},d.a.createElement("h4",{className:"edit-container__title"},"Edit\xa0",d.a.createElement("b",null,'"'.concat(i.id," - ").concat(i.name,'"'))),d.a.createElement("span",{className:"ion-close-round edit-container__close",onClick:c}),d.a.createElement("div",{className:"cardbox"},d.a.createElement("div",{className:"cardbox-body"},d.a.createElement("form",{action:"",onSubmit:u},d.a.createElement("fieldset",null,d.a.createElement("div",{className:"form-group row"},d.a.createElement("div",{className:"col-md-5"},d.a.createElement("label",{htmlFor:"edit-name"},"Role"),d.a.createElement("input",{required:!0,name:"name",type:"text",value:t,id:"edit-name",onChange:s,className:"form-control"})),d.a.createElement("div",{className:"col-md-5"},d.a.createElement("label",{htmlFor:"edit-slug"},"Slug"),d.a.createElement("div",{className:"input-group"},d.a.createElement("input",{required:!0,name:"slug",type:"text",value:a,id:"edit-slug",onChange:s,className:"form-control"}),d.a.createElement("div",{className:"input-group-append"},d.a.createElement("button",{className:"btn btn-dark",type:"button",onClick:g,disabled:!t||a},"Generate")))),d.a.createElement("div",{className:"col-md-2"},d.a.createElement("label",{htmlFor:"edit-weight"},"Weight"),d.a.createElement("input",{min:0,max:999,name:"weight",type:"number",value:n,id:"edit-weight",onChange:s,className:"form-control"})),d.a.createElement("div",{className:"col-md-6"},d.a.createElement("label",{htmlFor:"edit-keywords"},"Search Phrases, comma-separated"),d.a.createElement("textarea",{rows:3,type:"text",name:"keywords",value:r,id:"edit-keywords",onChange:s,className:"form-control"})),d.a.createElement("div",{className:"col-md-6"},d.a.createElement("label",{htmlFor:"edit-negative"},"Stop-Words, comma-separated"),d.a.createElement("textarea",{rows:3,type:"text",name:"negative",value:o,id:"edit-negative",onChange:s,className:"form-control"})))),m?d.a.createElement("div",{className:"edit-container__is-loading"},d.a.createElement(E.a,null)):d.a.createElement("footer",{className:"edit-container__buttons"},d.a.createElement(f.a,{outline:!0,color:"secondary",onClick:c},"Cancel"),d.a.createElement(f.a,{disabled:!t||!a,outline:!0,color:"primary",type:"submit"},"Save")))))))},O=a(417),b=a(57),w=a.n(b),S=a(56),N=function(){var e=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return w.a.get("".concat(S.a,"/").concat(S.b,"/vacancy_roles"),{headers:{Authorization:e}})},k=function(e,t,a,n,r,o){var i=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return w.a.patch("".concat(S.a,"/").concat(S.b,"/vacancy_roles/").concat(e),{name:t,slug:a,weight:n,keywords:r,negative:o},{headers:{Authorization:i}})},C=[{Header:"Id",accessor:"id",width:60,style:{textAlign:"right"},Cell:function(e){var t=e.original;return d.a.createElement("div",null,t.id||"...")}},{Header:"Role",accessor:"name",style:{fontWeight:"bold"},Cell:function(e){var t=e.original;return d.a.createElement("div",null,t.name||"...")},filterMethod:function(e,t){var a=e.pivotId||e.id;return void 0===t[a]||String(t[a].toLowerCase()).includes(e.value.toLowerCase())}},{Header:"Slug",accessor:"slug",Cell:function(e){var t=e.original;return d.a.createElement("div",null,t.slug||"...")},filterMethod:function(e,t){var a=e.pivotId||e.id;return void 0===t[a]||String(t[a].toLowerCase()).includes(e.value.toLowerCase())}},{Header:"Weight",accessor:"weight",width:60,Cell:function(e){var t=e.original;return d.a.createElement("div",null,t.weight||"...")}}],I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={roles:[],tableLoading:!1,alertIsOpen:!1,alertType:"",alertErrorText:"",editModalIsOpen:!1,modalLoading:!1,original:{},id:null,name:"",slug:"",weight:null,keywords:"",negative:""},a.onChange=function(e){return a.setState(Object(r.a)({},e.target.name,e.target.value))},a.catchErrors=function(e){401===e.response.status?(localStorage.removeItem("ph-admin-user-data"),a.props.history.push("/login")):a.setState({modalLoading:!1,addModalIsOpen:!1,editModalIsOpen:!1,deleteModalIsOpen:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(e)})},a.editClick=function(e){return function(){a.setState({editModalIsOpen:!0,original:e,id:e.id,name:e.name,slug:e.slug,weight:e.weight,keywords:e.keywords,negative:e.negative,alertIsOpen:!1})}},a.closeModal=function(){return!a.state.modalLoading&&a.setState({editModalIsOpen:!1})},a.editSubmit=function(e){e.preventDefault(),a.setState({modalLoading:!0});var t=a.state,n=t.id,r=t.name,o=t.slug,i=t.weight,l=t.keywords,c=t.negative;k(n,r,o,i,l,c).then(function(){for(var e=a.state.roles,t=0;t<e.length;t++)e[t].id===n&&(e[t]={id:n,name:r,slug:o,weight:i,keywords:l,negative:c});a.setState({roles:e,modalLoading:!1,editModalIsOpen:!1,alertType:"edit",alertIsOpen:!0}),setTimeout(function(){a.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return a.catchErrors(e)})},a.generateSlug=function(){var e=a.state.name;a.setState({slug:g()(e,{replacement:"-",lower:!0})})},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.setHeaderTitle("Roles")}},{key:"componentDidMount",value:function(){var e=this;this.setState({tableLoading:!0}),N().then(function(t){return e.setState({roles:t.data,tableLoading:!1})}).catch(function(t){return e.catchErrors(t)}),document.addEventListener("keyup",function(t){return 27===t.keyCode&&e.closeModal()})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",function(e){return 27===e.keyCode})}},{key:"render",value:function(){var e=this,t=this.state,a=t.tableLoading,r=t.original,o=t.roles,i=t.name,l=t.slug,c=t.weight,s=t.keywords,u=t.negative,m=t.editModalIsOpen,g=t.modalLoading,v=t.alertIsOpen,E=t.alertType,f=t.alertErrorText,O=[{Header:"",width:65,sortable:!1,filterable:!1,Cell:function(t){var a=t.original;return d.a.createElement("div",{className:"rt-custom__controls"},d.a.createElement("i",{className:"ion-edit",onClick:e.editClick(a)}))}}];return d.a.createElement("div",{className:"roles-page"},v&&d.a.createElement(h.a,{type:E,original:r,errorText:f}),d.a.createElement(y,{name:i,slug:l,weight:c,keywords:s,negative:u,original:r,isOpen:m,modalLoading:g,closeModal:this.closeModal,onChange:this.onChange,onSubmit:this.editSubmit,generateSlug:this.generateSlug}),d.a.createElement(p.a,{data:o,manual:!1,loading:a,columns:[].concat(Object(n.a)(C),O)}))}}]),t}(d.a.Component);t.default=Object(O.a)(I)}}]);
//# sourceMappingURL=7.b4d66cbe.chunk.js.map