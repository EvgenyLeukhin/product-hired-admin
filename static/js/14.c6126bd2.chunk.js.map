{"version":3,"sources":["ph-admin/routes/Select.js","../node_modules/react-select/async/dist/react-select.browser.esm.js","ph-admin/api/getLocations.js"],"names":["Select","loadOptions","inputValue","getLocations","then","res","data","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_select_async__WEBPACK_IMPORTED_MODULE_6__","isMulti","cacheOptions","defaultOptions","this","getOptionValue","o","id","getOptionLabel","name","React","Component","_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__","_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__","_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__","_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__","_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_8__","_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_9__","_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_10__","react__WEBPACK_IMPORTED_MODULE_11__","react__WEBPACK_IMPORTED_MODULE_11___default","n","_dist_chunk_39d3fda8_browser_esm_js__WEBPACK_IMPORTED_MODULE_16__","_dist_base_dist_react_select_cac0a5ae_browser_esm_js__WEBPACK_IMPORTED_MODULE_17__","_dist_chunk_b36baf1a_browser_esm_js__WEBPACK_IMPORTED_MODULE_21__","defaultProps","filterOption","Async","SelectComponent","_class","_temp","_Component","props","_this","Object","call","newValue","actionMeta","_this$props","onInputChange","lastRequest","setState","loadedInputValue","loadedOptions","isLoading","passEmptyOptions","optionsCache","request","state","options","mounted","Array","isArray","undefined","key","value","_this2","nextProps","select","focus","blur","callback","loader","_this3","_this$props2","_this$state","ref","_ref","handleInputChange","makeAsyncSelect","__webpack_exports__","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","_apiUrl__WEBPACK_IMPORTED_MODULE_1__","headers","Authorization","token","axios","get","concat","API_URL","subUrl","params","filter","where","like","limit"],"mappings":"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","file":"static/js/14.c6126bd2.chunk.js","sourcesContent":["import React from 'react';\nimport AsyncSelect from 'react-select/async';\n\nimport getLocations from './../api/getLocations';\n\nclass Select extends React.Component {\n\n  // inputValue - what we are typing in select field\n  loadOptions = inputValue => {\n    return getLocations(inputValue)\n      .then(res => res.data);\n  }\n\n  render() {\n    return (\n      <AsyncSelect\n        isMulti={true}\n        cacheOptions={false}\n        defaultOptions={false}\n\n        // load options request (always when onChange something)\n        loadOptions={this.loadOptions}\n\n        // get options id from loadOptions\n        getOptionValue={o => o.id}\n\n        // get option text from loadOptions\n        getOptionLabel={o => o.name}\n      />\n    );\n  }\n}\n\nexport default Select;\n\n\n","import _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport '@babel/runtime/helpers/esm/toConsumableArray';\nimport '@babel/runtime/helpers/esm/objectSpread';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport React, { Component } from 'react';\nimport 'memoize-one';\nimport '@emotion/core';\nimport 'react-dom';\nimport 'prop-types';\nimport '@babel/runtime/helpers/esm/typeof';\nimport { k as handleInputChange } from '../../dist/chunk-39d3fda8.browser.esm.js';\nimport '../../dist/chunk-80640036.browser.esm.js';\nimport { S as Select } from '../../dist/base/dist/react-select-cac0a5ae.browser.esm.js';\nimport '@emotion/css';\nimport '@babel/runtime/helpers/esm/taggedTemplateLiteral';\nimport 'react-input-autosize';\nimport { m as manageState } from '../../dist/chunk-b36baf1a.browser.esm.js';\nvar defaultProps = {\n  cacheOptions: false,\n  defaultOptions: false,\n  filterOption: null\n};\n\nvar makeAsyncSelect = function makeAsyncSelect(SelectComponent) {\n  var _class, _temp;\n\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(Async, _Component);\n\n    function Async(props) {\n      var _this;\n\n      _classCallCheck(this, Async);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(Async).call(this));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"select\", void 0);\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"lastRequest\", void 0);\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"mounted\", false);\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"optionsCache\", {});\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleInputChange\", function (newValue, actionMeta) {\n        var _this$props = _this.props,\n            cacheOptions = _this$props.cacheOptions,\n            onInputChange = _this$props.onInputChange; // TODO\n\n        var inputValue = handleInputChange(newValue, actionMeta, onInputChange);\n\n        if (!inputValue) {\n          delete _this.lastRequest;\n\n          _this.setState({\n            inputValue: '',\n            loadedInputValue: '',\n            loadedOptions: [],\n            isLoading: false,\n            passEmptyOptions: false\n          });\n\n          return;\n        }\n\n        if (cacheOptions && _this.optionsCache[inputValue]) {\n          _this.setState({\n            inputValue: inputValue,\n            loadedInputValue: inputValue,\n            loadedOptions: _this.optionsCache[inputValue],\n            isLoading: false,\n            passEmptyOptions: false\n          });\n        } else {\n          var request = _this.lastRequest = {};\n\n          _this.setState({\n            inputValue: inputValue,\n            isLoading: true,\n            passEmptyOptions: !_this.state.loadedInputValue\n          }, function () {\n            _this.loadOptions(inputValue, function (options) {\n              if (!_this.mounted) return;\n\n              if (options) {\n                _this.optionsCache[inputValue] = options;\n              }\n\n              if (request !== _this.lastRequest) return;\n              delete _this.lastRequest;\n\n              _this.setState({\n                isLoading: false,\n                loadedInputValue: inputValue,\n                loadedOptions: options || [],\n                passEmptyOptions: false\n              });\n            });\n          });\n        }\n\n        return inputValue;\n      });\n\n      _this.state = {\n        defaultOptions: Array.isArray(props.defaultOptions) ? props.defaultOptions : undefined,\n        inputValue: typeof props.inputValue !== 'undefined' ? props.inputValue : '',\n        isLoading: props.defaultOptions === true,\n        loadedOptions: [],\n        passEmptyOptions: false\n      };\n      return _this;\n    }\n\n    _createClass(Async, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        this.mounted = true;\n        var defaultOptions = this.props.defaultOptions;\n        var inputValue = this.state.inputValue;\n\n        if (defaultOptions === true) {\n          this.loadOptions(inputValue, function (options) {\n            if (!_this2.mounted) return;\n            var isLoading = !!_this2.lastRequest;\n\n            _this2.setState({\n              defaultOptions: options || [],\n              isLoading: isLoading\n            });\n          });\n        }\n      }\n    }, {\n      key: \"UNSAFE_componentWillReceiveProps\",\n      value: function UNSAFE_componentWillReceiveProps(nextProps) {\n        // if the cacheOptions prop changes, clear the cache\n        if (nextProps.cacheOptions !== this.props.cacheOptions) {\n          this.optionsCache = {};\n        }\n\n        if (nextProps.defaultOptions !== this.props.defaultOptions) {\n          this.setState({\n            defaultOptions: Array.isArray(nextProps.defaultOptions) ? nextProps.defaultOptions : undefined\n          });\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.mounted = false;\n      }\n    }, {\n      key: \"focus\",\n      value: function focus() {\n        this.select.focus();\n      }\n    }, {\n      key: \"blur\",\n      value: function blur() {\n        this.select.blur();\n      }\n    }, {\n      key: \"loadOptions\",\n      value: function loadOptions(inputValue, callback) {\n        var loadOptions = this.props.loadOptions;\n        if (!loadOptions) return callback();\n        var loader = loadOptions(inputValue, callback);\n\n        if (loader && typeof loader.then === 'function') {\n          loader.then(callback, function () {\n            return callback();\n          });\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this3 = this;\n\n        var _this$props2 = this.props,\n            loadOptions = _this$props2.loadOptions,\n            props = _objectWithoutProperties(_this$props2, [\"loadOptions\"]);\n\n        var _this$state = this.state,\n            defaultOptions = _this$state.defaultOptions,\n            inputValue = _this$state.inputValue,\n            isLoading = _this$state.isLoading,\n            loadedInputValue = _this$state.loadedInputValue,\n            loadedOptions = _this$state.loadedOptions,\n            passEmptyOptions = _this$state.passEmptyOptions;\n        var options = passEmptyOptions ? [] : inputValue && loadedInputValue ? loadedOptions : defaultOptions || [];\n        return React.createElement(SelectComponent, _extends({}, props, {\n          ref: function ref(_ref) {\n            _this3.select = _ref;\n          },\n          options: options,\n          isLoading: isLoading,\n          onInputChange: this.handleInputChange\n        }));\n      }\n    }]);\n\n    return Async;\n  }(Component), _defineProperty(_class, \"defaultProps\", defaultProps), _temp;\n};\n\nvar SelectState = manageState(Select);\nvar Async = makeAsyncSelect(SelectState);\nexport default Async;\nexport { defaultProps, makeAsyncSelect };","import axios from 'axios';\n\nimport { API_URL, subUrl } from './apiUrl';\nimport token from './getToken';\n\nconst headers = { Authorization: token };\n\nconst getLocations = inputValue => {\n  return axios.get(\n    `${API_URL}/${subUrl}/locations`,\n    {\n      params: {\n        'filter': {\n          'where': {\n            'name': { 'like': `%${inputValue}%`}\n          },\n          'limit': 50\n        }\n      },\n      headers\n    }\n  )\n}\n\nexport default getLocations;\n"],"sourceRoot":""}