{"version":3,"sources":["components/Header/HeaderTitle.js","ph-admin/modal/edit.jsx","ph-admin/modal/delete.jsx","ph-admin/modal/add.jsx","ph-admin/modal/index.jsx","ph-admin/alerts/index.jsx","ph-admin/api/getCount.js","ph-admin/api/getData.js","ph-admin/api/deleteRequest.js","ph-admin/table/index.jsx","ph-admin/routes/Plans.js"],"names":["withHeaderTitle","WrappedComponent","_Component","HeaderTitle","Object","_Users_effectiveuser_Desktop_product_hired_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_effectiveuser_Desktop_product_hired_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_effectiveuser_Desktop_product_hired_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","arguments","_Users_effectiveuser_Desktop_product_hired_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_effectiveuser_Desktop_product_hired_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","newProp","setHeaderTitle","headerTitle","pubsub","publish","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","assign","props","Component","EditModal","_ref","name","id","react_default","className","DeleteModal","itemOriginal","closeModal","deleteRequest","modalLoading","Fragment","concat","Spinner","Button","outline","color","onClick","AddModal","Modal","type","modalIsOpen","lib_default","ariaHideApp","isOpen","overlayClassName","onRequestClose","modal_delete","modal_edit","modal_add","Alerts","Alert","getCount","state","dataPath","filtered","where","forEach","i","like","axios","get","API_URL","params","headers","Authorization","token","then","res","data","count","catch","error","console","log","getData","startOrder","pageSize","page","sorted","filter","limit","skip","order","desc","delete","Table","loading","modalType","alertIsOpen","deleteClick","original","_this","setState","setTimeout","window","location","reload","editClick","addClick","_this2","idColumn","Header","accessor","width","style","textAlign","Cell","controlsColumn","sortable","filterable","_ref2","_this$props","wrapperClassname","columns","_this$state","alerts","modal","es","manual","pages","resizable","toConsumableArray","onFetchData","Math","ceil","React","Plans","fontWeight","price","_ph_admin_table__WEBPACK_IMPORTED_MODULE_6__"],"mappings":"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","file":"static/js/10.564a7b48.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport pubsub from \"pubsub-js\";\r\n\r\nexport function withHeaderTitle(WrappedComponent) {\r\n    return class HeaderTitle extends Component {\r\n        render() {\r\n            const newProp = {\r\n                setHeaderTitle: headerTitle => {\r\n                    pubsub.publish(\"setPageTitle\", headerTitle);\r\n                }\r\n            };\r\n            return <WrappedComponent {...this.props} {...newProp} />;\r\n        }\r\n    };\r\n}\r\n","import React from 'react';\nimport './scss/edit.scss';\n\nconst EditModal = ({ name, id }) => {\n  return (\n    <div className='ReactModal__edit'>\n      Edit modal\n    </div>\n  );\n}\n\nexport default EditModal;\n","import React from 'react';\nimport { Button } from \"reactstrap\";\n\nimport Spinner from '../../components/Spinner';\n\nimport './scss/delete.scss';\n\nconst DeleteModal = ({ itemOriginal, closeModal, deleteRequest, modalLoading }) => {\n  return (\n    <>\n      <div className='ReactModal__delete__title'>\n          <span>Are you sure you want to delete </span> <br/>\n          {`\"${itemOriginal.id}`} - <b>{`${itemOriginal.name}\"?`}</b>\n      </div>\n\n      {\n        modalLoading ? <Spinner /> : (\n          <div className='ReactModal__delete__buttons'>\n            <Button outline color=\"secondary\" onClick={closeModal}>Cancel</Button>\n            <Button outline color=\"danger\" onClick={deleteRequest}>Delete</Button>\n          </div>\n        )\n      }\n    </>\n  );\n}\n\nexport default DeleteModal;\n","import React from 'react';\nimport './scss/add.scss';\n\nconst AddModal = ({ name, id }) => {\n  return (\n    <div className='ReactModal__add'>\n      Add modal\n    </div>\n  );\n}\n\nexport default AddModal;\n","import React from \"react\";\nimport ReactModal from 'react-modal';\n\nimport EditModal from './edit';\nimport DeleteModal from './delete';\nimport AddModal from './add';\n\nimport './scss/common.scss';\n\nconst Modal = ({ type, modalIsOpen, closeModal, itemOriginal, deleteRequest, modalLoading }) => {\n  return (\n    <>\n      <ReactModal\n        ariaHideApp={false}\n        isOpen={modalIsOpen}\n        overlayClassName=\"ReactModal__Overlay\"\n        className={`ReactModal ReactModal__${type}`}\n        onRequestClose={modalLoading ? false : closeModal}\n      >\n        {\n          // delete\n          type === 'delete' && (\n            <DeleteModal\n              closeModal={closeModal}\n              itemOriginal={itemOriginal}\n              deleteRequest={deleteRequest}\n              modalLoading={modalLoading}\n            />\n          ) ||\n\n          // edit\n          type === 'edit' && (\n            <EditModal\n              closeModal={closeModal}\n              itemOriginal={itemOriginal}\n              modalLoading={modalLoading}\n            />\n          ) ||\n\n          // add\n          type === 'add' && (\n            <AddModal\n              closeModal={closeModal}\n              itemOriginal={itemOriginal}\n              deleteRequest={deleteRequest}\n              modalLoading={modalLoading}\n            />\n          )\n        }\n      </ReactModal>\n    </>\n  );\n};\n\nexport default Modal;\n","import React from 'react';\nimport { Alert } from \"reactstrap\";\n\nconst Alerts = ({ type, itemOriginal }) => {\n  return (\n    <>\n      {\n        // delete\n        type === 'delete' && (\n          <Alert color=\"danger\">\n            {`\"${itemOriginal.id}`} - <b>{`${itemOriginal.name}\" is deleted`}</b>\n          </Alert>\n        ) ||\n\n        // edit\n        type === 'edit' && (\n          <Alert color=\"warning\">\n            {`\"${itemOriginal.id}`} - <b>{`${itemOriginal.name}\" is edited`}</b>\n          </Alert>\n        ) ||\n\n        // add\n        type === 'add' && (\n          <Alert color=\"success\">\n            New item is added\n          </Alert>\n        ) ||\n\n        // error\n        type === 'error' && (\n          <Alert color=\"danger\">\n            <b>Error</b>. Something is wrong!\n          </Alert>\n        )\n      }\n    </>\n  )\n}\n\nexport default Alerts;\n","import axios from 'axios';\n\nimport API_URL from './apiUrl';\nimport token from './getToken';\n\n// state - own react-table state\n// data-path - url-parh for request\nconst getCount = (state, dataPath) => {\n  const { filtered } = state;\n\n  // where template for request\n  const where = {};\n\n  // when we are typing something inside filter-fields state of react-table is changing\n  // we take filter inputs values and inject to request params\n  filtered.forEach(i => {\n    if (i.id === 'id') where[i.id] = i.value\n    else               where[i.id] = { 'like': i.value + '%' }\n  });\n\n  // get-request for count\n  return axios.get(`${API_URL}/${dataPath}/count`, {\n    // inject where to params\n    params: { where },\n    headers: { Authorization: token },\n  })\n    // return count (number)\n    .then(res => res.data.count)\n\n    // TODO\n    .catch(error => console.log(error))\n};\n\nexport default getCount;\n","import axios from 'axios';\n\nimport API_URL from './apiUrl';\nimport token from './getToken';\n\nconst getData = (state, dataPath, startOrder) => {\n  const { pageSize, page, filtered, sorted } = state; // from own state of react-table\n\n  // filter-template\n  const filter = {\n    where: {},\n    limit: pageSize,\n    skip: page * pageSize,\n    order: startOrder\n  };\n\n  // inject where to filter\n  filtered.forEach(i => {\n    if (i.id === 'id') filter.where[i.id] = i.value\n    else               filter.where[i.id] = { 'like': i.value + '%' }\n  });\n\n  // inject order to filter\n  sorted.forEach(i => {\n    const desc = i.desc ? 'DESC' : 'ASC'\n    filter.order = `${i.id} ${desc}`;\n  });\n\n  // get-request for data\n  return axios.get(`${API_URL}/${dataPath}`, {\n    params: { filter },\n    headers: { Authorization: token },\n  })\n    // return [data]\n    .then(res => res.data)\n\n    // TODO\n    .catch(error => console.log(error))\n};\n\nexport default getData;\n","import axios from 'axios';\n\nimport API_URL from './apiUrl';\nimport token from './getToken';\n\nconst deleteRequest = (dataPath, id) => {\n  return axios.delete(\n    `${API_URL}/${dataPath}/${id}`,\n    {\n      headers: { Authorization: token }\n    })\n};\n\nexport default deleteRequest;\n","import React from 'react';\nimport ReactTable from 'react-table';\nimport Modal from '../modal';\nimport Alerts from '../alerts';\n\nimport getCount from '../api/getCount';\nimport getData from '../api/getData';\nimport deleteRequest from '../api/deleteRequest';\n\nimport './styles.scss';\n\n\nclass Table extends React.Component {\n  // major state of application //\n  state = {\n    // table //\n    data: [],\n    count: null,\n    loading: false,\n    itemOriginal: null, // rowInfo, when clicked to delete or edit\n\n    // modal //\n    modalType: '',\n    modalIsOpen: false,\n    modalLoading: false,\n\n    // alert //\n    alertIsOpen: false\n  }\n\n  deleteClick = original => () => {\n    this.setState({\n      modalType: 'delete',\n      modalIsOpen: true,\n      itemOriginal: original,\n      alertIsOpen: false\n    });\n  }\n\n  delete = () => {\n    const { dataPath } = this.props;\n    const { itemOriginal: { id } } = this.state;\n\n    // start modal-loader\n    this.setState({ modalLoading: true });\n\n    deleteRequest(dataPath, id)\n      // if delete ok\n      .then(res => {\n        console.log(res);\n        this.setState({ modalIsOpen: false, modalLoading: false })\n      })\n\n      // show alert and reload page with timeOut\n      .then(() => {\n        this.setState({ alertIsOpen: true });\n\n        setTimeout(() => {\n          this.setState({ alertIsOpen: false });\n          window.location.reload();\n        }, 2000);\n      })\n\n      // if error\n      .catch(error => {\n        console.log(error);\n        this.setState({ alertIsOpen: true, modalType: 'error' });\n      })\n  }\n\n  editClick = original => () => {\n    this.setState({\n      modalType: 'edit',\n      modalIsOpen: true,\n      itemOriginal: original,\n      alertIsOpen: false\n    });\n  }\n\n  addClick = original => () => {\n    this.setState({\n      modalType: 'add',\n      modalIsOpen: true,\n      itemOriginal: original\n    });\n  }\n\n  render() {\n    const idColumn = [\n      {\n        Header: 'Id',\n        accessor: 'id',\n        width: 60,\n        style: { textAlign: 'right' },\n        Cell: ({ original }) => <div>{original.id || '...'}</div>\n      }\n    ];\n\n    const controlsColumn = [\n      {\n        Header: '',\n        width: 65,\n        sortable: false,\n        filterable: false,\n        Cell: ({ original }) => (\n          <div className=\"rt-custom__controls\">\n            <i className=\"ion-android-delete\" onClick={this.deleteClick(original)} />\n            <i className=\"ion-edit\" onClick={this.editClick(original)} />\n          </div>\n        )\n      }\n    ];\n\n    const { wrapperClassname, columns, dataPath, startOrder } = this.props;\n    const { loading, count, data, modalIsOpen, itemOriginal, modalType, modalLoading, alertIsOpen } = this.state;\n\n    return (\n      <div className={`${wrapperClassname}`}>\n        { alertIsOpen && <Alerts type={modalType} itemOriginal={itemOriginal} /> }\n\n        <Modal\n          type={modalType}\n          modalIsOpen={modalIsOpen}\n          modalLoading={modalLoading}\n          itemOriginal={itemOriginal}\n          deleteRequest={this.delete}\n          closeModal={() => this.setState({ modalIsOpen: false })}\n        />\n\n        <ReactTable\n          data={data}\n          manual={true}\n          pages={count}\n          resizable={true}\n          filterable={true}\n          loading={loading}\n          className=\"-striped -highlight\"\n          columns={[...idColumn, ...columns, ...controlsColumn]}\n          dataPath={dataPath}\n          startOrder={startOrder}\n          onFetchData={state => {\n            // use ReactTable own state to forming a request\n            // it refresh always when we're doing any actions with this table\n            this.setState({ loading: true });\n\n            // axios -> getCount\n            getCount(state, dataPath)\n              .then(count => this.setState({ count: Math.ceil(count / state.pageSize) }))\n\n              // axios -> getData\n              .then(() => getData(state, dataPath, startOrder))\n              .then(data => this.setState({ data, loading: false }))\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Table;\n","import React from \"react\";\nimport Table from '../../ph-admin/table';\n\nimport { withHeaderTitle } from '../../components/Header/HeaderTitle';\n\nclass Plans extends React.Component {\n  UNSAFE_componentWillMount() { this.props.setHeaderTitle('Plans') }\n\n  render() {\n    const columns = [\n      { Header: 'Plan',\n        accessor: 'plan',\n        style: { fontWeight: 'bold' },\n        Cell: ({ original }) => <div>{original.name || '...'}</div> },\n\n      { Header: 'Price',\n        accessor: 'price',\n        Cell: ({ original }) => <div>{`$${original.price}`}</div> || '...' },\n    ];\n\n    return <Table columns={columns} dataPath='plans' wrapperClassname='plans-table' />;\n  }\n}\n\nexport default withHeaderTitle(Plans);\n"],"sourceRoot":""}