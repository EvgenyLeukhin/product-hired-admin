(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{418:function(e,a,t){"use strict";t.d(a,"a",function(){return u});var n=t(10),l=t(11),o=t(14),r=t(12),i=t(13),c=t(0),s=t.n(c),d=t(30),m=t.n(d);function u(e){return function(a){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(i.a)(t,a),Object(l.a)(t,[{key:"render",value:function(){var a={setHeaderTitle:function(e){m.a.publish("setPageTitle",e)}};return s.a.createElement(e,Object.assign({},this.props,a))}}]),t}(c.Component)}},422:function(e,a,t){"use strict";var n=t(0),l=t.n(n),o=t(447);t(423);a.a=function(e){return l.a.createElement(o.a,Object.assign({},e,{resizable:!0,filterable:!0,className:"-striped -highlight"}))}},423:function(e,a,t){},425:function(e,a,t){"use strict";var n=t(111),l=t(0),o=t.n(l),r=t(641);a.a=function(e){var a=e.type,t=e.original,i=e.errorText,c=Object(l.useState)(!0),s=Object(n.a)(c,2),d=s[0],m=s[1];return o.a.createElement(o.a.Fragment,null,"add"===a&&o.a.createElement(r.a,{color:"success"},"New item is added")||"edit"===a&&o.a.createElement(r.a,{color:"warning"},'"'.concat(t.id)," - ",o.a.createElement("b",null,"".concat(t.name,'" is edited')))||"delete"===a&&o.a.createElement(r.a,{color:"danger"},'"'.concat(t.id)," - ",o.a.createElement("b",null,"".concat(t.name,'" is deleted')))||"error"===a&&o.a.createElement(r.a,{color:"danger",isOpen:d,toggle:function(){return m(!1)}},i))}},426:function(e,a,t){"use strict";var n=t(0),l=t.n(n),o=t(419),r=t.n(o);t(427),t(429);a.a=function(e){var a=e.isOpen,t=e.modalLoading,n=e.closeModal;return l.a.createElement(r.a,Object.assign({},e,{ariaHideApp:!1,isOpen:a,overlayClassName:"ReactModal__Overlay",className:"ReactModal ReactModal__edit",portalClassName:"ReactModal__Portal__edit",onRequestClose:!t&&n}),e.children)}},427:function(e,a,t){},429:function(e,a,t){},463:function(e,a,t){"use strict";var n=t(0),l=t.n(n),o=t(282),r=t(6),i=t.n(r);t(464);a.a=function(e){var a=e.text,t=e.loading,n=e.addClick;return l.a.createElement(o.a,{type:"button",color:"primary",onClick:n,className:i()("add-button",{"is-loading":t})},"Add ",a)}},464:function(e,a,t){},466:function(e,a,t){"use strict";var n=t(0),l=t.n(n),o=t(419),r=t.n(o);t(468),t(470);a.a=function(e){var a=e.isOpen,t=e.modalLoading,n=e.closeModal;return l.a.createElement(r.a,Object.assign({},e,{ariaHideApp:!1,isOpen:a,overlayClassName:"ReactModal__Overlay",className:"ReactModal ReactModal__add",portalClassName:"ReactModal__Portal__add",onRequestClose:!t&&n}),e.children)}},468:function(e,a,t){},470:function(e,a,t){},472:function(e,a,t){"use strict";var n=t(0),l=t.n(n),o=t(419),r=t.n(o);t(473);a.a=function(e){var a=e.isOpen,t=e.modalLoading,n=e.closeModal;return l.a.createElement(r.a,Object.assign({},e,{ariaHideApp:!1,isOpen:a,overlayClassName:"ReactModal__Overlay",className:"ReactModal ReactModal__delete",portalClassName:"ReactModal__Portal__delete",onRequestClose:!t&&n}),e.children)}},473:function(e,a,t){},652:function(e,a,t){"use strict";t.r(a);var n=t(43),l=t(5),o=t(10),r=t(11),i=t(14),c=t(12),s=t(13),d=t(0),m=t.n(d),u=t(422),g=t(425),p=t(463),h=t(466),E=t(109),f=t(282),v=function(e){var a=e.name,t=e.slug,n=e.weight,l=e.markers,o=e.isOpen,r=e.closeModal,i=e.onChange,c=e.onSubmit,s=e.modalLoading;return m.a.createElement(h.a,{isOpen:o,modalLoading:s,closeModal:r},m.a.createElement("section",{className:"section-container add-container"},m.a.createElement("h4",{className:"add-container__title"},"Add skill"),m.a.createElement("span",{className:"ion-close-round add-container__close",onClick:r}),m.a.createElement("div",{className:"cardbox"},m.a.createElement("div",{className:"cardbox-body"},m.a.createElement("form",{action:"",onSubmit:c},m.a.createElement("fieldset",null,m.a.createElement("div",{className:"form-group row"},m.a.createElement("div",{className:"col-md-5"},m.a.createElement("label",{htmlFor:"add-name"},"Skill"),m.a.createElement("input",{name:"name",type:"text",value:a,id:"add-name",onChange:i,className:"form-control"})),m.a.createElement("div",{className:"col-md-5"},m.a.createElement("label",{htmlFor:"add-slug"},"Slug"),m.a.createElement("input",{name:"slug",type:"text",value:t,id:"add-slug",onChange:i,className:"form-control"})),m.a.createElement("div",{className:"col-md-2"},m.a.createElement("label",{htmlFor:"add-weight"},"Weight"),m.a.createElement("input",{min:0,max:999,name:"weight",type:"number",value:n,id:"add-weight",onChange:i,className:"form-control"})),m.a.createElement("div",{className:"col-md-12"},m.a.createElement("label",{htmlFor:"add-aliases"},"Aliases"),m.a.createElement("textarea",{rows:3,type:"text",name:"markers",value:l,id:"add-aliases",onChange:i,className:"form-control"})))),s?m.a.createElement("div",{className:"add-container__is-loading"},m.a.createElement(E.a,null)):m.a.createElement("footer",{className:"add-container__buttons"},m.a.createElement(f.a,{outline:!0,color:"secondary",onClick:r},"Cancel"),m.a.createElement(f.a,{disabled:!a||!t,outline:!0,color:"primary",type:"submit"},"Save")))))))},b=t(426),O=function(e){var a=e.name,t=e.slug,n=e.weight,l=e.markers,o=e.original,r=e.isOpen,i=e.closeModal,c=e.onChange,s=e.onSubmit,d=e.modalLoading,u=e.deleteClick;return m.a.createElement(b.a,{isOpen:r,modalLoading:d,closeModal:i},m.a.createElement("section",{className:"section-container edit-container"},m.a.createElement("h4",{className:"edit-container__title"},"Edit\xa0",m.a.createElement("b",null,'"'.concat(o.id," - ").concat(o.name,'"'))),m.a.createElement("span",{className:"ion-close-round edit-container__close",onClick:i}),m.a.createElement("div",{className:"cardbox"},m.a.createElement("div",{className:"cardbox-body"},m.a.createElement("form",{action:"",onSubmit:s},m.a.createElement("fieldset",null,m.a.createElement("div",{className:"form-group row"},m.a.createElement("div",{className:"col-md-5"},m.a.createElement("label",{htmlFor:"edit-name"},"Skill"),m.a.createElement("input",{name:"name",type:"text",value:a,id:"edit-name",onChange:c,className:"form-control"})),m.a.createElement("div",{className:"col-md-5"},m.a.createElement("label",{htmlFor:"edit-slug"},"Slug"),m.a.createElement("input",{name:"slug",type:"text",value:t,id:"edit-slug",onChange:c,className:"form-control"})),m.a.createElement("div",{className:"col-md-2"},m.a.createElement("label",{htmlFor:"edit-weight"},"Weight"),m.a.createElement("input",{min:0,max:999,name:"weight",type:"number",value:n,id:"edit-weight",onChange:c,className:"form-control"})),m.a.createElement("div",{className:"col-md-12"},m.a.createElement("label",{htmlFor:"edit-aliases"},"Aliases"),m.a.createElement("textarea",{rows:3,type:"text",name:"markers",value:l,id:"edit-aliases",onChange:c,className:"form-control"})))),d?m.a.createElement("div",{className:"edit-container__is-loading"},m.a.createElement(E.a,null)):m.a.createElement("footer",{className:"edit-container__buttons"},m.a.createElement(f.a,{outline:!0,color:"danger",onClick:u},"Delete"),m.a.createElement(f.a,{outline:!0,color:"secondary",onClick:i},"Cancel"),m.a.createElement(f.a,{outline:!0,color:"primary",type:"submit"},"Save")))))))},k=t(472),C=function(e){var a=e.isOpen,t=e.modalLoading,n=e.closeModal,l=e.original,o=e.deleteSubmit;return m.a.createElement(k.a,{isOpen:a,modalLoading:t,closeModal:n},m.a.createElement("section",{className:"section-container delete-container"},m.a.createElement("span",{className:"ion-close-round ReactModal__delete__close",onClick:n}),m.a.createElement("div",{className:"ReactModal__delete__title"},m.a.createElement("span",null,"Are you sure you want to delete ")," ",m.a.createElement("br",null),m.a.createElement("span",null,l.id," - ",m.a.createElement("b",null,l.name),"?")),t?m.a.createElement("div",{className:"ReactModal__delete__is-loading"},m.a.createElement(E.a,null)):m.a.createElement("footer",{className:"ReactModal__delete__buttons"},m.a.createElement(f.a,{outline:!0,color:"secondary",onClick:n},"Cancel"),m.a.createElement(f.a,{outline:!0,color:"danger",onClick:o},"Delete"))))},M=t(418),_=t(58),N=t.n(_),S=t(57),y=function(){var e=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return N.a.get("".concat(S.a,"/").concat(S.b,"/skills"),{params:{filter:{order:"id DESC"}},headers:{Authorization:e}})},w=function(e,a,t,n){var l=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return N.a.post("".concat(S.a,"/").concat(S.b,"/skills"),{name:e,slug:a,weight:t,markers:n},{headers:{Authorization:l}})},I=function(e,a,t,n,l){var o=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return N.a.patch("".concat(S.a,"/").concat(S.b,"/skills/").concat(e),{name:a,slug:t,markers:n,weight:l},{headers:{Authorization:o}})},L=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return N.a.delete("".concat(S.a,"/").concat(S.b,"/skills/").concat(e),{headers:{Authorization:a}})},x=[{Header:"Id",accessor:"id",width:60,style:{textAlign:"right"},Cell:function(e){var a=e.original;return m.a.createElement("div",null,a.id||"...")}},{Header:"Skill",accessor:"name",style:{fontWeight:"bold"},Cell:function(e){var a=e.original;return m.a.createElement("div",null,a.name||"...")},filterMethod:function(e,a){var t=e.pivotId||e.id;return void 0===a[t]||String(a[t].toLowerCase()).includes(e.value.toLowerCase())}},{Header:"Slug",accessor:"slug",Cell:function(e){var a=e.original;return m.a.createElement("div",null,a.slug||"...")},filterMethod:function(e,a){var t=e.pivotId||e.id;return void 0===a[t]||String(a[t].toLowerCase()).includes(e.value.toLowerCase())}},{Header:"Aliases",accessor:"markers",Cell:function(e){var a=e.original;return m.a.createElement("div",null,a.markers||"...")},filterMethod:function(e,a){var t=e.pivotId||e.id;return void 0===a[t]||String(a[t].toLowerCase()).includes(e.value.toLowerCase())}},{Header:"Weight",accessor:"weight",width:60,Cell:function(e){var a=e.original;return m.a.createElement("div",null,a.weight||"...")}}],j=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(i.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(r)))).state={skills:[],tableLoading:!1,original:{},alertIsOpen:!1,alertType:"",alertErrorText:"",addModalIsOpen:!1,editModalIsOpen:!1,deleteModalIsOpen:!1,modalLoading:!1,id:null,name:"",slug:"",weight:null,markers:""},t.onChange=function(e){return t.setState(Object(l.a)({},e.target.name,e.target.value))},t.catchErrors=function(e){401===e.response.status?(localStorage.removeItem("ph-admin-user-data"),t.props.history.push("/login")):t.setState({modalLoading:!1,addModalIsOpen:!1,editModalIsOpen:!1,deleteModalIsOpen:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(e)})},t.addClick=function(){t.setState({addModalIsOpen:!0,alertIsOpen:!1,name:"",slug:"",weight:null,markers:""})},t.addSubmit=function(e){e.preventDefault(),t.setState({modalLoading:!0});var a=t.state,n=a.name,l=a.slug,o=a.weight,r=a.markers,i=a.skills;w(n,l,o,r).then(function(e){var a=[e.data].concat(i);t.setState({modalLoading:!1,addModalIsOpen:!1,alertType:"add",alertIsOpen:!0,skills:a}),setTimeout(function(){t.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return t.catchErrors(e)})},t.editClick=function(e){return function(){t.setState({original:e,alertIsOpen:!1,editModalIsOpen:!0,id:e.id,name:e.name,slug:e.slug,markers:e.markers,weight:e.weight})}},t.editSubmit=function(e){e.preventDefault(),t.setState({modalLoading:!0});var a=t.state,n=a.id,l=a.name,o=a.slug,r=a.markers,i=a.weight;I(n,l,o,r,i).then(function(){for(var e=t.state.skills,a=0;a<e.length;a++)e[a].id===n&&(e[a]={id:n,name:l,slug:o,markers:r,weight:i});t.setState({skills:e,modalLoading:!1,editModalIsOpen:!1,alertType:"edit",alertIsOpen:!0}),setTimeout(function(){t.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return t.catchErrors(e)})},t.deleteClick=function(e){return function(){t.setState({original:e,deleteModalIsOpen:!0})}},t.deleteSubmit=function(){var e=[],a=t.state,n=a.skills,l=a.original.id;t.setState({modalLoading:!0}),L(l).then(function(){for(var a=0;a<n.length;a++)n[a].id!==l&&e.push(n[a]);t.setState({skills:e,editModalIsOpen:!1,deleteModalIsOpen:!1,modalLoading:!1,alertType:"delete",alertIsOpen:!0}),setTimeout(function(){t.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return t.catchErrors(e)})},t.closeAddModal=function(){return!t.state.modalLoading&&t.setState({addModalIsOpen:!1})},t.closeEditModal=function(){return!t.state.modalLoading&&t.setState({editModalIsOpen:!1})},t.closeDeleteModal=function(){return!t.state.modalLoading&&t.setState({deleteModalIsOpen:!1})},t}return Object(s.a)(a,e),Object(r.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.setHeaderTitle("Skills")}},{key:"componentDidMount",value:function(){var e=this;this.setState({tableLoading:!0}),y().then(function(a){return e.setState({skills:a.data,tableLoading:!1})}).catch(function(a){return e.catchErrors(a)}),document.addEventListener("keyup",function(a){return 27===a.keyCode&&e.closeEditModal()})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",function(e){return 27===e.keyCode})}},{key:"render",value:function(){var e=this,a=this.state,t=a.tableLoading,l=a.original,o=a.skills,r=a.name,i=a.slug,c=a.weight,s=a.markers,d=a.addModalIsOpen,h=a.editModalIsOpen,E=a.modalLoading,f=a.deleteModalIsOpen,b=a.alertIsOpen,k=a.alertType,M=a.alertErrorText,_=[{Header:"",width:65,sortable:!1,filterable:!1,Cell:function(a){var t=a.original;return m.a.createElement("div",{className:"rt-custom__controls"},m.a.createElement("i",{className:"ion-android-delete",onClick:e.deleteClick(t)}),m.a.createElement("i",{className:"ion-edit",onClick:e.editClick(t)}))}}];return m.a.createElement("div",{className:"roles-page"},b&&m.a.createElement(g.a,{type:k,original:l,errorText:M}),m.a.createElement(p.a,{text:"skill",loading:E,addClick:this.addClick}),m.a.createElement(v,{name:r,slug:i,weight:c,markers:s,isOpen:d,modalLoading:E,closeModal:this.closeAddModal,onChange:this.onChange,onSubmit:this.addSubmit}),m.a.createElement(O,{original:l,name:r,slug:i,weight:c,markers:s,isOpen:h,modalLoading:E,closeModal:this.closeEditModal,onChange:this.onChange,onSubmit:this.editSubmit,deleteClick:this.deleteClick(l)}),m.a.createElement(C,{isOpen:f,modalLoading:E,closeModal:this.closeDeleteModal,original:l,deleteSubmit:this.deleteSubmit}),m.a.createElement(u.a,{data:o,manual:!1,loading:t,columns:[].concat(Object(n.a)(x),_)}))}}]),a}(m.a.Component);a.default=Object(M.a)(j)}}]);
//# sourceMappingURL=7.33e1182e.chunk.js.map