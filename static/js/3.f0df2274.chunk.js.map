{"version":3,"sources":["components/Header/HeaderTitle.js","views/Pages/Companies.js"],"names":["withHeaderTitle","WrappedComponent","_Component","HeaderTitle","Object","_Users_effectiveuser_Desktop_ph_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_effectiveuser_Desktop_ph_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_effectiveuser_Desktop_ph_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","arguments","_Users_effectiveuser_Desktop_ph_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_effectiveuser_Desktop_ph_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","newProp","setHeaderTitle","headerTitle","pubsub","publish","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","assign","props","Component","Companies","state","loading","error","companies","_this2","userToken","localStorage","getItem","axios","get","concat","API_URL","headers","Authorization","then","setState","res","console","log","data","catch","_ref3","_ref5","_this$state","columns","Header","accessor","width","Cell","_ref","original","react__WEBPACK_IMPORTED_MODULE_6___default","style","textAlign","id","_Users_effectiveuser_Desktop_ph_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","d","name","filter","rows","matchSorter","keys","_ref2","src","logo","height","domain","_ref4","href","target","rel","react_table__WEBPACK_IMPORTED_MODULE_7__","className","filterable","resizable","React"],"mappings":"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","file":"static/js/3.f0df2274.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport pubsub from \"pubsub-js\";\r\n\r\nexport function withHeaderTitle(WrappedComponent) {\r\n    return class HeaderTitle extends Component {\r\n        render() {\r\n            const newProp = {\r\n                setHeaderTitle: headerTitle => {\r\n                    pubsub.publish(\"setPageTitle\", headerTitle);\r\n                }\r\n            };\r\n            return <WrappedComponent {...this.props} {...newProp} />;\r\n        }\r\n    };\r\n}\r\n","import React from \"react\";\nimport ReactTable from \"react-table\";\n\nimport matchSorter from 'match-sorter';\n\nimport axios from 'axios';\nimport API_URL from '../../consts/apiUrl';\n\nimport { withHeaderTitle } from '../../components/Header/HeaderTitle';\n\n\nclass Companies extends React.Component {\n  state = {\n    loading: false,\n    error: false,\n    companies: []\n  }\n\n  UNSAFE_componentWillMount() {\n    this.props.setHeaderTitle('Companies');\n  }\n\n  componentDidMount() {\n    const userToken = localStorage.getItem('ph-admin-token');\n\n    axios.get(`${API_URL}/api/api/companies`, {\n        headers: { Authorization: userToken }\n    })\n        .then(this.setState({ loading: true }))\n\n        .then(res => {\n          console.log(res.data);\n            this.setState({ \n              companies: res.data,\n              loading: false,\n            });\n            console.log(res);\n        })\n\n        .catch(error => {\n          console.log(error);\n          this.setState({ \n            error: true,\n            loading: false,\n          });\n        })\n  }\n\n  render() {\n    const { companies, loading } = this.state;\n\n    const columns = [\n      { \n        Header: 'ID',\n        accessor: 'id',\n        width: 60,\n        Cell: ({ original }) => {\n          return (\n            <div style={{ textAlign: 'right' }}>\n              <span>{original.id}</span>\n            </div>\n          );\n        }\n      }, \n      { \n        Header: 'Name', \n        accessor: 'name',\n        id: 'name',\n        accessor: d => d.name,\n        filterMethod: (filter, rows) => matchSorter(rows, filter.value, { keys: ['name'] }),\n        filterAll: true,\n        Cell: ({ original }) => {\n          return (\n            <div>\n              <img src={original.logo} width={20} height=\"auto\" />\n              &nbsp;&nbsp;\n              <span>{original.name}</span>\n            </div>\n          );\n        }\n      },\n      { \n        Header: 'Domain', \n        accessor: 'domain',\n        id: 'domain',\n        accessor: d => d.domain,\n        filterMethod: (filter, rows) => matchSorter(rows, filter.value, { keys: ['domain'] }),\n        filterAll: true,\n        Cell: ({ original }) => {\n          return (\n            <a href={`http://${original.domain}`} target=\"_blank\" rel=\"noopener noreferrer\">{original.domain}</a>\n          );\n        }\n      },\n    ];\n    \n    return (\n      <div>\n        <ReactTable\n          className=\"-striped -highlight\"\n          data={companies}\n          columns={columns}\n          filterable={true}\n          resizable={true}\n          loading={loading}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withHeaderTitle(Companies);\n"],"sourceRoot":""}