{"version":3,"sources":["components/Header/HeaderTitle.js","views/Pages/Companies.js"],"names":["withHeaderTitle","WrappedComponent","_Component","HeaderTitle","Object","_Users_effectiveuser_Desktop_ph_admin_clean_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_effectiveuser_Desktop_ph_admin_clean_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_effectiveuser_Desktop_ph_admin_clean_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","arguments","_Users_effectiveuser_Desktop_ph_admin_clean_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_effectiveuser_Desktop_ph_admin_clean_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","newProp","setHeaderTitle","headerTitle","pubsub","publish","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","assign","props","Component","Companies","state","loading","companies","_this2","userToken","localStorage","getItem","axios","get","concat","API_URL","headers","Authorization","then","setState","res","data","columns","Header","accessor","width","Cell","_ref","original","style","textAlign","id","_ref2","src","logo","height","name","_ref3","href","domain","target","rel","_this$state","className","react_table__WEBPACK_IMPORTED_MODULE_6__","filterable","resizable"],"mappings":"sMAGO,SAASA,EAAgBC,GAC5B,gBAAAC,GAAA,SAAAC,IAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAH,GAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAD,GAAAM,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAD,EAAAD,GAAAE,OAAAQ,EAAA,EAAAR,CAAAD,EAAA,EAAAU,IAAA,SAAAC,MAAA,WAEQ,IAAMC,EAAU,CACZC,eAAgB,SAAAC,GACZC,IAAOC,QAAQ,eAAgBF,KAGvC,OAAOG,EAAAC,EAAAC,cAACrB,EAADG,OAAAmB,OAAA,GAAsBjB,KAAKkB,MAAWT,QAPrDZ,EAAA,CAAiCsB,6JCK/BC,6MACFC,MAAQ,CACNC,SAAS,EACTC,UAAW,wFAITvB,KAAKkB,MAAMR,eAAe,yDAGV,IAAAc,EAAAxB,KACZyB,EAAYC,aAAaC,QAAQ,kBAEvCC,IAAMC,IAAN,GAAAC,OAAaC,IAAb,sBAA0C,CACtCC,QAAS,CAAEC,cAAeR,KAEzBS,KAAKlC,KAAKmC,SAAS,CAAEb,SAAS,KAE9BY,KAAK,SAAAE,GACFZ,EAAKW,SAAS,CACZZ,UAAWa,EAAIC,KACff,SAAS,uCAQnB,IAAMgB,EAAU,CACd,CACEC,OAAQ,KACRC,SAAU,KACVC,MAAO,GACPC,KAAM,SAAAC,GAAkB,IAAfC,EAAeD,EAAfC,SACP,OACE9B,EAAAC,EAAAC,cAAA,OAAK6B,MAAO,CAAEC,UAAW,UACvBhC,EAAAC,EAAAC,cAAA,YAAO4B,EAASG,OAKxB,CACER,OAAQ,OACRC,SAAU,OACVE,KAAM,SAAAM,GAAkB,IAAfJ,EAAeI,EAAfJ,SACP,OACE9B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKiC,IAAKL,EAASM,KAAMT,MAAO,GAAIU,OAAO,SAD7C,WAGErC,EAAAC,EAAAC,cAAA,YAAO4B,EAASQ,SAKxB,CACEb,OAAQ,SACRC,SAAU,SACVE,KAAM,SAAAW,GAAkB,IAAfT,EAAeS,EAAfT,SACP,OACE9B,EAAAC,EAAAC,cAAA,KAAGsC,KAAI,UAAAxB,OAAYc,EAASW,QAAUC,OAAO,SAASC,IAAI,uBAAuBb,EAASW,WAjC3FG,EAuCwB1D,KAAKqB,MAA5BE,EAvCDmC,EAuCCnC,UAvCDmC,EAuCYpC,QAEjB,OACIR,EAAAC,EAAAC,cAAA,WAAS2C,UAAU,qBACjB7C,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CACEvB,KAAMd,EACNe,QAASA,EACTuB,YAAY,EACZC,WAAW,YA1EH3C,aAiFTzB,sBAAgB0B","file":"static/js/2.fcdb14fc.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport pubsub from \"pubsub-js\";\r\n\r\nexport function withHeaderTitle(WrappedComponent) {\r\n    return class HeaderTitle extends Component {\r\n        render() {\r\n            const newProp = {\r\n                setHeaderTitle: headerTitle => {\r\n                    pubsub.publish(\"setPageTitle\", headerTitle);\r\n                }\r\n            };\r\n            return <WrappedComponent {...this.props} {...newProp} />;\r\n        }\r\n    };\r\n}\r\n","import React, { Component } from \"react\";\nimport ReactTable from 'react-table';\nimport { NavLink } from 'react-router-dom';\n\nimport axios from 'axios';\nimport API_URL from '../../consts/apiUrl';\n\nimport { withHeaderTitle } from '../../components/Header/HeaderTitle';\n\nclass Companies extends Component {\n    state = {\n      loading: false,\n      companies: []\n    }\n\n    componentWillMount() {\n        this.props.setHeaderTitle('Companies');\n    }\n\n    componentDidMount() {\n      const userToken = localStorage.getItem('ph-admin-token');\n\n      axios.get(`${API_URL}/api/api/companies`, {\n          headers: { Authorization: userToken }\n      })\n          .then(this.setState({ loading: true }))\n\n          .then(res => {\n              this.setState({ \n                companies: res.data,\n                loading: false,\n                // companies: res.data.slice(0, 100), // only 100\n              });\n          })\n    }\n\n    render() {\n\n      const columns = [\n        { \n          Header: 'ID',\n          accessor: 'id',\n          width: 60,\n          Cell: ({ original }) => {\n            return (\n              <div style={{ textAlign: 'right' }}>\n                <span>{original.id}</span>\n              </div>\n            );\n          }\n        }, \n        { \n          Header: 'Name', \n          accessor: 'name',\n          Cell: ({ original }) => {\n            return (\n              <div>\n                <img src={original.logo} width={20} height=\"auto\" />\n                &nbsp;&nbsp;\n                <span>{original.name}</span>\n              </div>\n            );\n          }\n        },\n        { \n          Header: 'Domain', \n          accessor: 'domain',\n          Cell: ({ original }) => {\n            return (\n              <a href={`http://${original.domain}`} target=\"_blank\" rel=\"noopener noreferrer\">{original.domain}</a>\n            );\n          }\n        },\n      ];\n\n      const { companies, loading } = this.state;\n\n        return (\n            <section className=\"section-container\">\n              <ReactTable \n                data={companies} \n                columns={columns} \n                filterable={true}\n                resizable={true}\n              />\n            </section>\n        );\n    }\n}\n\nexport default withHeaderTitle(Companies);"],"sourceRoot":""}