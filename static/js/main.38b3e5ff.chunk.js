(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{228:function(e,a,t){},238:function(e,a,t){},244:function(e,a,t){e.exports=t(651)},318:function(e,a){!function(e,a,t){var n=[],l={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,a){var t=this;setTimeout(function(){a(t[e])},0)},addTest:function(e,a,t){n.push({name:e,fn:a,options:t})},addAsyncTest:function(e){n.push({name:null,fn:e})}},r=function(){};r.prototype=l,r=new r;var o=[];function i(e,a){return typeof e===a}var c=a.documentElement,s="svg"===c.nodeName.toLowerCase();function m(e){var a=c.className,t=r._config.classPrefix||"";if(s&&(a=a.baseVal),r._config.enableJSClass){var n=new RegExp("(^|\\s)"+t+"no-js(\\s|$)");a=a.replace(n,"$1"+t+"js$2")}r._config.enableClasses&&(a+=" "+t+e.join(" "+t),s?c.className.baseVal=a:c.className=a)}function d(){return"function"!==typeof a.createElement?a.createElement(arguments[0]):s?a.createElementNS.call(a,"http://www.w3.org/2000/svg",arguments[0]):a.createElement.apply(a,arguments)}r.addTest("bgpositionshorthand",function(){var e=d("a").style,a="right 10px bottom 10px";return e.cssText="background-position: "+a+";",e.backgroundPosition===a});var u=l._config.usePrefixes?"Moz O ms Webkit".split(" "):[];l._cssomPrefixes=u;var p={elem:d("modernizr")};r._q.push(function(){delete p.elem});var g={style:p.elem.style};function h(e,t,n,l){var r,o,i,m,u="modernizr",p=d("div"),g=function(){var e=a.body;return e||((e=d(s?"svg":"body")).fake=!0),e}();if(parseInt(n,10))for(;n--;)(i=d("div")).id=l?l[n]:u+(n+1),p.appendChild(i);return(r=d("style")).type="text/css",r.id="s"+u,(g.fake?g:p).appendChild(r),g.appendChild(p),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(a.createTextNode(e)),p.id=u,g.fake&&(g.style.background="",g.style.overflow="hidden",m=c.style.overflow,c.style.overflow="hidden",c.appendChild(g)),o=t(p,e),g.fake?(g.parentNode.removeChild(g),c.style.overflow=m,c.offsetHeight):p.parentNode.removeChild(p),!!o}function v(e){return e.replace(/([A-Z])/g,function(e,a){return"-"+a.toLowerCase()}).replace(/^ms-/,"-ms-")}function f(a,n){var l=a.length;if("CSS"in e&&"supports"in e.CSS){for(;l--;)if(e.CSS.supports(v(a[l]),n))return!0;return!1}if("CSSSupportsRule"in e){for(var r=[];l--;)r.push("("+v(a[l])+":"+n+")");return h("@supports ("+(r=r.join(" or "))+") { #modernizr { position: absolute; } }",function(a){return"absolute"==function(a,t,n){var l;if("getComputedStyle"in e){l=getComputedStyle.call(e,a,t);var r=e.console;null!==l?n&&(l=l.getPropertyValue(n)):r&&r[r.error?"error":"log"].call(r,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else l=!t&&a.currentStyle&&a.currentStyle[n];return l}(a,null,"position")})}return t}r._q.unshift(function(){delete g.style});var E=l._config.usePrefixes?"Moz O ms Webkit".toLowerCase().split(" "):[];function b(e,a){return function(){return e.apply(a,arguments)}}function y(e,a,n,l,r){var o=e.charAt(0).toUpperCase()+e.slice(1),c=(e+" "+u.join(o+" ")+o).split(" ");return i(a,"string")||i(a,"undefined")?function(e,a,n,l){if(l=!i(l,"undefined")&&l,!i(n,"undefined")){var r=f(e,n);if(!i(r,"undefined"))return r}for(var o,c,s,m,u,p=["modernizr","tspan","samp"];!g.style&&p.length;)o=!0,g.modElem=d(p.shift()),g.style=g.modElem.style;function h(){o&&(delete g.style,delete g.modElem)}for(s=e.length,c=0;c<s;c++)if(m=e[c],u=g.style[m],~(""+m).indexOf("-")&&(m=m.replace(/([a-z])-([a-z])/g,function(e,a,t){return a+t.toUpperCase()}).replace(/^-/,"")),g.style[m]!==t){if(l||i(n,"undefined"))return h(),"pfx"!=a||m;try{g.style[m]=n}catch(v){}if(g.style[m]!=u)return h(),"pfx"!=a||m}return h(),!1}(c,a,l,r):function(e,a,t){var n;for(var l in e)if(e[l]in a)return!1===t?e[l]:i(n=a[e[l]],"function")?b(n,t||a):n;return!1}(c=(e+" "+E.join(o+" ")+o).split(" "),a,n)}function N(e,a,n){return y(e,t,t,a,n)}l._domPrefixes=E,l.testAllProps=y,l.testAllProps=N,r.addTest("bgpositionxy",function(){return N("backgroundPositionX","3px",!0)&&N("backgroundPositionY","5px",!0)}),r.addTest("bgrepeatround",N("backgroundRepeat","round")),r.addTest("bgrepeatspace",N("backgroundRepeat","space")),r.addTest("bgsizecover",N("backgroundSize","cover")),r.addTest("borderradius",N("borderRadius","0px",!0)),r.addTest("cssanimations",N("animationName","a",!0));var C=l._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];l._prefixes=C,r.addTest("csscalc",function(){var e=d("a");return e.style.cssText="width:"+C.join("calc(10px);width:"),!!e.style.length}),r.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&N("transform","scale(1)",!0)});var S="CSS"in e&&"supports"in e.CSS,O="supportsCSS"in e;r.addTest("supports",S||O),r.addTest("csstransforms3d",function(){return!!N("perspective","1px",!0)}),r.addTest("preserve3d",function(){var a,t,n=e.CSS,l=!1;return!!(n&&n.supports&&n.supports("(transform-style: preserve-3d)"))||(a=d("a"),t=d("a"),a.style.cssText="display: block; transform-style: preserve-3d; transform-origin: right; transform: rotateY(40deg);",t.style.cssText="display: block; width: 9px; height: 1px; background: #000; transform-origin: right; transform: rotateY(40deg);",a.appendChild(t),c.appendChild(a),l=t.getBoundingClientRect(),c.removeChild(a),l=l.width&&l.width<4)}),r.addTest("csstransitions",N("transition","all",!0)),r.addTest("flexboxtweener",N("flexAlign","end",!0));var k,_=l.testStyles=h;function w(e,a){if("object"==typeof e)for(var t in e)k(e,t)&&w(t,e[t]);else{var n=(e=e.toLowerCase()).split("."),l=r[n[0]];if(2==n.length&&(l=l[n[1]]),"undefined"!=typeof l)return r;a="function"==typeof a?a():a,1==n.length?r[n[0]]=a:(!r[n[0]]||r[n[0]]instanceof Boolean||(r[n[0]]=new Boolean(r[n[0]])),r[n[0]][n[1]]=a),m([(a&&0!=a?"":"no-")+n.join("-")]),r._trigger(e,a)}return r}(function(){var e=navigator.userAgent,a=e.match(/w(eb)?osbrowser/gi),t=e.match(/windows phone/gi)&&e.match(/iemobile\/([0-9])+/gi)&&parseFloat(RegExp.$1)>=9;return a||t})()?r.addTest("fontface",!1):_('@font-face {font-family:"font";src:url("https://")}',function(e,t){var n=a.getElementById("smodernizr"),l=n.sheet||n.styleSheet,o=l?l.cssRules&&l.cssRules[0]?l.cssRules[0].cssText:l.cssText||"":"",i=/src/i.test(o)&&0===o.indexOf(t.split(" ")[0]);r.addTest("fontface",i)}),r.addTest("svg",!!a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),function(){var e={}.hasOwnProperty;k=i(e,"undefined")||i(e.call,"undefined")?function(e,a){return a in e&&i(e.constructor.prototype[a],"undefined")}:function(a,t){return e.call(a,t)}}(),l._l={},l.on=function(e,a){this._l[e]||(this._l[e]=[]),this._l[e].push(a),r.hasOwnProperty(e)&&setTimeout(function(){r._trigger(e,r[e])},0)},l._trigger=function(e,a){if(this._l[e]){var t=this._l[e];setTimeout(function(){var e;for(e=0;e<t.length;e++)(0,t[e])(a)},0),delete this._l[e]}},r._q.push(function(){l.addTest=w}),r.addTest("svgasimg",a.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"));var A={}.toString;r.addTest("svgclippaths",function(){return!!a.createElementNS&&/SVGClipPath/.test(A.call(a.createElementNS("http://www.w3.org/2000/svg","clipPath")))}),r.addTest("svgfilters",function(){var a=!1;try{a="SVGFEColorMatrixElement"in e&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(t){}return a}),r.addTest("svgforeignobject",function(){return!!a.createElementNS&&/SVGForeignObject/.test(A.call(a.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}),r.addTest("inlinesvg",function(){var e=d("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"==("undefined"!=typeof SVGRect&&e.firstChild&&e.firstChild.namespaceURI)}),r.addTest("smil",function(){return!!a.createElementNS&&/SVGAnimate/.test(A.call(a.createElementNS("http://www.w3.org/2000/svg","animate")))}),r.addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(a){return!1}}),r.addTest("sessionstorage",function(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(a){return!1}}),r.addTest("websqldatabase","openDatabase"in e),r.addTest("multiplebgs",function(){var e=d("a").style;return e.cssText="background:url(https://),url(https://),red url(https://)",/(url\s*\(.*?){3}/.test(e.background)}),function(){var e,a,t,l,c,s;for(var m in n)if(n.hasOwnProperty(m)){if(e=[],(a=n[m]).name&&(e.push(a.name.toLowerCase()),a.options&&a.options.aliases&&a.options.aliases.length))for(t=0;t<a.options.aliases.length;t++)e.push(a.options.aliases[t].toLowerCase());for(l=i(a.fn,"function")?a.fn():a.fn,c=0;c<e.length;c++)1===(s=e[c].split(".")).length?r[s[0]]=l:(!r[s[0]]||r[s[0]]instanceof Boolean||(r[s[0]]=new Boolean(r[s[0]])),r[s[0]][s[1]]=l),o.push((l?"":"no-")+s.join("-"))}}(),m(o),delete l.addTest,delete l.addAsyncTest;for(var x=0;x<r._q.length;x++)r._q[x]();e.Modernizr=r}(window,document)},347:function(e,a,t){},349:function(e,a,t){},367:function(e,a){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUFBQUFBQYGBgYICQgJCAwLCgoLDBINDg0ODRIbERQRERQRGxgdGBYYHRgrIh4eIisyKigqMjw2NjxMSExkZIYBBQUFBQUFBgYGBggJCAkIDAsKCgsMEg0ODQ4NEhsRFBERFBEbGB0YFhgdGCsiHh4iKzIqKCoyPDY2PExITGRkhv/CABEIABQAFAMBIgACEQEDEQH/xAAXAAADAQAAAAAAAAAAAAAAAAAABAYI/9oACAEBAAAAANlqNqytoB//xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oACAECEAAAAA//xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDEAAAAA//xAAhEAACAgIBBAMAAAAAAAAAAAABAgMEBRIhAAYRIhATIP/aAAgBAQABPwC9bix9K1clDGOCF5XCjyxVBsfA6xXcOJzJApTlyQ7AFSOI20Pxnbk1StFpQNtJpTFNHqWAjZG5YKG9fI54PWFztWfLfVV7ZNeR3dZ5kj1MZdy7CQhANi3sefz/AP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8AH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8AH//Z"},391:function(e,a,t){},393:function(e,a,t){},395:function(e,a,t){},397:function(e,a,t){},399:function(e,a,t){},401:function(e,a,t){},403:function(e,a,t){},412:function(e,a,t){},414:function(e,a,t){},416:function(e,a,t){},418:function(e,a,t){},420:function(e,a,t){},422:function(e,a,t){},453:function(e,a,t){},540:function(e,a,t){},542:function(e,a,t){},546:function(e,a,t){},548:function(e,a,t){},550:function(e,a,t){},552:function(e,a,t){},554:function(e,a,t){},556:function(e,a,t){},558:function(e,a,t){},560:function(e,a,t){},563:function(e,a,t){},565:function(e,a,t){},567:function(e,a,t){},569:function(e,a,t){},571:function(e,a,t){},573:function(e,a,t){},575:function(e,a,t){},579:function(e,a,t){},583:function(e,a,t){},646:function(e,a,t){},651:function(e,a,t){"use strict";t.r(a);t(245),t(262),t(273),t(275),t(277),t(295),t(303),t(308),t(311);var n=t(0),l=t.n(n),r=t(39),o=t.n(r),i=t(15),c=t(16),s=t(18),m=t(17),d=t(19),u=t(174),p=(t(318),t(319),t(321),t(323),t(241)),g=t(128),h=t(239),v=t(240),f=t(45),E=t.n(f),b=t(183),y=t(656),N=t(657),C=t(658),S=t(659),O=t(660),k=t(6),_=t.n(k),w="https://stage1.producthired.com",A="api/api",x=function(){var e=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.post("".concat(w,"/").concat(A,"/users/logout"),{},{headers:{Authorization:e}}).then(function(){localStorage.removeItem("ph-admin-user-data")}).catch(function(e){console.log(e),localStorage.removeItem("ph-admin-user-data")})},I=(t(347),t(349),function(){return l.a.createElement("div",{className:"SpinnerFull"},l.a.createElement("div",{className:"sk-chase"},l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"})))}),L=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={pageTitle:"",navIcon:"menu-link-slide",dropdownOpen:!1,logOutSuccsess:!1,loading:!1,error:!1,redirect:!1},t.toggle=function(){t.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},t.logout=function(e){e.preventDefault(),t.setState({loading:!0}),x().then(function(){t.setState({logOutSuccsess:!0}),setTimeout(function(){t.setState({redirect:!0})},1e3)})},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.pubsub_token=E.a.subscribe("setPageTitle",function(a,t){e.setState({pageTitle:t})}),this.pubsub_token_icon=E.a.subscribe("setNavIcon",function(a,t){e.setState({navIcon:t})})}},{key:"componentWillUnmount",value:function(){E.a.unsubscribe(this.pubsub_token),E.a.unsubscribe(this.pubsub_token_icon)}},{key:"showSettings",value:function(e){e.preventDefault(),E.a.publish("showsettings")}},{key:"render",value:function(){var e=this.state,a=e.navIcon,t=e.pageTitle,n=e.dropdownOpen,r=this.state,o=r.logOutSuccsess,i=r.error,c=r.redirect,s=r.loading;return l.a.createElement("header",{className:"header-container"},c&&l.a.createElement(h.a,{to:"/login"}),i&&l.a.createElement(y.a,{color:"danger"},"Error"),o&&l.a.createElement(y.a,{color:"success"},"Log out"),s&&l.a.createElement(I,null),l.a.createElement("nav",null,l.a.createElement("ul",{className:"d-lg-none"},l.a.createElement("li",null,l.a.createElement("a",{id:"sidebar-toggler",href:"#dummylink1",className:"menu-link "+a},l.a.createElement("span",null,l.a.createElement("em",null))))),l.a.createElement("ul",{className:"d-none d-lg-block"},l.a.createElement("li",null,l.a.createElement("a",{id:"offcanvas-toggler",href:"#dummylink2",className:"menu-link "+a},l.a.createElement("span",null,l.a.createElement("em",null))))),l.a.createElement("h2",{className:"header-title"},t),l.a.createElement("ul",{className:"float-right"},l.a.createElement(N.a,{id:"basic-nav-dropdown",tag:"li",isOpen:n,toggle:this.toggle},l.a.createElement(C.a,{nav:!0,className:"has-badge ripple"},l.a.createElement("em",{className:"ion-person"})),l.a.createElement(S.a,{right:!0,className:"md-dropdown-menu"},l.a.createElement(b.LinkContainer,{to:"/profile"},l.a.createElement(O.a,null,l.a.createElement("em",{className:"ion-home icon-fw"})," Profile")),l.a.createElement(O.a,{divider:!0}),l.a.createElement(b.LinkContainer,{to:"/login",onClick:this.logout},l.a.createElement(O.a,null,l.a.createElement("em",{className:"ion-log-out icon-fw"})," Logout")))),l.a.createElement("li",null,l.a.createElement("a",{href:"#dummylink4",className:"ripple",onClick:this.showSettings},l.a.createElement("em",{className:"ion-gear-b"}))))))}}]),a}(n.Component),j=t(7),M=t(20),T=t(1),F=t.n(T),R=t(127),D=t(89),P=t(175);t(391);var U=function(){var e=document.querySelector(".sidebar-nav"),a=document.querySelector(".layout-container"),t=document.querySelector("#sidebar-toggler"),n=document.querySelector("#offcanvas-toggler"),l=document.querySelector(".sidebar-layout-obfuscator"),r=document.body,o=function(e){return[].slice.call(e)};e.addEventListener("click",function(e){var a=function(e){var a=e.target,t=a.parentNode;return"a"===a.tagName.toLowerCase()?a:"a"===t.tagName.toLowerCase()?t:"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:void 0}(e);if(a){var t=a.parentElement,n=o(t.parentElement.querySelectorAll("li"));n.forEach(function(e){o(e.querySelectorAll("li")).forEach(function(e){return e.classList.remove("active")})}),n.forEach(function(e){e!==t&&e.classList.remove("active")}),a.nextElementSibling&&"UL"===a.nextElementSibling.tagName&&(t.classList.toggle("active"),e.preventDefault())}}),t.addEventListener("click",function(e){e.preventDefault(),a.classList.toggle("sidebar-visible"),e.target.parentElement.classList.toggle("active")}),l.addEventListener("click",function(e){e.preventDefault(),a.classList.remove("sidebar-visible"),t.parentElement.classList.remove("active")}),n.addEventListener("click",function(e){e.preventDefault(),r.classList.toggle("offcanvas-visible"),e.target.parentElement.classList.toggle("active")}),window.addEventListener("resize",function(){window.innerWidth<768&&(r.classList.remove("offcanvas-visible"),n.parentElement.classList.add("active"))})},z=t(360),J=t.n(z),H=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).handleClick=function(e){e.preventDefault(),J.a.enabled?J.a.toggle():console.log("Fullscreen not enabled")},t.setRef=function(e){t.element=e},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=window.navigator.userAgent;e.indexOf("MSIE ")>0||e.match(/Trident.*rv:11\./)?this.element.classList.add("d-none"):this.element.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){this.element.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=this.props.tag;return l.a.createElement(e,Object.assign({ref:this.setRef},this.props))}}]),a}(n.Component);H.defaultProps={tag:"a"};var B=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).setRef=function(e){t.element=e},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this;if(!this.props.src||this.props.src.indexOf(".svg")<0)throw new Error("only support for SVG images");_.a.get(this.props.src).then(function(a){return e.element.outerHTML=a.data.replace("xmlns:a","")})}},{key:"render",value:function(){return l.a.createElement("div",{ref:this.setRef})}}]),a}(n.Component),q=(t(393),[{id:0,name:"Companies",icon:"img/icons/ios-browsers.svg",path:"/companies"},{id:1,name:"Users",icon:"img/icons/person-stalker.svg",path:"/users"},{id:2,name:"Jobs",icon:"img/icons/clipboard.svg",path:"/jobs"},{id:3,name:"Skills",icon:"img/icons/navicon.svg",path:"/skills"},{id:4,name:"Roles",icon:"img/icons/navicon.svg",path:"/roles"},{id:5,name:"Plans",icon:"img/icons/connection-bars.svg",path:"/plans"}]),V=function(e){var a=e.label;return l.a.createElement("span",{className:"float-right nav-label"},l.a.createElement("span",{className:"badge "+a.className},a.value))},W=function(e){var a=e.src;return l.a.createElement("span",{className:"nav-icon"},l.a.createElement(B,{src:a,className:"invisible"}))},G=function(e){var a=e.item;return l.a.createElement(R.a,{to:a.path,className:"ripple"},a.label&&l.a.createElement(V,{label:a.label}),a.icon&&l.a.createElement(W,{src:a.icon}),l.a.createElement("span",null,a.name))},Q=function(e){var a=e.item,t=e.routeActive;return[l.a.createElement("a",{href:"#".concat(a.name),className:"ripple",key:"0"},l.a.createElement("span",{className:"float-right nav-caret"},l.a.createElement("em",{className:"ion-ios-arrow-right"})),a.label&&l.a.createElement(V,{label:a.label}),a.icon&&l.a.createElement(W,{src:a.icon}),l.a.createElement("span",null,a.name)),l.a.createElement("ul",{className:"sidebar-subnav",key:"1"},a.submenu.map(function(e,a){return l.a.createElement("li",{className:t(e.path),key:a},l.a.createElement(G,{item:e}))}))]},Y=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={sidebarModes:{header:!0,toolbar:!0,offcanvas:!1},name:"",avatar:null},t.routeActive=function(e){return(e=Array.isArray(e)?e:[e]).some(function(e){return t.props.location.pathname.indexOf(e)>-1})?"active":""},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.pubsub_token=E.a.subscribe("sidebarmode",function(a,t){e.setState({sidebarModes:Object(M.a)({},e.state.sidebarModes,Object(j.a)({},t,!e.state.sidebarModes[t]))}),"offcanvas"===t&&document.body.classList[e.state.sidebarModes.offcanvas?"add":"remove"]("sidebar-offcanvas")}),this.props.history.listen(function(){document.querySelector(".layout-container").classList.remove("sidebar-visible")})}},{key:"componentDidMount",value:function(){U();var e=JSON.parse(localStorage.getItem("ph-admin-user-data")),a=e&&"".concat(e.user.name," ").concat(e.user.surname);a&&this.setState({name:a});var t=e&&"".concat(e.user.image.url);"null"!==t&&this.setState({avatar:t})}},{key:"componentWillUnmount",value:function(){E.a.unsubscribe(this.pubsub_token)}},{key:"render",value:function(){var e=this,a=function(e){return e.submenu&&e.submenu.length},t=this.state,n=t.name,r=t.avatar;return l.a.createElement("aside",{className:"sidebar-container"},this.state.sidebarModes.header&&l.a.createElement("div",{className:"sidebar-header"},l.a.createElement("div",{className:"float-right pt-lg text-muted invisible"},l.a.createElement("em",{className:"ion-close-round"})),l.a.createElement("div",{className:"sidebar-header-logo"},l.a.createElement(P.a,{to:"/"},l.a.createElement(B,{src:"img/logo.svg",alt:"Logo",width:120})))),l.a.createElement("div",{className:"sidebar-content"},this.state.sidebarModes.toolbar&&l.a.createElement("div",{className:"sidebar-toolbar text-center"},l.a.createElement("a",{href:"#user"},l.a.createElement("img",{className:"rounded-circle thumb64",src:r||"img/user/01.jpg",alt:"Profile"})),l.a.createElement("div",{className:"mt"},l.a.createElement(D.a,{i18nKey:"user.WELCOME"}),", ","".concat(n))),l.a.createElement("nav",{className:"sidebar-nav"},l.a.createElement("ul",null,q.map(function(t,n){var r=a(t)?t.submenu.map(function(e){return e.path}):[t.path];return l.a.createElement("li",{className:e.routeActive(r),key:n},a(t)?l.a.createElement(Q,{item:t,routeActive:e.routeActive}):l.a.createElement(G,{item:t}))}))),l.a.createElement("nav",{hidden:!0},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(P.a,{to:"/Cards"},"Cards")),l.a.createElement("li",null,"..."),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/bootstrapui"},"Elements/Bootstrapui")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/buttons"},"Elements/Buttons")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/colors"},"Elements/Colors")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/grid"},"Elements/Grid")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/gridMasonry"},"Elements/GridMasonry")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/icons"},"Elements/Icons")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/lists"},"Elements/Lists")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/spinners"},"Elements/Spinners")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/swal"},"Elements/Swal")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/sweetalert"},"Elements/Sweetalert")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/toastify"},"Elements/Toastify")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/typography"},"Elements/Typography")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/utilities"},"Elements/Utilities")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/elements/whiteframes"},"Elements/Whiteframes")),l.a.createElement("li",null,"..."),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/forms/advanced"},"Forms/Advanced")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/forms/classic"},"Forms/Classic")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/forms/dropzone"},"Forms/Dropzone")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/forms/editor"},"Forms/Editor")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/forms/material"},"Forms/Material")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/forms/validation"},"Forms/Validation")),l.a.createElement("li",null,"..."),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/layouts/boxed"},"Layouts/LayoutsBoxed")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/layouts/columns"},"Layouts/LayoutsColumns")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/layouts/containers"},"Layouts/LayoutsContainers")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/layouts/overlap"},"Layouts/LayoutsOverlap")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/layouts/tabs"},"Layouts/LayoutsTabs")),l.a.createElement("li",null,"..."),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/tables/classic"},"Tables/Classic")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/tables/datatable"},"Tables/Datatable")),l.a.createElement("li",null,l.a.createElement(P.a,{to:"/tables/datagrid"},"Tables/Datagrid"))))))}}]),a}(n.Component);Y.contextTypes={router:F.a.object};var Z=Object(D.c)("translations")(Object(v.a)(Y)),K=t(664),$=t(661),X=t(662),ee=(t(395),function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={showModal:!1,selectedLang:"en",selectedTheme:"theme-1",sidebarModes:{header:!0,toolbar:!0,offcanvas:!1}},t.onShowModal=function(){document.body.classList.add("modal-backdrop-soft")},t.onHiddenModal=function(){document.body.classList.remove("modal-backdrop-soft")},t.close=function(){return t.setState({showModal:!1})},t.open=function(){return t.setState({showModal:!0})},t.toggle=function(){return t.setState({showModal:!t.state.showModal})},t.setSelectedLanguage=function(e){var a=e.target.value;t.props.i18n.changeLanguage(a),t.setState({selectedLang:a})},t.setTheme=function(e){var a=e.target.value;document.body.classList.remove(t.state.selectedTheme),t.setState({selectedTheme:a}),document.body.classList.add(a),localStorage.setItem("ph-admin-theme",a)},t.changeSidebarMode=function(e){return function(a){t.setState({sidebarModes:Object(M.a)({},t.state.sidebarModes,Object(j.a)({},e,a.target.checked))}),E.a.publish("sidebarmode",e)}},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("ph-admin-theme");e&&this.setState({selectedTheme:e})}},{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.pubsub_token=E.a.subscribe("showsettings",function(){e.open()})}},{key:"componentWillUnmount",value:function(){E.a.unsubscribe(this.pubsub_token)}},{key:"render",value:function(){var e=l.a.createElement("button",{className:"close",onClick:this.toggle},"\xd7"),a=this.state.selectedTheme;return l.a.createElement(K.a,{isOpen:this.state.showModal,modalClassName:"modal-right fade modal-settings",onEnter:this.onShowModal,onClosed:this.onHiddenModal,toggle:this.toggle},l.a.createElement($.a,{tag:"div",close:e},l.a.createElement("h4",{className:"m-0"},l.a.createElement("span",null,"Settings"))),l.a.createElement(X.a,null,l.a.createElement("div",{className:"d-flex mb"},l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-1"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-1",checked:"theme-1"===a,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"})))))),l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-2"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-2",checked:"theme-2"===a,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"})))))),l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-3"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-3",checked:"theme-3"===a,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"}))))))),l.a.createElement("div",{className:"d-flex mb"},l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-4"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-4",checked:"theme-4"===a,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"})))))),l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-5"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-5",checked:"theme-5"===a,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"})))))),l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-6"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-6",checked:"theme-6"===a,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"}))))))),l.a.createElement("div",{className:"d-flex mb"},l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-7"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-7",checked:"theme-7"===a,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"})))))),l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-8"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-8",checked:"theme-8"===a,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"})))))),l.a.createElement("div",{className:"wd-tiny mb"},l.a.createElement("div",{className:"setting-color"},l.a.createElement("label",{className:"preview-theme-9"},l.a.createElement("input",{type:"radio",onChange:this.setTheme,value:"theme-9",checked:"theme-9"===a,name:"setting-theme"}),l.a.createElement("span",{className:"ion-checkmark-round"}),l.a.createElement("div",{className:"t-grid"},l.a.createElement("div",{className:"t-row"},l.a.createElement("div",{className:"t-col preview-header"}),l.a.createElement("div",{className:"t-col preview-sidebar"}),l.a.createElement("div",{className:"t-col preview-content"}))))))),l.a.createElement("hr",null),l.a.createElement(H,{tag:"button",className:"btn btn-secondary btn-raised",type:"button","data-toggle-fullscreen":""},"Toggle fullscreen"),l.a.createElement("hr",null)))}}]),a}(n.Component)),ae=Object(D.c)("translations")(ee),te=(t(397),t(399),function(e){var a=e.children;return l.a.createElement("div",{className:"layout-container"},l.a.createElement(L,null),l.a.createElement(Z,null),l.a.createElement(ae,null),l.a.createElement("div",{className:"sidebar-layout-obfuscator"}),l.a.createElement("main",{className:"main-container"},l.a.createElement("div",{className:"container-fluid"},a),l.a.createElement("footer",{className:"footer"},l.a.createElement("span",null,"\xa9 2020 ProductHired Admin Panel"))))}),ne=t(30),le=t(97),re=t.n(le),oe=t(376),ie=(t(401),function(e){return l.a.createElement(oe.a,Object.assign({},e,{resizable:!0,filterable:!0,className:"-striped -highlight"}))}),ce=function(e){var a=e.type,t=e.original,n=e.errorText,r=e.errorAlertIsOpen,o=e.closeErrorAlert,i=t.surname?"".concat(t.name," ").concat(t.surname):"".concat(t.name);return l.a.createElement(l.a.Fragment,null,"add"===a&&l.a.createElement(y.a,{color:"success"},"New item has been added")||"edit"===a&&l.a.createElement(y.a,{color:"warning"},'"'.concat(t.id)," - ",l.a.createElement("b",null,i," has been edited"))||"delete"===a&&l.a.createElement(y.a,{color:"danger"},'"'.concat(t.id)," - ",l.a.createElement("b",null,i," has been deleted"))||"error"===a&&l.a.createElement(y.a,{color:"danger",isOpen:r,toggle:o},n)||"copy"===a&&l.a.createElement(y.a,{color:"warning"},"Copied"))},se=t(358),me=t(11),de=t.n(me),ue=(t(403),function(e){var a=e.text,t=e.loading,n=e.addClick;return l.a.createElement(se.a,{type:"button",color:"primary",onClick:n,className:de()("add-button",{"is-loading":t})},"Add ",a)}),pe=t(98),ge=t.n(pe),he=(t(412),t(414),function(e){var a=e.isOpen,t=e.modalLoading,n=e.closeModal;return l.a.createElement(ge.a,Object.assign({},e,{ariaHideApp:!1,isOpen:a,overlayClassName:"ReactModal__Overlay",className:"ReactModal ReactModal__add",portalClassName:"ReactModal__Portal__add",onRequestClose:!t&&n}),e.children)}),ve=function(){return l.a.createElement("div",{className:"sk-chase"},l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}),l.a.createElement("div",{className:"sk-chase-dot"}))},fe=function(e){var a=e.name,t=e.domain,n=e.slug,r=(e.weight,e.logo),o=e.cover,i=e.fileInputLogo,c=e.logoLoading,s=e.onUploadLogo,m=e.deleteLogo,d=e.fileInputCover,u=e.coverLoading,p=e.onUploadCover,g=e.deleteCover,h=e.isOpen,v=e.closeModal,f=e.onChange,E=e.onSubmit,b=e.modalLoading,y=e.generateSlug;return l.a.createElement(he,{isOpen:h,modalLoading:b,closeModal:v},l.a.createElement("section",{className:"section-container add-container"},l.a.createElement("h4",{className:"add-container__title"},"Add company"),l.a.createElement("span",{className:"ion-close-round add-container__close",onClick:v}),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:E},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"add-name"},"Company name"),l.a.createElement("input",{name:"name",value:a,id:"add-name",onChange:f,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"add-domain"},"Domain"),l.a.createElement("input",{name:"domain",value:t,id:"add-domain",onChange:f,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"add-slug"},"Slug"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{name:"slug",value:n,id:"add-slug",onChange:f,type:"text",className:"form-control"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:y,disabled:!a},"Generate")))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"add-logo"},l.a.createElement("label",{htmlFor:"add-logo"},"Logo"),c?l.a.createElement(ve,null):r?l.a.createElement("img",{className:"logo",src:r,alt:"logo"}):l.a.createElement("div",{className:"no-logo"},"No logo"),l.a.createElement("input",{id:"add-logo",type:"file",className:"input-file-custom",ref:i,onChange:s}),l.a.createElement("label",{htmlFor:"add-logo",className:"input-file-label  btn btn-light"},l.a.createElement("i",{className:"ion-image"}),"\xa0",l.a.createElement("span",null,"Load logo"))),l.a.createElement("div",{className:"add-logo-url"},l.a.createElement("label",{htmlFor:"add-logo-url"},"Logo URL"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{name:"logo",value:r,id:"add-logo-url",onChange:f,type:"url",className:"form-control",placeholder:"Please, paste logo URL or load file"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:m,disabled:!r},"Clear"))))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"add-cover"},l.a.createElement("label",{htmlFor:"add-cover"},"Cover"),u?l.a.createElement(ve,null):o?l.a.createElement("img",{className:"cover",src:o,alt:"cover"}):l.a.createElement("div",{className:"no-cover"},"No cover"),l.a.createElement("input",{id:"add-cover",type:"file",className:"input-file-custom",ref:d,onChange:p}),l.a.createElement("label",{htmlFor:"add-cover",className:"input-file-label  btn btn-light"},l.a.createElement("i",{className:"ion-image"}),"\xa0",l.a.createElement("span",null,"Load cover"))),l.a.createElement("div",{className:"add-cover-url"},l.a.createElement("label",{htmlFor:"add-cover-url"},"Cover URL"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{name:"cover",value:o,id:"add-cover-url",onChange:f,type:"url",className:"form-control",placeholder:"Please, paste cover URL or load file"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:g,disabled:!o},"Clear"))))))),b?l.a.createElement("div",{className:"add-container__is-loading"},l.a.createElement(ve,null)):l.a.createElement("footer",{className:"add-container__buttons"},l.a.createElement(se.a,{outline:!0,color:"secondary",onClick:v},"Cancel"),l.a.createElement(se.a,{disabled:!a||!n||c||u,outline:!0,color:"primary",type:"submit"},"Save")))))))},Ee=(t(416),t(418),t(420),function(e){var a=e.isOpen,t=e.modalLoading,n=e.closeModal;return l.a.createElement(ge.a,Object.assign({},e,{ariaHideApp:!1,isOpen:a,overlayClassName:"ReactModal__Overlay",className:"ReactModal ReactModal__edit",portalClassName:"ReactModal__Portal__edit",onRequestClose:!t&&n}),e.children)}),be=function(e){var a=e.name,t=e.domain,n=e.slug,r=e.logo,o=e.cover,i=e.original,c=e.fileInputLogo,s=e.logoLoading,m=e.onUploadLogo,d=e.deleteLogo,u=e.fileInputCover,p=e.coverLoading,g=e.onUploadCover,h=e.deleteCover,v=e.isOpen,f=e.closeModal,E=e.onChange,b=e.onSubmit,y=e.modalLoading,N=e.deleteClick,C=e.generateSlug;return l.a.createElement(Ee,{isOpen:v,modalLoading:y,closeModal:f},l.a.createElement("section",{className:"section-container edit-container"},l.a.createElement("h4",{className:"edit-container__title"},"Edit: ",l.a.createElement("b",null,i.name)),l.a.createElement("span",{className:"ion-close-round edit-container__close",onClick:f}),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:b},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-name"},"Company name"),l.a.createElement("input",{name:"name",value:a,id:"edit-name",onChange:E,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-domain"},"Website"),l.a.createElement("input",{name:"domain",value:t,id:"edit-domain",onChange:E,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-slug"},"Slug"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{name:"slug",value:n,id:"edit-slug",onChange:E,type:"text",className:"form-control"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:C,disabled:!a},"Generate")))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"edit-logo"},l.a.createElement("label",{htmlFor:"edit-logo"},"Logo"),s?l.a.createElement(ve,null):r?l.a.createElement("img",{className:"logo",src:r,alt:"logo"}):l.a.createElement("div",{className:"no-logo"},"No logo"),l.a.createElement("input",{id:"edit-logo",type:"file",className:"input-file-custom",ref:c,onChange:m}),l.a.createElement("label",{htmlFor:"edit-logo",className:"input-file-label  btn btn-light"},l.a.createElement("i",{className:"ion-image"}),"\xa0",l.a.createElement("span",null,"Load logo"))),l.a.createElement("div",{className:"edit-logo-url"},l.a.createElement("label",{htmlFor:"edit-logo-url"},"Logo URL"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{name:"logo",value:r&&r.includes("clearbit.com")?"":r,id:"edit-logo-url",onChange:E,type:"url",className:"form-control",placeholder:"Please, paste logo URL or load file"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:d,disabled:!r},"Clear"))))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"edit-cover"},l.a.createElement("label",{htmlFor:"edit-cover"},"Cover"),p?l.a.createElement(ve,null):o?l.a.createElement("img",{className:"cover",src:o,alt:"cover"}):l.a.createElement("div",{className:"no-cover"},"No cover"),l.a.createElement("input",{id:"edit-cover",type:"file",className:"input-file-custom",ref:u,onChange:g}),l.a.createElement("label",{htmlFor:"edit-cover",className:"input-file-label  btn btn-light"},l.a.createElement("i",{className:"ion-image"}),"\xa0",l.a.createElement("span",null,"Load cover"))),l.a.createElement("div",{className:"edit-cover-url"},l.a.createElement("label",{htmlFor:"edit-cover-url"},"Cover URL"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{name:"cover",value:o,id:"edit-cover-url",onChange:E,type:"url",className:"form-control",placeholder:"Please, paste cover URL or load file"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:h,disabled:!o},"Clear"))))))),y?l.a.createElement("div",{className:"edit-container__is-loading"},l.a.createElement(ve,null)):l.a.createElement("footer",{className:"edit-container__buttons"},l.a.createElement(se.a,{outline:!0,color:"danger",onClick:N},"Delete"),l.a.createElement(se.a,{outline:!0,color:"secondary",onClick:f},"Cancel"),l.a.createElement(se.a,{disabled:!a||!n||s||p,outline:!0,color:"primary",type:"submit"},"Save")))))))},ye=(t(422),function(e){var a=e.isOpen,t=e.modalLoading,n=e.closeModal;return l.a.createElement(ge.a,Object.assign({},e,{ariaHideApp:!1,isOpen:a,overlayClassName:"ReactModal__Overlay",className:"ReactModal ReactModal__delete",portalClassName:"ReactModal__Portal__delete",onRequestClose:!t&&n}),e.children)}),Ne=function(e){var a=e.isOpen,t=e.modalLoading,n=e.closeModal,r=e.original,o=e.deleteSubmit;return l.a.createElement(ye,{isOpen:a,modalLoading:t,closeModal:n},l.a.createElement("section",{className:"section-container delete-container"},l.a.createElement("span",{className:"ion-close-round ReactModal__delete__close",onClick:n}),l.a.createElement("div",{className:"ReactModal__delete__title"},l.a.createElement("span",null,"Are you sure you want to delete ")," ",l.a.createElement("br",null),l.a.createElement("span",null,r.id," - ",l.a.createElement("b",null,r.name),"?")),t?l.a.createElement("div",{className:"ReactModal__delete__is-loading"},l.a.createElement(ve,null)):l.a.createElement("footer",{className:"ReactModal__delete__buttons"},l.a.createElement(se.a,{outline:!0,color:"secondary",onClick:n},"Cancel"),l.a.createElement(se.a,{outline:!0,color:"danger",onClick:o},"Delete"))))};function Ce(e){return function(a){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,a),Object(c.a)(t,[{key:"render",value:function(){var a={setHeaderTitle:function(e){E.a.publish("setPageTitle",e)}};return l.a.createElement(e,Object.assign({},this.props,a))}}]),t}(n.Component)}var Se=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,t=e.pageSize,n=e.page,l=e.filtered,r=e.sorted,o={where:{},limit:t,skip:n*t,order:"id DESC"};return l.forEach(function(e){"id"===e.id?o.where[e.id]=e.value:o.where[e.id]={like:"%"+e.value+"%"}}),r.forEach(function(e){var a=e.desc?"DESC":"ASC";o.order="".concat(e.id," ").concat(a)}),_.a.get("".concat(w,"/").concat(A,"/companies"),{params:{filter:o},headers:{Authorization:a}})},Oe=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,t=e.filtered,n={};return t.forEach(function(e){"id"===e.id?n[e.id]=e.value:n[e.id]={like:"%"+e.value+"%"}}),_.a.get("".concat(w,"/").concat(A,"/companies/count"),{params:{where:n},headers:{Authorization:a}})},ke=function(e,a,t,n,l,r){var o=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.post("".concat(w,"/").concat(A,"/companies"),{name:e,domain:a,slug:t,weight:n,logo:l,cover:r},{headers:{Authorization:o}})},_e=function(e,a,t,n,l,r){var o=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.patch("".concat(w,"/").concat(A,"/companies/").concat(e),{name:a,domain:t,slug:n,logo:l,cover:r},{headers:{Authorization:o}})},we=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.delete("".concat(w,"/").concat(A,"/companies/").concat(e),{headers:{Authorization:a}})},Ae=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.post("".concat(w,"/").concat(A,"/vacancies/logo"),e,{headers:{Authorization:a}})},xe=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.post("".concat(w,"/").concat(A,"/vacancies/cover"),e,{headers:{Authorization:a}})},Ie=t(23),Le=t(367),je=t.n(Le),Me=[{Header:"Id",accessor:"id",width:60,style:{textAlign:"right"},Cell:function(e){var a=e.original.id;return l.a.createElement("div",{className:"ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Company name",accessor:"name",style:{fontWeight:"bold"},Cell:function(e){var a=e.original,t=a.logo,n=a.name;return l.a.createElement("div",{className:"table-column-name  ellipsis-text"},l.a.createElement("img",{title:t||"",src:t||je.a,width:20,height:20,style:{objectFit:"cover"}}),"\xa0\xa0",l.a.createElement("span",{title:n||""},n||""))},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Domain",accessor:"domain",Cell:function(e){var a=e.original.domain;return a?l.a.createElement("div",{className:"ellipsis-text"},l.a.createElement("a",{href:"http://".concat(a),title:"http://".concat(a),target:"_blank",rel:"noopener noreferrer"},a)):""},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Slug",accessor:"slug",Cell:function(e){var a=e.original.slug;return l.a.createElement("div",{className:"ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}}],Te=Ce(function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).fileInputLogo=l.a.createRef(),t.fileInputCover=l.a.createRef(),t.state={companies:[],companiesCount:null,tableLoading:!1,original:{},count:null,alertIsOpen:!1,alertType:"",alertErrorText:"",errorAlertIsOpen:!1,addModalIsOpen:!1,editModalIsOpen:!1,deleteModalIsOpen:!1,modalLoading:!1,id:null,name:"",slug:"",domain:"",weight:null,logo:"",logoLoading:!1,cover:"",coverLoading:!1},t.onChange=function(e){return t.setState(Object(j.a)({},e.target.name,e.target.value))},t.catchErrors=function(e){401===e.response.status?(localStorage.removeItem("ph-admin-user-data"),t.props.history.push("/login")):t.setState({errorAlertIsOpen:!0,modalLoading:!1,logoLoading:!1,coverLoading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(e,", ").concat(e.response.data.error.sqlMessage)})},t.onUploadLogo=function(e){e.preventDefault(),t.setState({logoLoading:!0});var a=new FormData,n=t.fileInputLogo.current.files[0];a.append("file",n),Ae(a).then(function(e){t.setState({logo:"".concat(w,"/").concat(A,"/containers/logo/download/").concat(e.data.name),logoLoading:!1})}).catch(function(e){return t.catchErrors(e)})},t.onUploadCover=function(e){e.preventDefault(),t.setState({coverLoading:!0});var a=new FormData,n=t.fileInputCover.current.files[0];a.append("file",n),xe(a).then(function(e){t.setState({cover:"".concat(w,"/").concat(A,"/containers/cover/download/").concat(e.data.name),coverLoading:!1})}).catch(function(e){return t.catchErrors(e)})},t.addClick=function(){t.setState({addModalIsOpen:!0,alertIsOpen:!1,name:"",domain:"",slug:"",weight:null,logo:"",cover:"",logoLoading:!1,coverLoading:!1})},t.addSubmit=function(e){e.preventDefault(),t.setState({modalLoading:!0,errorAlertIsOpen:!1});var a=t.state,n=a.name,l=a.domain,r=a.slug,o=a.weight,i=a.logo,c=a.cover,s=a.companies;ke(n,l,r,o,i,c).then(function(e){var a=[e.data].concat(s);t.setState({modalLoading:!1,addModalIsOpen:!1,alertType:"add",alertIsOpen:!0,companies:a}),setTimeout(function(){t.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return t.catchErrors(e)})},t.editClick=function(e){return function(a){a.stopPropagation(),t.setState({original:e,alertIsOpen:!1,editModalIsOpen:!0,logoLoading:!1,coverLoading:!1,id:e.id,name:e.name,domain:e.domain,slug:e.slug,logo:e.logo,cover:e.cover})}},t.editSubmit=function(e){e.preventDefault(),t.setState({modalLoading:!0,errorAlertIsOpen:!1});var a=t.state,n=a.id,l=a.name,r=a.domain,o=a.slug,i=a.logo,c=a.cover;_e(n,l,r,o,i,c).then(function(){for(var e=t.state.companies,a=0;a<e.length;a++)e[a].id===n&&(e[a]={id:n,name:l,domain:r,slug:o,logo:i,cover:c});t.setState({companies:e,modalLoading:!1,editModalIsOpen:!1,alertType:"edit",alertIsOpen:!0}),setTimeout(function(){t.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return t.catchErrors(e)})},t.deleteClick=function(e){return function(a){a.stopPropagation(),t.setState({original:e,deleteModalIsOpen:!0,alertIsOpen:!1})}},t.deleteSubmit=function(){var e=[],a=t.state,n=a.companies,l=a.original.id;t.setState({modalLoading:!0,errorAlertIsOpen:!1}),we(l).then(function(){for(var a=0;a<n.length;a++)n[a].id!==l&&e.push(n[a]);t.setState({companies:e,editModalIsOpen:!1,deleteModalIsOpen:!1,modalLoading:!1,alertType:"delete",alertIsOpen:!0}),setTimeout(function(){t.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return t.catchErrors(e)})},t.deleteLogo=function(){return t.setState({logo:""})},t.deleteCover=function(){return t.setState({cover:""})},t.closeAddModal=function(){return!t.state.modalLoading&&t.setState({addModalIsOpen:!1})},t.closeEditModal=function(){return!t.state.modalLoading&&t.setState({editModalIsOpen:!1})},t.closeDeleteModal=function(){return!t.state.modalLoading&&t.setState({deleteModalIsOpen:!1})},t.closeErrorAlert=function(){return t.setState({errorAlertIsOpen:!1})},t.generateSlug=function(){var e=t.state.name;t.setState({slug:re()(e,{replacement:"-",lower:!0})})},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.setHeaderTitle("Companies")}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keyup",function(a){return 27===a.keyCode&&e.closeEditModal()})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",function(e){return 27===e.keyCode})}},{key:"render",value:function(){var e,a=this,t=this.state,n=t.tableLoading,r=t.original,o=t.companies,i=t.companiesCount,c=t.name,s=t.domain,m=t.slug,d=t.weight,u=t.logo,p=t.cover,g=t.logoLoading,h=t.coverLoading,v=t.addModalIsOpen,f=t.editModalIsOpen,E=t.modalLoading,b=t.deleteModalIsOpen,y=t.alertIsOpen,N=t.alertType,C=t.alertErrorText,S=t.errorAlertIsOpen,O=[{Header:"",width:30,sortable:!1,filterable:!1,Cell:function(e){var t=e.original;return l.a.createElement("div",{className:"rt-custom__controls"},l.a.createElement("i",{className:"ion-android-delete",onClick:a.deleteClick(t)}))}}];return l.a.createElement("div",{className:"companies-page"},l.a.createElement("p",{className:"md-lg"},"Total records:\xa0",l.a.createElement("b",null,this.state.count&&this.state.count.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),y&&l.a.createElement(ce,{type:N,original:r,errorText:C,errorAlertIsOpen:S,closeErrorAlert:this.closeErrorAlert}),l.a.createElement(ue,{text:"company",loading:E,addClick:this.addClick}),l.a.createElement(Ne,{isOpen:b,modalLoading:E,closeModal:this.closeDeleteModal,original:r,deleteSubmit:this.deleteSubmit}),l.a.createElement(fe,(e={name:c,domain:s,slug:m,weight:d,logo:u,cover:p},Object(j.a)(e,"logo",u),Object(j.a)(e,"logoLoading",g),Object(j.a)(e,"fileInputLogo",this.fileInputLogo),Object(j.a)(e,"onUploadLogo",this.onUploadLogo),Object(j.a)(e,"cover",p),Object(j.a)(e,"coverLoading",h),Object(j.a)(e,"fileInputCover",this.fileInputCover),Object(j.a)(e,"onUploadCover",this.onUploadCover),Object(j.a)(e,"isOpen",v),Object(j.a)(e,"modalLoading",E),Object(j.a)(e,"closeModal",this.closeAddModal),Object(j.a)(e,"onChange",this.onChange),Object(j.a)(e,"onSubmit",this.addSubmit),Object(j.a)(e,"deleteLogo",this.deleteLogo),Object(j.a)(e,"deleteCover",this.deleteCover),Object(j.a)(e,"generateSlug",this.generateSlug),e)),l.a.createElement(be,{original:r,name:c,domain:s,slug:m,logo:u,logoLoading:g,fileInputLogo:this.fileInputLogo,onUploadLogo:this.onUploadLogo,cover:p,coverLoading:h,fileInputCover:this.fileInputCover,onUploadCover:this.onUploadCover,isOpen:f,modalLoading:E,closeModal:this.closeEditModal,onChange:this.onChange,onSubmit:this.editSubmit,deleteClick:this.deleteClick(r),deleteLogo:this.deleteLogo,deleteCover:this.deleteCover,generateSlug:this.generateSlug}),l.a.createElement(ie,{manual:!0,data:o,pages:i,loading:n,columns:[].concat(Object(ne.a)(Me),O),getTdProps:function(e,t,n,l){return{onClick:function(e){if(void 0===t)return null;if(n&&"name"===n.id){var l=t.original;return a.editClick(l)(e)}}}},onFetchData:function(e){a.setState({tableLoading:!0}),Oe(e).then(function(t){a.setState({count:t.data.count,companiesCount:Math.ceil(t.data.count/e.pageSize)}),Se(e).then(function(e){return a.setState({companies:e.data,tableLoading:!1})}).catch(function(e){return a.catchErrors(e)})}).catch(function(e){return a.catchErrors(e)})}}))}}]),a}(l.a.Component)),Fe=t(69),Re=function(e){var a=e.name,t=e.surname,n=e.password,r=e.email,o=e.isOpen,i=e.closeModal,c=e.onChange,s=e.onSubmit,m=e.modalLoading;return l.a.createElement(he,{isOpen:o,modalLoading:m,closeModal:i},l.a.createElement("section",{className:"section-container add-container"},l.a.createElement("h4",{className:"add-container__title"},"Add user"),l.a.createElement("span",{className:"ion-close-round add-container__close",onClick:i}),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:s},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"add-name"},"Name"),l.a.createElement("input",{required:!0,autoComplete:"off",name:"name",value:a,id:"add-name",onChange:c,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"add-surname"},"Surname"),l.a.createElement("input",{required:!0,autoComplete:"off",name:"surname",value:t,id:"add-surname",onChange:c,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"add-password"},"Password"),l.a.createElement("input",{required:!0,autoComplete:"off",name:"password",value:n,id:"add-password",onChange:c,type:"password",className:"form-control"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"add-email"},"Email"),l.a.createElement("input",{required:!0,autoComplete:"off",name:"email",value:r,id:"add-email",onChange:c,type:"email",className:"form-control"})))),m?l.a.createElement("div",{className:"add-container__is-loading"},l.a.createElement(ve,null)):l.a.createElement("footer",{className:"add-container__buttons"},l.a.createElement(se.a,{outline:!0,color:"secondary",onClick:i},"Cancel"),l.a.createElement(se.a,{disabled:!a,outline:!0,color:"primary",type:"submit"},"Save")))))))},De=t(76),Pe=t(37),Ue=t(60),ze=t.n(Ue),Je=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/skills"),{params:{filter:{where:{name:{like:"%".concat(e,"%")}},limit:50}},headers:{Authorization:a}})},He=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/locations"),{params:{filter:{where:{or:[{name:{like:"%".concat(e,"%")}},{country:{like:"%".concat(e,"%")}}]},limit:50}},headers:{Authorization:a}})},Be=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/vacancy_roles"),{params:{filter:{where:{name:{like:"%".concat(e,"%")}},limit:10}},headers:{Authorization:a}})},qe=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/user_roles"),{params:{filter:{where:{name:{like:"%".concat(e,"%")}},limit:10}},headers:{Authorization:a}})},Ve=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/companies"),{params:{filter:{where:{name:{like:"%".concat(e,"%")}},limit:30}},headers:{Authorization:a}})},We=[{value:1,label:"Junior"},{value:2,label:"Mid level"},{value:3,label:"Senior"},{value:4,label:"Managment"}],Ge=[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"}],Qe=(t(453),function(e){var a=e.original,t=e.name,n=e.surname,r=e.email,o=e.job_title,i=e.emailVerified,c=e.admin,s=(e.status,e.banned),m=e.experience,d=e.skills,u=e.created,p=e.modified,g=e.emailSettings,h=e.emailJobApplication,v=e.emailMarketing,f=e.seniority,E=e.seniority_id,b=e.location,y=e.location_id,N=e.userRole,C=e.user_role_id,S=(e.roles,e.role),O=e.role_id,k=e.company,_=e.company_id,w=e.image,A=e.imageLoading,x=e.fileInputImage,I=e.onUploadImage,L=e.deleteImage,j=e.onChangeImage,M=e.onDeleteImage,T=e.isOpen,F=e.closeModal,R=e.onChange,D=e.onSubmit,P=e.modalLoading,U=e.deleteClick,z=e.onChangeSkills,J=e.onChangeLocation,H=e.onChangeSeniority,B=e.onChangeUserRole,q=e.onChangeRole,V=e.onChangeCompany,W=e.onChangeExperience,G=e.onChangeRoles;return l.a.createElement(Ee,{isOpen:T,modalLoading:P,closeModal:F},l.a.createElement("section",{className:"section-container edit-container edit-user"},l.a.createElement("h4",{className:"edit-container__title"},"Edit: ",l.a.createElement("b",null,"".concat(a.name," ").concat(a.surname))),l.a.createElement("span",{className:"ion-close-round edit-container__close",onClick:F}),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:D},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-3  edit-user__left"},l.a.createElement("div",{className:"edit-image"},l.a.createElement("label",{htmlFor:"edit-image",className:"edit-image__label"},"Profile photo"),A?l.a.createElement(ve,null):!ze()(w)&&w.url?l.a.createElement("img",{className:"image",src:"".concat(w.url),alt:"image"}):l.a.createElement("div",{className:"no-image"},"No image"),l.a.createElement("input",{id:"edit-image",type:"file",className:"input-file-custom",ref:x,onChange:I}),l.a.createElement("div",{className:"edit-image__buttons"},l.a.createElement("label",{htmlFor:"edit-image",className:"input-file-label  btn btn-light"},l.a.createElement("i",{className:"ion-image"}),"\xa0",l.a.createElement("span",null,"Choose a file")),l.a.createElement(se.a,{disabled:!w.url,outline:!0,color:"danger",onClick:M},"Delete photo"))),l.a.createElement("div",{className:"edit-image-url",hidden:!0},l.a.createElement("label",{htmlFor:"edit-image-url"},"Image URL"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{name:"image",value:!ze()(w)&&w.url?w.url:"",id:"edit-image-url",onChange:j,type:"url",className:"form-control",placeholder:"Please, paste image URL or load file"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:L,disabled:!ze()(w)&&!w.url},"Clear")))),l.a.createElement("div",{className:"created"},l.a.createElement("label",{htmlFor:"edit-created"},"Created"),l.a.createElement("input",{disabled:!0,name:"created",value:u&&"".concat(u.substring(0,10),", ").concat(u.substring(11,16),"UTC"),id:"edit-created",type:"text",className:"form-control"})),l.a.createElement("div",{className:"modified"},l.a.createElement("label",{htmlFor:"edit-modified"},"Modified"),l.a.createElement("input",{disabled:!0,name:"modified",value:p&&"".concat(p.substring(0,10),", ").concat(p.substring(11,16),"UTC"),id:"edit-modified",type:"text",className:"form-control"})),l.a.createElement("div",{className:"admin"},l.a.createElement("label",{htmlFor:"edit-modified"},"Admin status"),l.a.createElement("div",{className:"custom-checkbox"},l.a.createElement("label",{className:"switch switch-warn switch-primary"},l.a.createElement("input",{id:"edit-admin",name:"admin",type:"checkbox",checked:c,onChange:G}),l.a.createElement("span",null)),l.a.createElement("label",{htmlFor:"edit-admin",style:{fontWeight:"normal",paddingLeft:0,marginBottom:0}},c?"Site admin":"Not an admin")))),l.a.createElement("div",{className:"col-md-9  edit-user__right"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-name"},"Name"),l.a.createElement("input",{required:!0,name:"name",value:t,id:"edit-name",onChange:R,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-name"},"Last name"),l.a.createElement("input",{required:!0,name:"surname",value:n,id:"edit-surname",onChange:R,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-location_id"},"Location"),l.a.createElement("input",{hidden:!0,name:"location_id",value:y,id:"edit-location_id",onChange:R,type:"number",className:"form-control"}),l.a.createElement(Pe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return He(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return l.a.createElement("div",null,l.a.createElement("span",null,"".concat(e.name&&e.name+", "," ")),l.a.createElement("span",{style:{color:"#3498db",textShadow:"1px 1px 0 #fff"}},e.alias_region))},value:b,onChange:J})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-email"},"Email"),l.a.createElement("input",{required:!0,name:"email",value:r,id:"edit-email",onChange:R,type:"email",className:"form-control"})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-emailVerified"},"Email verified"),l.a.createElement("div",{className:"custom-checkbox"},l.a.createElement("label",{className:"switch switch-warn switch-primary"},l.a.createElement("input",{id:"edit-emailVerified",name:"emailVerified",type:"checkbox",checked:i,onChange:R}),l.a.createElement("span",null)),l.a.createElement("label",{htmlFor:"edit-emailVerified",style:{fontWeight:"normal",paddingLeft:0,marginBottom:0}},i?"Verified":"Not verified"))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-banned"},"User activity"),l.a.createElement("div",{className:"custom-checkbox"},l.a.createElement("label",{className:"switch switch-warn switch-success"},l.a.createElement("input",{id:"edit-banned",name:"banned",type:"checkbox",checked:!s,onChange:G}),l.a.createElement("span",null)),l.a.createElement("label",{htmlFor:"edit-banned",style:{fontWeight:"normal",paddingLeft:0,marginBottom:0}},s?l.a.createElement("span",{style:{color:"#F44336"}},"Blocked"):l.a.createElement("span",{style:{color:"#4CAF50"}},"Active")))),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("label",{htmlFor:"edit-skills"},"Skills"),l.a.createElement(Pe.a,{isMulti:!0,menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return Je(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},onChange:z,value:d})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-company_id"},"Current company"),l.a.createElement("input",{hidden:!0,name:"company_id",value:_,id:"edit-company_id",onChange:R,type:"number",className:"form-control"}),l.a.createElement(Pe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return Ve(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},value:k,onChange:V})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-job_title"},"Job title"),l.a.createElement("input",{name:"job_title",value:o,id:"edit-job_title",onChange:R,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-role_id"},"Product role"),l.a.createElement("input",{hidden:!0,name:"role_id",value:O,id:"edit-role_id",onChange:R,type:"number",className:"form-control"}),l.a.createElement(Pe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return Be(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},value:S,onChange:q})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",{htmlFor:"edit-seniority_id"},"Seniority"),l.a.createElement("input",{hidden:!0,name:"seniority_id",value:E,id:"edit-seniority_id",onChange:R,type:"number",className:"form-control"}),l.a.createElement(De.a,{value:f,onChange:H,options:We})),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("label",{htmlFor:"edit-experience"},"Experience"),l.a.createElement("input",{hidden:!0,required:!0,min:0,max:50,name:"experience",value:m.value,id:"edit-experience",onChange:R,type:"number",className:"form-control"}),l.a.createElement(De.a,{value:m,onChange:W,options:Ge})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"edit-user_role_id"},"Main reason for using ProductHired"),l.a.createElement("input",{hidden:!0,name:"user_role",value:C,id:"edit-user_role",onChange:R,type:"number",className:"form-control"}),l.a.createElement(Pe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return qe(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},value:N,onChange:B})),l.a.createElement("div",{className:"col-md-9  notifications"},l.a.createElement("label",null,"Notifications"),l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"edit-emailSettings",name:"emailSettings",checked:g,onChange:R}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"edit-emailSettings",style:{fontWeight:"normal"}},"When account settings have been modified")),l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"edit-emailJobApplication",name:"emailJobApplication",checked:h,onChange:R}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"edit-emailJobApplication",style:{fontWeight:"normal"}},"When job settings has been viewed")),l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"edit-emailMarketing",name:"emailMarketing",checked:v,onChange:R}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"edit-emailMarketing",style:{fontWeight:"normal"}},"Allow receiving marketing emails"))))))),P?l.a.createElement("div",{className:"edit-container__is-loading"},l.a.createElement(ve,null)):l.a.createElement("footer",{className:"edit-container__buttons"},l.a.createElement(se.a,{outline:!0,color:"danger",onClick:U},"Delete"),l.a.createElement(se.a,{outline:!0,color:"secondary",onClick:F},"Cancel"),l.a.createElement(se.a,{disabled:!t,outline:!0,color:"primary",type:"submit"},"Save")))))))}),Ye=function(e){var a=e.isOpen,t=e.modalLoading,n=e.closeModal,r=e.original,o=e.deleteSubmit;return l.a.createElement(ye,{isOpen:a,modalLoading:t,closeModal:n},l.a.createElement("section",{className:"section-container delete-container"},l.a.createElement("span",{className:"ion-close-round ReactModal__delete__close",onClick:n}),l.a.createElement("div",{className:"ReactModal__delete__title"},l.a.createElement("span",null,"Are you sure you want to delete ")," ",l.a.createElement("br",null),l.a.createElement("span",null,r.id," - ",l.a.createElement("b",null,"".concat(r.name," ").concat(r.surname)),"?")),t?l.a.createElement("div",{className:"ReactModal__delete__is-loading"},l.a.createElement(ve,null)):l.a.createElement("footer",{className:"ReactModal__delete__buttons"},l.a.createElement(se.a,{outline:!0,color:"secondary",onClick:n},"Cancel"),l.a.createElement(se.a,{outline:!0,color:"danger",onClick:o},"Delete"))))},Ze=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/users/").concat(e),{headers:{Authorization:a}})},Ke=t(653),$e=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,t=e.pageSize,n=e.page,l=e.filtered,r=e.sorted,o={where:{},limit:t,skip:n*t,order:"id DESC"};return l.forEach(function(e){if("id"===e.id)o.where[e.id]=e.value;else if("user_role_id"===e.id)e.value?o.where[e.id]=Number(e.value):o.where[e.id]=null;else if("created"===e.id){var a=e.value&&Object(Ke.default)(e.value,"yyyy-MM-dd");if(a)return o.where.created={gt:a};o.order=e.value?"created DESC":"id DESC"}else o.where[e.id]={like:"%"+e.value+"%"}}),r.forEach(function(e){var a=e.desc?"DESC":"ASC";o.order="".concat(e.id," ").concat(a)}),_.a.get("".concat(w,"/").concat(A,"/users"),{params:{filter:o},headers:{Authorization:a}})},Xe=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,t=e.filtered,n={};return t.forEach(function(e){if("id"===e.id)n[e.id]=e.value;else if("user_role_id"===e.id)e.value?n[e.id]=Number(e.value):n[e.id]=null;else if("created"===e.id){var a=e.value&&Object(Ke.default)(e.value,"yyyy-MM-dd");if(a)return n.created={gt:a}}else n[e.id]={like:"%"+e.value+"%"}}),_.a.get("".concat(w,"/").concat(A,"/users/count"),{params:{where:n},headers:{Authorization:a}})},ea=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/locations/").concat(e),{params:{filter:{limit:1}},headers:{Authorization:a}})},aa=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/vacancy_roles/").concat(e),{params:{filter:{limit:1}},headers:{Authorization:a}})},ta=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/companies/").concat(e),{params:{filter:{limit:1}},headers:{Authorization:a}})},na=function(e,a,t,n){var l=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.post("".concat(w,"/").concat(A,"/users"),{name:e,surname:a,password:t,email:n},{headers:{Authorization:l}})},la=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,t=e.id,n=e.name,l=e.surname,r=e.email,o=e.job_title,i=e.emailVerified,c=e.admin,s=e.banned,m=e.experience,d=e.image,u=e.skills,p=e.emailSettings,g=e.emailJobApplication,h=e.emailMarketing,v=e.seniority_id,f=e.location_id,E=e.user_role_id,b=e.role_id,y=e.company_id;return _.a.patch("".concat(w,"/").concat(A,"/users/").concat(t),{name:n,surname:l,email:r,job_title:o,emailVerified:i,admin:c,banned:s,experience:m.value,image:d,skills:u,emailSettings:p,emailJobApplication:g,emailMarketing:h,seniority_id:v,location_id:f,user_role_id:E,role_id:b,company_id:y,modified:"".concat((new Date).toISOString())},{headers:{Authorization:a}})},ra=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.delete("".concat(w,"/").concat(A,"/users/").concat(e),{headers:{Authorization:a}})},oa=function(e,a){var t=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.post("".concat(w,"/").concat(A,"/users/").concat(a,"/uploadImage"),e,{headers:{Authorization:t}})},ia=t(115),ca=t.n(ia),sa=(t(218),[{Header:"Id",accessor:"id",width:60,style:{textAlign:"right"},Cell:function(e){var a=e.original.id;return l.a.createElement("div",{className:"ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Name",accessor:"name",style:{fontWeight:"bold"},Cell:function(e){var a=e.original.name;return l.a.createElement("div",{className:"table-column-name  ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Last name",accessor:"surname",style:{fontWeight:"bold"},Cell:function(e){var a=e.original.surname;return l.a.createElement("div",{className:"table-column-name  ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Email",accessor:"email",Cell:function(e){var a=e.original,t=a.email;return t?l.a.createElement("div",{className:"ellipsis-text"},l.a.createElement("a",{href:"mailto:".concat(a.email),title:t,onClick:function(e){return e.stopPropagation()}},t)):""},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Role",accessor:"user_role_id",width:100,Cell:function(e){var a=e.original.user_role_id,t=a?(1===a?"Talent":2===a&&"Both")||3===a&&"Recruiter":"Null";return l.a.createElement("div",{className:"ellipsis-text",title:t},t)},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement("select",{onChange:function(e){return"Null"===e.target.value?t(null):t(e.target.value)},style:{width:"100%",height:"38px"},value:a?a.value:""},l.a.createElement("option",{value:""},"All"),l.a.createElement("option",{value:null},"Null"),l.a.createElement("option",{value:1},"Talent"),l.a.createElement("option",{value:2},"Both"),l.a.createElement("option",{value:3},"Recruiter"))}},{Header:"Created",accessor:"created",width:120,Cell:function(e){var a=e.original.created;return l.a.createElement("div",{className:"ellipsis-text",title:a&&a.substring(0,10)||""},l.a.createElement("span",null,a&&a.substring(0,10)||""))},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(ca.a,{placeholderText:"Select date...",isClearable:!!a,className:"created-datepicker",selected:a?a.value:"",onChange:function(e){return t(e)}})}},{Header:"Access",accessor:"roles",width:110,filterable:!1,sortable:!1,Cell:function(e){var a=e.original.roles,t=a?a.map(function(e){return e.name}):[];return ze()(t)?null:l.a.createElement("span",{className:"roles-string"},t.join(", "))}}]),ma=Ce(function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).fileInputImage=l.a.createRef(),t.state={users:[],usersCount:null,tableLoading:!1,original:{},count:null,alertIsOpen:!1,alertType:"",alertErrorText:"",errorAlertIsOpen:!1,addModalIsOpen:!1,editModalIsOpen:!1,deleteModalIsOpen:!1,modalLoading:!1,id:null,name:"",surname:"",password:"",email:"",job_title:"",emailVerified:!1,admin:!1,status:!0,banned:!1,experience:{value:0,label:"0"},skills:[],created:"",modified:"",emailSettings:!0,emailJobApplication:!0,emailMarketing:!0,seniority:{},seniority_id:null,location:{id:null,name:"",alias_region:""},location_id:null,userRole:{id:null,name:""},user_role_id:null,roles:[],role:{id:null,name:""},role_id:null,company:{id:null,name:""},company_id:null,image:{url:"",icon:"",color:""},imageLoading:!1},t.resetFields=function(){t.setState({name:"",surname:"",password:"",email:"",job_title:"",emailVerified:!1,admin:!1,status:!0,banned:!1,experience:{value:0,label:"0"},skills:[],created:"",modified:"",emailSettings:!0,emailJobApplication:!0,emailMarketing:!0,seniority:{},seniority_id:null,location:{id:null,name:"",alias_region:""},location_id:null,userRole:{id:null,name:""},user_role_id:null,roles:[],role:{id:null,name:""},role_id:null,company:{id:null,name:""},company_id:null,image:{url:"",icon:"",color:""},imageLoading:!1})},t.onChange=function(e){"checkbox"===e.target.type?t.setState(Object(j.a)({},e.target.name,e.target.checked)):t.setState(Object(j.a)({},e.target.name,e.target.value))},t.onChangeImage=function(e){t.setState({image:{url:"".concat(e.target.value)}})},t.onChangeSkills=function(e){return t.setState({skills:e})},t.onChangeExperience=function(e){return t.setState({experience:e})},t.onChangeSeniority=function(e){t.setState({seniority:e,seniority_id:e.value})},t.onChangeLocation=function(e){t.setState({location:e,location_id:e.id})},t.onChangeUserRole=function(e){t.setState({userRole:e,user_role_id:e.id})},t.onChangeRole=function(e){t.setState({role:e,role_id:e.id})},t.onChangeCompany=function(e){t.setState({company:e,company_id:e.id})},t.onChangeRoles=function(e){var a=e.target.name,n=t.state,l=n.admin,r=n.banned;"admin"===a&&t.setState({admin:!l,roles:[{name:l?"":"admin"},{name:r?"banned":""}]}),"banned"===a&&t.setState({banned:!r,roles:[{name:l?"admin":""},{name:r?"":"banned"}]})},t.catchErrors=function(e){401===e.response.status?(localStorage.removeItem("ph-admin-user-data"),t.props.history.push("/login")):t.setState({errorAlertIsOpen:!0,modalLoading:!1,imageLoading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(e,", ").concat(e.response.data.error.message)})},t.addClick=function(){t.setState({addModalIsOpen:!0,alertIsOpen:!1,name:"",surname:"",password:"",email:"",job_title:"",emailVerified:!1,status:!0,banned:!1,experience:{value:0,label:"0"},image:{url:"",icon:"",color:""},location:{id:null,name:"",alias_region:""},skills:[],created:null,modified:null,roles:[],emailSettings:!0,emailJobApplication:!0,emailMarketing:!0})},t.addSubmit=function(e){e.preventDefault(),t.setState({modalLoading:!0,errorAlertIsOpen:!1});var a=t.state,n=a.name,l=a.surname,r=a.password,o=a.email,i=a.users;na(n,l,r,o).then(function(e){var a=[e.data].concat(i);t.setState({modalLoading:!1,addModalIsOpen:!1,users:a}),t.editAfterAdd(e.data)}).catch(function(e){return t.catchErrors(e)})},t.editAfterAdd=function(e){t.setState({addModalIsOpen:!1,editModalIsOpen:!0,original:e,id:e.id,name:e.name,surname:e.surname,email:e.email,created:e.created,modified:e.modified,alertIsOpen:!1})},t.editClick=function(e){return function(a){a.stopPropagation(),t.resetFields(),t.setState({id:e.id,original:e,editModalIsOpen:!0,modalLoading:!0,alertIsOpen:!1,imageLoading:!1}),Ze(e.id).then(function(a){var n=a.data;t.setState({original:e,modalLoading:!1,id:n.id,name:n.name,surname:n.surname,email:n.email,job_title:n.job_title,emailVerified:n.emailVerified,status:n.status,experience:{value:n.experience?Number(n.experience):0,label:n.experience?"".concat(n.experience):"0"},image:n.image,skills:n.skills,created:n.created,modified:n.modified,emailSettings:n.emailSettings,emailJobApplication:n.emailJobApplication,emailMarketing:n.emailMarketing,seniority_id:n.seniority_id,location_id:n.location_id,user_role_id:n.user_role_id,userRole:n.userRole,role_id:n.role_id,roles:n.roles,company_id:n.company_id});var l=t.state.roles;l&&l.map(function(e){return"admin"===e.name&&t.setState({admin:!0})}),l&&l.map(function(e){return"banned"===e.name&&t.setState({banned:!0})});var r=t.state.seniority_id;r?We.map(function(e){e.value===r&&t.setState({seniority:e})}):t.setState({seniority:{}})}).then(function(){var e=t.state.location_id;t.setState({location:{id:null,name:"Loading ...",alias_region:""}}),e?ea(e).then(function(e){t.setState({location:e.data,location_id:e.data.id})}):t.setState({location:{id:null,name:"",alias_region:""}});var a=t.state.role_id;t.setState({role:{id:null,name:"Loading..."}}),a?aa(a).then(function(e){t.setState({role:e.data,role_id:e.data.id})}):t.setState({role:{id:null,name:""}});var n=t.state.company_id;t.setState({company:{id:null,name:"Loading..."}}),n?ta(n).then(function(e){t.setState({company:e.data,company_id:e.data.id})}):t.setState({company:{id:null,name:""}})}).catch(function(e){return t.catchErrors(e)})}},t.editSubmit=function(e){e.preventDefault(),t.setState({modalLoading:!0,errorAlertIsOpen:!1});var a=Object(Fe.a)(Object(Fe.a)(t)).state,n=t.state,l=n.id,r=n.name,o=n.surname,i=n.email,c=n.job_title,s=n.emailVerified,m=n.admin,d=n.status,u=n.banned,p=n.experience,g=n.image,h=n.skills,v=n.created,f=n.emailSettings,E=n.emailJobApplication,b=n.emailMarketing,y=n.seniority_id,N=n.seniority,C=n.location_id,S=n.location,O=n.userRole,k=n.user_role_id,_=n.roles,w=n.role,A=n.role_id,x=n.company,I=n.company_id;la(a).then(function(){for(var e=t.state.users,a=0;a<e.length;a++)e[a].id===l&&(e[a]={id:l,name:r,surname:o,email:i,job_title:c,emailVerified:s,admin:m,status:d,banned:u,experience:p.value,image:g,skills:h,created:v,emailSettings:f,emailJobApplication:E,emailMarketing:b,seniority_id:y,seniority:N,location_id:C,location:S,userRole:O,user_role_id:k,roles:_,role:w,role_id:A,company:x,company_id:I,modified:"".concat((new Date).toISOString())},console.log(e[a].userRole));t.setState({users:e,modalLoading:!1,editModalIsOpen:!1,alertType:"edit",alertIsOpen:!0}),setTimeout(function(){t.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return t.catchErrors(e)})},t.onUploadImage=function(e){e.preventDefault(),t.setState({imageLoading:!0});var a=new FormData,n=t.state.id,l=t.fileInputImage.current.files[0];a.append("file",l),oa(a,n).then(function(e){t.setState({image:{url:"".concat(w).concat(e.data.file.url)},imageLoading:!1})}).catch(function(e){return t.catchErrors(e)})},t.deleteClick=function(e){return function(a){a.stopPropagation(),t.setState({original:e,deleteModalIsOpen:!0,alertIsOpen:!1})}},t.deleteSubmit=function(){var e=[],a=t.state,n=a.users,l=a.original.id;t.setState({modalLoading:!0,errorAlertIsOpen:!1}),ra(l).then(function(){for(var a=0;a<n.length;a++)n[a].id!==l&&e.push(n[a]);t.setState({users:e,editModalIsOpen:!1,deleteModalIsOpen:!1,modalLoading:!1,alertType:"delete",alertIsOpen:!0}),setTimeout(function(){t.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return t.catchErrors(e)})},t.onDeleteImage=function(){return t.setState({image:{url:""}})},t.closeAddModal=function(){return!t.state.modalLoading&&t.setState({addModalIsOpen:!1})},t.closeEditModal=function(){!t.state.modalLoading&&t.setState({editModalIsOpen:!1,imageLoading:!1})},t.closeDeleteModal=function(){return!t.state.modalLoading&&t.setState({deleteModalIsOpen:!1})},t.closeErrorAlert=function(){return t.setState({errorAlertIsOpen:!1})},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.setHeaderTitle("Users")}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keyup",function(a){return 27===a.keyCode&&e.closeEditModal()})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",function(e){return 27===e.keyCode})}},{key:"render",value:function(){var e=this,a=this.state,t=a.tableLoading,n=a.original,r=a.users,o=a.usersCount,i=a.name,c=a.surname,s=a.password,m=a.email,d=a.job_title,u=a.emailVerified,p=a.admin,g=a.status,h=a.banned,v=a.experience,f=a.skills,E=a.created,b=a.modified,y=a.emailSettings,N=a.emailJobApplication,C=a.emailMarketing,S=a.seniority_id,O=a.seniority,k=a.location,_=a.location_id,w=a.userRole,A=a.user_role_id,x=a.roles,I=a.role,L=a.role_id,j=a.company,M=a.company_id,T=a.image,F=a.imageLoading,R=a.addModalIsOpen,D=a.editModalIsOpen,P=a.modalLoading,U=a.deleteModalIsOpen,z=a.alertIsOpen,J=a.alertType,H=a.alertErrorText,B=a.errorAlertIsOpen,q=[{Header:"",width:30,sortable:!1,filterable:!1,Cell:function(a){var t=a.original;return l.a.createElement("div",{className:"rt-custom__controls"},l.a.createElement("i",{className:"ion-android-delete",onClick:e.deleteClick(t)}))}}];return l.a.createElement("div",{className:"users-page"},l.a.createElement("p",{className:"md-lg"},"Total records:\xa0",l.a.createElement("b",null,this.state.count&&this.state.count.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),z&&l.a.createElement(ce,{type:J,original:n,errorText:H,errorAlertIsOpen:B,closeErrorAlert:this.closeErrorAlert}),l.a.createElement(ue,{text:"user",loading:P,addClick:this.addClick}),l.a.createElement(Ye,{isOpen:U,modalLoading:P,closeModal:this.closeDeleteModal,original:n,deleteSubmit:this.deleteSubmit}),l.a.createElement(Re,{name:i,surname:c,password:s,email:m,isOpen:R,modalLoading:P,closeModal:this.closeAddModal,onChange:this.onChange,onSubmit:this.addSubmit}),l.a.createElement(Qe,{original:n,name:i,surname:c,email:m,job_title:d,emailVerified:u,admin:p,status:g,banned:h,experience:v,skills:f,created:E,modified:b,emailSettings:y,emailJobApplication:N,emailMarketing:C,seniority:O,seniority_id:S,location:k,location_id:_,userRole:w,user_role_id:A,role:I,role_id:L,roles:x,company:j,company_id:M,image:T,imageLoading:F,fileInputImage:this.fileInputImage,onUploadImage:this.onUploadImage,onDeleteImage:this.onDeleteImage,isOpen:D,modalLoading:P,closeModal:this.closeEditModal,onChange:this.onChange,onChangeImage:this.onChangeImage,onSubmit:this.editSubmit,deleteClick:this.deleteClick(n),onChangeSkills:this.onChangeSkills,onChangeSeniority:this.onChangeSeniority,onChangeLocation:this.onChangeLocation,onChangeUserRole:this.onChangeUserRole,onChangeRole:this.onChangeRole,onChangeCompany:this.onChangeCompany,onChangeExperience:this.onChangeExperience,onChangeRoles:this.onChangeRoles}),l.a.createElement(ie,{manual:!0,data:r,pages:o,loading:t,columns:[].concat(Object(ne.a)(sa),q),getTheadFilterThProps:function(e,a,t){return{style:{overflow:"visible"}}},getTdProps:function(a,t,n,l){return{onClick:function(a){if(void 0!==t){n&&n.id;var l=t.original;return e.editClick(l)(a)}return null}}},onFetchData:function(a){e.setState({tableLoading:!0}),Xe(a).then(function(t){e.setState({count:t.data.count,usersCount:Math.ceil(t.data.count/a.pageSize)}),$e(a).then(function(a){return e.setState({users:a.data,tableLoading:!1})}).catch(function(a){return e.catchErrors(a)})}).catch(function(a){return e.catchErrors(a)})}}))}}]),a}(l.a.Component)),da=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/companies"),{params:{filter:{where:{name:{like:"%".concat(e,"%")}},limit:10}},headers:{Authorization:a}})},ua=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/users"),{params:{filter:{where:{or:[{name:{like:"%".concat(e,"%")}},{surname:{like:"%".concat(e,"%")}},{email:{like:"%".concat(e,"%")}}]},limit:10}},headers:{Authorization:a}})},pa=function(e){var a=e.name,t=e.company,n=e.user,r=e.isOpen,o=e.closeModal,i=e.onChange,c=e.onSubmit,s=e.modalLoading,m=e.onChangeCompany,d=e.onChangeUser;return l.a.createElement(he,{isOpen:r,modalLoading:s,closeModal:o},l.a.createElement("section",{className:"section-container add-container"},l.a.createElement("h4",{className:"add-container__title"},"Add job"),l.a.createElement("span",{className:"ion-close-round add-container__close",onClick:o}),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:c},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("label",{htmlFor:"add-name"},"Job title"),l.a.createElement("input",{required:!0,autoComplete:"off",name:"name",value:a,id:"add-name",onChange:i,type:"text",className:"form-control"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"add-surname"},"Company"),l.a.createElement(Pe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return da(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},onChange:m,value:t})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"add-password"},"User"),l.a.createElement(Pe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return ua(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return l.a.createElement("div",null,l.a.createElement("span",null,"".concat(e.name," ").concat(e.surname," ")),l.a.createElement("span",{style:{color:"#1976D2"}},e.email))},onChange:d,value:n})))),s?l.a.createElement("div",{className:"add-container__is-loading"},l.a.createElement(ve,null)):l.a.createElement("footer",{className:"add-container__buttons"},l.a.createElement(se.a,{outline:!0,color:"secondary",onClick:o},"Cancel"),l.a.createElement(se.a,{disabled:!a||!t.name||!n.name,outline:!0,color:"primary",type:"submit"},"Save")))))))},ga=function(e){var a=e.isOpen,t=e.modalLoading,n=e.closeModal,r=e.original,o=e.deleteSubmit;return l.a.createElement(ye,{isOpen:a,modalLoading:t,closeModal:n},l.a.createElement("section",{className:"section-container delete-container"},l.a.createElement("span",{className:"ion-close-round ReactModal__delete__close",onClick:n}),l.a.createElement("div",{className:"ReactModal__delete__title"},l.a.createElement("span",null,"Are you sure you want to delete ")," ",l.a.createElement("br",null),l.a.createElement("span",null,r.id," - ",l.a.createElement("b",null,r.name),"?")),t?l.a.createElement("div",{className:"ReactModal__delete__is-loading"},l.a.createElement(ve,null)):l.a.createElement("footer",{className:"ReactModal__delete__buttons"},l.a.createElement(se.a,{outline:!0,color:"secondary",onClick:n},"Cancel"),l.a.createElement(se.a,{outline:!0,color:"danger",onClick:o},"Delete"))))},ha=t(371),va=t.n(ha),fa=t(372),Ea=t.n(fa),ba=t(373),ya=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/skills"),{params:{filter:{where:{markers:{like:"%".concat(e,"%")}},limit:50}},headers:{Authorization:a}})},Na=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/locations"),{params:{filter:{where:{name:{like:"%".concat(e,"%")}},limit:50}},headers:{Authorization:a}})},Ca=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/vacancy_roles"),{params:{filter:{where:{name:{like:"%".concat(e,"%")}},limit:10}},headers:{Authorization:a}})},Sa=[{value:1,label:"Junior"},{value:2,label:"Mid level"},{value:3,label:"Senior"},{value:4,label:"Managment"}],Oa=[{value:"public",label:"Public"},{value:"draft",label:"Draft"},{value:"expired",label:"Expired"}],ka=[{value:null,label:"Null"},{value:1,label:"Free"},{value:2,label:"Bronze"},{value:3,label:"Silver"},{value:4,label:"Gold"}],_a=[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"}],wa=[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"}],Aa=(t(228),function(e){var a=e.original,t=e.id,n=e.name,r=e.created,o=(e.modified,e.published),i=e.views,c=e.impressions,s=e.details,m=e.experience_from,d=e.experience_up,u=e.seniority,p=e.seniorityObj,g=e.skills,h=e.status,v=e.statusObj,f=e.plan_id,E=e.planObj,b=e.company,y=e.company_id,N=e.locations,C=e.user,S=e.employer_id,O=e.vacancy,k=e.vacancy_role,_=e.logo,x=e.cover,I=e.logoSwitcher,L=e.coverSwitcher,j=e.logoLoading,M=e.coverLoading,T=e.fileInputLogo,F=e.fileInputCover,R=e.onUploadLogo,D=e.onUploadCover,P=e.onDeleteLogo,U=e.onDeleteCover,z=e.isOpen,J=e.closeModal,H=e.onSubmit,B=e.modalLoading,q=e.deleteClick,V=e.onChange,W=e.onChangeDetails,G=e.onChangeSeniority,Q=e.onChangeSkills,Y=e.onChangeStatus,Z=e.onChangePlan,K=e.onChangeLocations,$=e.onChangeCompany,X=e.onChangeUser,ee=e.onChangeVacancy,ae=e.onChangeExperienceFrom,te=e.onChangeExperienceUp,ne=e.onCopyUser,le=r&&"".concat(r.substring(0,10),", ").concat(r.substring(11,16)," UTC"),re="".concat(w,"/").concat(A,"/containers/logo/download/").concat(_),oe="".concat(w,"/").concat(A,"/containers/cover/download/").concat(x);if(!I&&_&&_.includes("http")){var ie=_.split("/").pop();re="".concat(w,"/").concat(A,"/containers/logo/download/").concat(ie)}if(!L&&x&&x.includes("http")){var ce=x.split("/").pop();oe="".concat(w,"/").concat(A,"/containers/cover/download/").concat(ce)}return l.a.createElement(Ee,{isOpen:z,modalLoading:B,closeModal:J},l.a.createElement("section",{className:"section-container edit-container edit-job"},l.a.createElement("h4",{className:"edit-container__title"},"Edit: ",l.a.createElement("b",null,a.name)),l.a.createElement("span",{className:"ion-close-round edit-container__close",onClick:J}),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:H},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row top-fields"},l.a.createElement("div",{className:"col-md-4 col-sm-6"},l.a.createElement("b",null,"Created"),l.a.createElement("span",null,le||"")),l.a.createElement("div",{className:"col-md-2 col-sm-6"},l.a.createElement("b",null,"Views"),l.a.createElement("span",null,i||0)),l.a.createElement("div",{className:"col-md-2 col-sm-6"},l.a.createElement("b",null,"Impressions"),l.a.createElement("span",null,c||0)),l.a.createElement("div",{className:"col-md-4 col-sm-6  job-link"},l.a.createElement("b",null,"Link to the job"),l.a.createElement("a",{target:"_blank",href:"".concat(w,"/jobs/").concat(t),title:"".concat(w,"/jobs/").concat(t)},"".concat("".concat(w,"/jobs/").concat(t)))))),l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"edit-name"},"Job title"),l.a.createElement("input",{name:"name",type:"text",value:n,id:"edit-name",onChange:V,className:"form-control"})),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("label",{htmlFor:"edit-plan_id"},"Plan"),l.a.createElement("input",{hidden:!0,name:"plan_id",value:f,id:"edit-plan_id",onChange:V,type:"number",className:"form-control"}),l.a.createElement(De.a,{value:E,onChange:Z,options:ka})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",{htmlFor:"edit-published"},"Published"),l.a.createElement("input",{type:"date",name:"published",id:"edit-published",value:o&&o.substring(0,10),onChange:V,className:"form-control"})),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("label",{htmlFor:"edit-status"},"Status"),l.a.createElement("input",{hidden:!0,name:"status",value:h,id:"edit-status",onChange:V,type:"text",className:"form-control"}),l.a.createElement(De.a,{value:v,onChange:Y,options:Oa})),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"edit-employer_id"},"User"),l.a.createElement("input",{hidden:!0,name:"employer_id",value:S,id:"edit-employer_id",onChange:V,type:"number",className:"form-control"}),l.a.createElement(Pe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return ua(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return l.a.createElement("div",null,l.a.createElement("span",null,"".concat(e.name," ").concat(e.surname," ")),l.a.createElement("span",{style:{color:"#3498db",textShadow:"1px 1px 0 #fff"}},e.email))},onChange:X,value:C})),l.a.createElement("div",{className:"col-md-2  copy-button"},l.a.createElement(ba.CopyToClipboard,{text:"".concat(C.name," ").concat(C.surname," <").concat(C.email,">")},l.a.createElement(se.a,{title:"Copy user data to clipboard",disabled:!C,outline:!0,color:"primary",onClick:ne},"Copy user"))),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"edit-company_id"},"Company"),l.a.createElement("input",{hidden:!0,name:"company_id",value:y,id:"edit-company_id",onChange:V,type:"number",className:"form-control"}),l.a.createElement(Pe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return da(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},onChange:$,value:b})),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("label",{htmlFor:"edit-locations"},"Locations"),l.a.createElement(Pe.a,{isMulti:!0,menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return Na(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return l.a.createElement("div",null,l.a.createElement("span",null,"".concat(e.name&&e.name+", "," ")),l.a.createElement("span",{style:{color:"#448aff"}},e.alias_region))},onChange:K,value:N})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",{htmlFor:"edit-vacancy_role"},"Role"),l.a.createElement("input",{hidden:!0,name:"vacancy_role",value:k,id:"edit-vacancy_role",onChange:V,type:"number",className:"form-control"}),l.a.createElement(Pe.a,{menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return Ca(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},value:O,onChange:ee})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",{htmlFor:"edit-experience_from"},"Experience, from"),l.a.createElement("input",{hidden:!0,min:0,max:9,type:"number",onChange:V,name:"experience_from",value:m,id:"edit-experience_from",className:"form-control"}),l.a.createElement(De.a,{value:m,onChange:ae,options:_a})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",{htmlFor:"edit-experience_up"},"Experience, to"),l.a.createElement("input",{hidden:!0,min:1,max:10,type:"number",onChange:V,name:"experience_up",value:d,id:"edit-experience_up",className:"form-control"}),l.a.createElement(De.a,{value:d,onChange:te,options:wa})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",{htmlFor:"edit-seniority"},"Seniority"),l.a.createElement("input",{hidden:!0,name:"seniority",value:u,id:"edit-seniority",onChange:V,type:"number",className:"form-control"}),l.a.createElement(De.a,{value:p,onChange:G,options:Sa})),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("label",{htmlFor:"edit-skills"},"Skills"),l.a.createElement(Pe.a,{isMulti:!0,menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return ya(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},onChange:Q,value:g})),l.a.createElement("div",{className:"col-md-6  edit-logo"},l.a.createElement("label",{htmlFor:"edit-logo"},"Logo"),I?j?l.a.createElement(ve,null):_&&l.a.createElement("img",{className:"logo",src:_,alt:"logo"}):_?l.a.createElement("img",{className:"logo",src:re,alt:"logo"}):l.a.createElement("div",{className:"no-logo"},"No logo"),l.a.createElement("input",{id:"edit-logo",type:"file",className:"input-file-custom",ref:T,onChange:R}),l.a.createElement("div",{className:"edit-logo__buttons"},l.a.createElement("label",{htmlFor:"edit-logo",className:"input-file-label  btn btn-light"},l.a.createElement("i",{className:"ion-image"}),"\xa0",l.a.createElement("span",null,"Load logo")),l.a.createElement(se.a,{disabled:!_||!re,outline:!0,color:"danger",onClick:P},"Delete logo"))),l.a.createElement("div",{className:"col-md-6  edit-cover"},l.a.createElement("label",{htmlFor:"edit-cover"},"Cover"),L?M?l.a.createElement(ve,null):x&&l.a.createElement("img",{className:"cover",src:x,alt:"cover"}):x?l.a.createElement("img",{className:"cover",src:oe,alt:"cover"}):l.a.createElement("div",{className:"no-cover"},"No cover"),l.a.createElement("input",{id:"edit-cover",type:"file",className:"input-file-custom",ref:F,onChange:D}),l.a.createElement("div",{className:"edit-cover__buttons"},l.a.createElement("label",{htmlFor:"edit-cover",className:"input-file-label  btn btn-light"},l.a.createElement("i",{className:"ion-image"}),"\xa0",l.a.createElement("span",null,"Load cover")),l.a.createElement(se.a,{disabled:!x||!oe,outline:!0,color:"danger",onClick:U},"Delete cover"))),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("label",{htmlFor:"edit-details"},"Details"),l.a.createElement(va.a,{editor:Ea.a,data:s,onInit:function(e){},onChange:function(e,a){var t=a.getData();W(t)},onBlur:function(e,a){},onFocus:function(e,a){}})))),B?l.a.createElement("div",{className:"edit-container__is-loading"},l.a.createElement(ve,null)):l.a.createElement("footer",{className:"edit-container__buttons"},l.a.createElement(se.a,{outline:!0,color:"danger",onClick:q},"Delete"),l.a.createElement(se.a,{outline:!0,color:"secondary",onClick:J},"Cancel"),l.a.createElement(se.a,{disabled:!n||ze()(N)||ze()(g),outline:!0,color:"primary",type:"submit"},"Save")))))))}),xa=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/vacancies/").concat(e),{headers:{Authorization:a}})},Ia=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,t=e.pageSize,n=e.page,l=e.filtered,r=e.sorted,o={where:{},limit:t,skip:n*t,order:"published DESC"};return l.forEach(function(e){if("id"===e.id)o.where[e.id]=e.value;else if("name"===e.id)o.where[e.id]={like:"%"+e.value+"%"};else if("locations"===e.id)e.value?o.where.locations={inq:e.value.map(function(e){return e.id})}:o.where.locations={};else if("employer"===e.id)e.value?o.where.employer_id=e.value.id:o.where.employer_id=null;else if("company"===e.id)console.log(e.value),e.value?o.where.companies={inq:e.value.map(function(e){return e.id})}:o.where.companies={};else if("status"===e.id)o.where[e.id]=e.value;else if("plan_id"===e.id)5===e.value?o.where[e.id]={gt:1}:o.where[e.id]=e.value;else if("created"===e.id){var a=e.value&&Object(Ke.default)(e.value,"yyyy-MM-dd");o.where.created={gt:a},o.order=e.value?"created DESC":"published DESC"}else if("published"===e.id){var t=e.value&&Object(Ke.default)(e.value,"yyyy-MM-dd");o.where.published={gt:t}}}),r.forEach(function(e){var a=e.desc?"DESC":"ASC";o.order="".concat(e.id," ").concat(a)}),_.a.get("".concat(w,"/").concat(A,"/vacancies/searchExtra"),{params:{filter:o},headers:{Authorization:a}})},La=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,t=e.filtered,n={};return t.forEach(function(e){if("id"===e.id)n[e.id]=e.value;else if("name"===e.id)n[e.id]={like:"%"+e.value+"%"};else if("locations"===e.id)e.value?n.locations={inq:e.value.map(function(e){return e.id})}:n.locations={};else if("employer"===e.id)e.value?n.employer_id=e.value.id:n.employer_id=null;else if("company"===e.id)e.value?n.companies={inq:e.value.map(function(e){return e.id})}:n.companies={};else if("status"===e.id)n[e.id]=e.value;else if("plan_id"===e.id)n[e.id]=e.value;else if("created"===e.id){var a=e.value&&Object(Ke.default)(e.value,"yyyy-MM-dd");n.created={gt:a}}}),_.a.get("".concat(w,"/").concat(A,"/vacancies/searchExtra"),{params:{filter:{where:n},count:!0},headers:{Authorization:a}})},ja=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,t=e.name,n=e.company,l=e.user,r=(e.details,e.vacancy_role),o=e.seniority,i=e.experience_from,c=e.experience_up,s=e.application_type,m=e.application_link,d=e.plan_id,u=e.hash,p=e.status;return _.a.post("".concat(w,"/").concat(A,"/vacancies"),{name:t,company_id:n.id,employer_id:l.id,details:"<p></p>",vacancy_role:r,seniority:o,experience_from:i.value,experience_up:c.value,application_type:s,application_link:m,plan_id:d,hash:u,status:p},{headers:{Authorization:a}})},Ma=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.delete("".concat(w,"/").concat(A,"/vacancies/").concat(e),{headers:{Authorization:a}})},Ta=function(e){for(var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,t=e.id,n=e.name,l=e.details,r=e.logo,o=e.cover,i=e.skills,c=e.locations,s=e.vacancy,m=e.company,d=e.status,u=e.seniority,p=e.experience_up,g=e.experience_from,h=e.employer_id,v=e.plan_id,f=e.published,E=[],b=0;b<i.length;b++)E.push(i[b].name);var y=E.toString();return _.a.post("".concat(w,"/").concat(A,"/vacancies/").concat(t,"/updateJob"),{name:n,details:l,logo:r?r.split("/").pop():"",cover:o?o.split("/").pop():"",skills_string:y,locations:c,company:m.length?m[0].name:m.name,employer_id:h,plan_id:v,status:d,seniority:u,experience_from:g.value,experience_up:p.value,role:s,modified:"".concat((new Date).toISOString()),published:f},{headers:{Authorization:a}})},Fa=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/companies/").concat(e),{params:{filter:{limit:1}},headers:{Authorization:a}})},Ra=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/users/").concat(e),{params:{filter:{limit:1}},headers:{Authorization:a}})},Da=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/vacancy_roles/").concat(e),{params:{filter:{limit:1}},headers:{Authorization:a}})},Pa=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.post("".concat(w,"/").concat(A,"/vacancies/logo"),e,{headers:{"Content-Type":"multipart/form-data",Authorization:a}})},Ua=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.post("".concat(w,"/").concat(A,"/vacancies/cover"),e,{headers:{"Content-Type":"multipart/form-data",Authorization:a}})},za=(t(540),{menu:function(e){return Object(M.a)({},e,{textAlign:"left",width:320})},control:function(e){return Object(M.a)({},e,{padding:0,border:"1px solid rgba(0,0,0,0.1)"})},option:function(e,a){return Object(M.a)({},e,{borderBottom:"1px solid rgba(0,0,0,0.1)",minHeight:"22px"})}}),Ja={menu:function(e){return Object(M.a)({},e,{textAlign:"left"})},control:function(e){return Object(M.a)({},e,{padding:0,border:"1px solid rgba(0,0,0,0.1)"})},option:function(e,a){return Object(M.a)({},e,{borderBottom:"1px solid rgba(0,0,0,0.1)",minHeight:"22px"})}},Ha=[{Header:"Id",accessor:"id",width:65,style:{textAlign:"right"},Cell:function(e){var a=e.original.id;return l.a.createElement("div",{className:"ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",minHeight:"38px"},debounceTimeout:800})}},{Header:"Job",accessor:"name",style:{fontWeight:"bold"},Cell:function(e){var a=e.original.name;return a?l.a.createElement("div",{className:"table-column-name  ellipsis-text",title:a},a):""},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",minHeight:"38px"},debounceTimeout:800})}},{Header:"Company",accessor:"company",sortable:!1,width:200,Cell:function(e){var a=e.original.company;return a?l.a.createElement("div",{className:"ellipsis-text",title:a.name},a.name):""},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Pe.a,{className:"jobs-company-select",placeholder:"Select companies...",isMulti:!0,isClearable:!0,styles:Ja,menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return da(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return l.a.createElement("div",{title:"".concat(e.name,", ").concat(e.domain)},e.name||"")},onChange:t,value:a?a.value:""})}},{Header:"Locations",accessor:"locations",width:200,sortable:!1,Cell:function(e){var a=e.original.locations,t=function(){return a.map(function(e){return e.alias_region?"".concat(e.name,", ").concat(e.alias_region):e.name}).join("; ")||""};return a&&l.a.createElement("div",{className:"text-ellipsis",title:t()},t())},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Pe.a,{className:"jobs-locations-select",placeholder:"Select locations...",isMulti:!0,isClearable:!0,styles:Ja,menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return Na(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return l.a.createElement("div",null,l.a.createElement("span",null,"".concat(e.name,", ")||""),l.a.createElement("span",{style:{color:"#3498db",textShadow:"1px 1px 0 #fff"}},e.alias_region||""))},onChange:t,value:a?a.value:""})}},{Header:"User",accessor:"employer",width:150,sortable:!1,Cell:function(e){var a=e.original.employer,t=a.name,n=a.surname,r=a.email;return l.a.createElement("div",{title:"".concat(t," ").concat(n,", ").concat(r)||"",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},"".concat(t," ").concat(n)||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Pe.a,{className:"jobs-user-select",placeholder:"Select user...",isClearable:!0,styles:za,menuPlacement:"auto",cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return ua(e).then(function(e){return e.data})},getOptionValue:function(e){return e.id},getOptionLabel:function(e){return l.a.createElement("div",null,l.a.createElement("span",null,"".concat(e.name," ").concat(e.surname,", ")),l.a.createElement("span",{style:{color:"#3498db",textShadow:"1px 1px 0 #fff"}},e.email))},onChange:t,value:a?a.value:""})}},{Header:"Status",accessor:"status",width:85,Cell:function(e){var a=e.original.status;return l.a.createElement("div",{className:"ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement("select",{onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},value:a?a.value:""},l.a.createElement("option",{value:""},"All"),l.a.createElement("option",{value:"draft"},"Draft"),l.a.createElement("option",{value:"public"},"Public"),l.a.createElement("option",{value:"expired"},"Expired"))}},{Header:"Plan",accessor:"plan_id",width:85,Cell:function(e){var a=e.original.plan_id;return ka.map(function(e){return a===e.value&&l.a.createElement("div",{className:"ellipsis-text",title:e.label},e.label)})},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement("select",{onChange:function(e){return"Null"===e.target.value?t(null):t(Number(e.target.value))},style:{width:"100%",height:"38px"},value:a?a.value:""},l.a.createElement("option",{value:""},"All"),l.a.createElement("option",{value:null},"Null"),l.a.createElement("option",{value:1},"Free"),l.a.createElement("option",{value:2},"Bronze"),l.a.createElement("option",{value:3},"Silver"),l.a.createElement("option",{value:4},"Gold"),l.a.createElement("option",{value:5},"All paid"))}},{Header:"Created",accessor:"created",width:120,Cell:function(e){var a=e.original.created;return l.a.createElement("div",{className:"ellipsis-text",title:a&&a.substring(0,10)||""},l.a.createElement("span",null,a&&a.substring(0,10)||""))},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(ca.a,{placeholderText:"Select date...",isClearable:!!a,className:"created-datepicker",selected:a?a.value:"",onChange:function(e){return t(e)}})}},{Header:"Published",accessor:"published",width:120,Cell:function(e){var a=e.original.published;return l.a.createElement("div",{className:"ellipsis-text",title:a&&a.substring(0,10)||""},l.a.createElement("span",null,a&&a.substring(0,10)||""))},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(ca.a,{placeholderText:"Select date...",isClearable:!!a,popperPlacement:"top-end",className:"published-datepicker",selected:a?a.value:"",onChange:function(e){return t(e)}})}}],Ba=Ce(function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).fileInputLogo=l.a.createRef(),t.fileInputCover=l.a.createRef(),t.state={jobs:[],jobsCount:null,tableLoading:!1,original:{},count:null,addModalIsOpen:!1,editModalIsOpen:!1,deleteModalIsOpen:!1,modalLoading:!1,id:null,created:"",modified:"",published:"".concat((new Date).toISOString()),views:null,impressions:"",skills:[],locations:[],seniorityObj:{},seniority:null,statusObj:{label:"Draft",value:"draft"},status:"draft",planObj:{label:"Null",value:null},plan_id:null,name:"",company:{name:""},company_id:null,user:{name:"",surname:"",email:""},user_id:null,employer:{name:"",surname:"",email:""},employer_id:null,experience_from:{value:0,label:"0"},experience_up:{value:1,label:"1"},vacancy:{id:1,name:"Product Manager"},vacancy_role:1,details:"",logo:"",logoUrl:"",cover:"",coverUrl:"",logoLoading:!1,coverLoading:!1,logoSwitcher:!1,coverSwitcher:!1,application_link:null,application_type:0,hash:null,alertIsOpen:!1,alertType:"",alertErrorText:"",errorAlertIsOpen:!1},t.resetFields=function(){t.setState({id:null,created:"",modified:"",views:null,impressions:"",skills:[],locations:[],published:"".concat((new Date).toISOString()),seniorityObj:{},seniority:null,statusObj:{label:"Draft",value:"draft"},status:"draft",planObj:{label:"Null",value:null},plan_id:null,name:"",company:{name:""},company_id:null,user:{name:"",surname:"",email:""},user_id:null,employer:{name:"",surname:"",email:""},employer_id:null,vacancy:{id:1,name:"Product Manager"},vacancy_role:1,details:"",logo:"",cover:"",experience_from:{value:0,label:"0"},experience_up:{value:1,label:"1"}})},t.onChange=function(e){return t.setState(Object(j.a)({},e.target.name,e.target.value))},t.onChangeCompany=function(e){return t.setState({company:e})},t.onChangeLocations=function(e){return t.setState({locations:e})},t.onChangeDetails=function(e){return t.setState({details:e})},t.onChangeSkills=function(e){return t.setState({skills:e})},t.onChangeSeniority=function(e){return t.setState({seniorityObj:e,seniority:e.value})},t.onChangeStatus=function(e){return t.setState({statusObj:e,status:e.value})},t.onChangePlan=function(e){return t.setState({planObj:e,plan_id:e.value})},t.onChangeCompany=function(e){return t.setState({company:e,company_id:e.id})},t.onChangeUser=function(e){return t.setState({user:e,employer:e,employer_id:e.id})},t.onChangeVacancy=function(e){return t.setState({vacancy:e,vacancy_role:e.id})},t.onChangeExperienceFrom=function(e){return t.setState({experience_from:e})},t.onChangeExperienceUp=function(e){return t.setState({experience_up:e})},t.catchErrors=function(e){var a=e.response.data.error,n=a.name,l=a.statusCode,r=a.message;401===l?(localStorage.removeItem("ph-admin-user-data"),t.props.history.push("/login")):t.setState({errorAlertIsOpen:!0,modalLoading:!1,logoLoading:!1,coverLoading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},t.addClick=function(){t.setState({addModalIsOpen:!0,alertIsOpen:!1}),t.resetFields()},t.addSubmit=function(e){e.preventDefault(),t.setState({modalLoading:!0,errorAlertIsOpen:!1});var a=Object(Fe.a)(Object(Fe.a)(t)).state,n=t.state,l=n.jobs,r=n.company,o=n.employer;ja(a).then(function(e){var a=[Object(M.a)({},e.data,{company:r,employer:o,locations:[{}]})].concat(l);t.setState({modalLoading:!1,addModalIsOpen:!1,jobs:a}),t.editAfterAdd(e.data)}).catch(function(e){return t.catchErrors(e)})},t.editAfterAdd=function(e){t.setState({addModalIsOpen:!1,editModalIsOpen:!0,original:e,id:e.id,name:e.name,created:e.created,modified:e.modified,employer_id:e.employer_id,company_id:e.company_id,published:"".concat((new Date).toISOString()),alertIsOpen:!1})},t.editClick=function(e){return function(a){a.stopPropagation(),t.resetFields(),t.setState({id:e.id,original:e,editModalIsOpen:!0,modalLoading:!0,alertIsOpen:!1,logoLoading:!1,coverLoading:!1}),xa(e.id).then(function(a){var n,l=a.data;t.setState((n={modalLoading:!1,name:l.name,created:l.created,modified:l.modified,published:l.published,views:l.views,impressions:l.impressions,details:l.details,experience_up:{value:l.experience_up,label:"".concat(l.experience_up)},experience_from:{value:l.experience_from,label:"".concat(l.experience_from)},seniority:l.seniority,skills:l.skills,status:l.status,plan_id:l.plan_id,employer_id:l.employer_id,locations:l.locations,company_id:l.company_id,company:l.company},Object(j.a)(n,"locations",l.locations),Object(j.a)(n,"vacancy_role",l.vacancy_role),Object(j.a)(n,"vacancy",l.vacancy),Object(j.a)(n,"logo",e.logo),Object(j.a)(n,"cover",e.cover),n));var r=t.state.seniority;r?Sa.map(function(e){e.value===r&&t.setState({seniorityObj:e})}):t.setState({seniorityObj:{}});var o=t.state.status;o?Oa.map(function(e){o===e.value&&t.setState({statusObj:e})}):t.setState({statusObj:{}});var i=t.state.plan_id;i?ka.map(function(e){i===e.value&&t.setState({planObj:e})}):t.setState({planObj:{label:"Null",value:null}})}).then(function(){var e=t.state.company_id;t.setState({company:{id:null,name:"Loading..."}}),e?Fa(e).then(function(e){t.setState({company:e.data,company_id:e.data.id})}):t.setState({company:{id:null,name:""}});var a=t.state.employer_id;t.setState({user:{name:"Loading ...",surname:"",email:""}}),a?Ra(a).then(function(e){t.setState({user:e.data,employer:e.data,employer_id:e.data.id})}):t.setState({user:{name:"",surname:"",email:""},employer:{name:"",surname:"",email:""}});var n=t.state.vacancy_role;t.setState({vacancy:{name:"Loading ..."}}),n?Da(n).then(function(e){t.setState({vacancy:e.data,vacancy_role:e.data.id})}):t.setState({vacancy:{name:""}})}).catch(function(e){return t.catchErrors(e)})}},t.editSubmit=function(e){e.preventDefault(),t.setState({modalLoading:!0,errorAlertIsOpen:!1});var a=Object(Fe.a)(Object(Fe.a)(t)).state;Ta(a).then(function(){for(var e=t.state,a=e.id,n=e.jobs,l=e.name,r=e.user,o=e.employer,i=e.employer_id,c=e.created,s=e.modified,m=e.published,d=e.views,u=e.impressions,p=e.details,g=e.experience_from,h=e.experience_up,v=e.seniority,f=e.seniorityObj,E=e.skills,b=e.status,y=e.statusObj,N=e.plan_id,C=e.planObj,S=e.company_id,O=e.company,k=e.locations,_=e.vacancy_role,w=e.vacancy,A=e.logo,x=e.cover,I=0;I<n.length;I++)n[I].id===a&&(n[I]=Object(j.a)({id:a,name:l,user:r,employer:o,employer_id:i,created:c,modified:s,published:m,views:d,impressions:u,details:p,experience_from:g.value,experience_up:h.value,seniority:v,seniorityObj:f,skills:E,status:b,statusObj:y,plan_id:N,planObj:C,company_id:S,company:O,locations:k,vacancy_role:_,vacancy:w,logo:A,cover:x},"modified","".concat((new Date).toISOString())));t.setState({jobs:n,modalLoading:!1,editModalIsOpen:!1,alertType:"edit",alertIsOpen:!0}),setTimeout(function(){t.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return t.catchErrors(e)})},t.deleteClick=function(e){return function(a){a.stopPropagation(),t.setState({original:e,deleteModalIsOpen:!0,alertIsOpen:!1})}},t.deleteSubmit=function(){var e=[],a=t.state,n=a.jobs,l=a.original.id;t.setState({modalLoading:!0,errorAlertIsOpen:!1}),Ma(l).then(function(){for(var a=0;a<n.length;a++)n[a].id!==l&&e.push(n[a]);t.setState({jobs:e,editModalIsOpen:!1,deleteModalIsOpen:!1,modalLoading:!1,alertType:"delete",alertIsOpen:!0}),setTimeout(function(){t.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return t.catchErrors(e)})},t.onUploadLogo=function(e){e.preventDefault(),t.setState({logoLoading:!0,logoSwitcher:!0});var a=new FormData,n=t.fileInputLogo.current.files[0];a.append("file",n),Pa(a).then(function(e){t.setState({logo:"".concat(w,"/").concat(A,"/containers/logo/download/").concat(e.data.name),logoLoading:!1})}).catch(function(e){return console.log(e)})},t.onUploadCover=function(e){e.preventDefault(),t.setState({coverLoading:!0,coverSwitcher:!0});var a=new FormData,n=t.fileInputCover.current.files[0];a.append("file",n),Ua(a).then(function(e){t.setState({cover:"".concat(w,"/").concat(A,"/containers/cover/download/").concat(e.data.name),coverLoading:!1})}).catch(function(e){return console.log(e)})},t.onDeleteLogo=function(){return t.setState({logo:"",logoUrl:"",logoSwitcher:!1})},t.onDeleteCover=function(){return t.setState({cover:"",coverUrl:"",coverSwitcher:!1})},t.closeAddModal=function(){return!t.state.modalLoading&&t.setState({addModalIsOpen:!1})},t.closeEditModal=function(){!t.state.modalLoading&&t.setState({editModalIsOpen:!1,logoLoading:!1,coverLoading:!1})},t.closeDeleteModal=function(){return!t.state.modalLoading&&t.setState({deleteModalIsOpen:!1})},t.closeErrorAlert=function(){return t.setState({errorAlertIsOpen:!1})},t.onCopyUser=function(e){e.preventDefault(),t.setState({alertType:"copy",alertIsOpen:!0}),setTimeout(function(){t.setState({alertIsOpen:!1})},2e3)},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.setHeaderTitle("Jobs")}},{key:"render",value:function(){var e,a=this,t=this.state,n=t.tableLoading,r=t.original,o=t.jobs,i=t.jobsCount,c=t.id,s=t.name,m=t.user,d=t.employer_id,u=t.created,p=t.modified,g=t.published,h=t.views,v=t.impressions,f=t.details,E=t.experience_from,b=t.experience_up,y=t.seniority,N=t.seniorityObj,C=t.skills,S=t.status,O=t.statusObj,k=t.plan_id,_=t.planObj,w=t.company_id,A=t.company,x=t.locations,I=t.vacancy_role,L=t.vacancy,M=t.addModalIsOpen,T=t.editModalIsOpen,F=t.modalLoading,R=t.deleteModalIsOpen,D=t.alertIsOpen,P=t.alertType,U=t.alertErrorText,z=t.errorAlertIsOpen,J=t.logo,H=t.cover,B=t.logoSwitcher,q=t.coverSwitcher,V=t.logoLoading,W=t.coverLoading,G=t.logoUrl,Q=t.coverUrl,Y=[{Header:"",width:30,sortable:!1,filterable:!1,Cell:function(e){var t=e.original;return l.a.createElement("div",{className:"rt-custom__controls"},l.a.createElement("i",{className:"ion-android-delete",onClick:a.deleteClick(t)}))}}];return l.a.createElement("div",{className:"jobs-page"},l.a.createElement("p",{className:"md-lg"},"Total records:\xa0",l.a.createElement("b",null,this.state.count&&this.state.count.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),D&&l.a.createElement(ce,{type:P,original:r,errorText:U,errorAlertIsOpen:z,closeErrorAlert:this.closeErrorAlert}),l.a.createElement(ue,{text:"job",loading:F,addClick:this.addClick}),l.a.createElement(ga,{isOpen:R,modalLoading:F,closeModal:this.closeDeleteModal,original:r,deleteSubmit:this.deleteSubmit}),l.a.createElement(pa,{name:s,company:A,user:m,isOpen:M,modalLoading:F,closeModal:this.closeAddModal,onChange:this.onChange,onChangeCompany:this.onChangeCompany,onChangeUser:this.onChangeUser,onSubmit:this.addSubmit}),l.a.createElement(Aa,(e={id:c,name:s,details:f,original:r,skills:C,created:u,modified:p,published:g,views:h,impressions:v,experience_from:E,experience_up:b,seniority:y,seniorityObj:N,status:S,statusObj:O,plan_id:k,planObj:_,locations:x,company_id:w,company:A,user:m,employer_id:d,vacancy_role:I,vacancy:L,logo:J,cover:H,isOpen:T,modalLoading:F,closeModal:this.closeEditModal,onChange:this.onChange,onChangeDetails:this.onChangeDetails,onChangeSkills:this.onChangeSkills,onChangeLocations:this.onChangeLocations,onChangeCompany:this.onChangeCompany,onChangeStatus:this.onChangeStatus,onChangeSeniority:this.onChangeSeniority,onChangePlan:this.onChangePlan,onChangeUser:this.onChangeUser,onChangeVacancy:this.onChangeVacancy,onChangeExperienceFrom:this.onChangeExperienceFrom,onChangeExperienceUp:this.onChangeExperienceUp,onSubmit:this.editSubmit,deleteClick:this.deleteClick(r),onCopyUser:this.onCopyUser},Object(j.a)(e,"logo",J),Object(j.a)(e,"cover",H),Object(j.a)(e,"logoSwitcher",B),Object(j.a)(e,"coverSwitcher",q),Object(j.a)(e,"logoLoading",V),Object(j.a)(e,"coverLoading",W),Object(j.a)(e,"logoUrl",G),Object(j.a)(e,"coverUrl",Q),Object(j.a)(e,"fileInputLogo",this.fileInputLogo),Object(j.a)(e,"fileInputCover",this.fileInputCover),Object(j.a)(e,"onUploadLogo",this.onUploadLogo),Object(j.a)(e,"onUploadCover",this.onUploadCover),Object(j.a)(e,"onDeleteLogo",this.onDeleteLogo),Object(j.a)(e,"onDeleteCover",this.onDeleteCover),e)),l.a.createElement(ie,{manual:!0,data:o,pages:i,loading:n,columns:[].concat(Object(ne.a)(Ha),Y),getTheadFilterThProps:function(e,a,t){return{style:{overflow:"visible"}}},getTdProps:function(e,t,n,l){return{onClick:function(e){if(void 0===t)return null;if(n&&"name"===n.id){var l=t.original;return a.editClick(l)(e)}}}},onFetchData:function(e){a.setState({tableLoading:!0}),La(e).then(function(t){a.setState({count:t.data.count,jobsCount:Math.ceil(t.data.count/e.pageSize)}),Ia(e).then(function(e){return a.setState({jobs:e.data,tableLoading:!1})}).catch(function(e){return a.catchErrors(e)})}).catch(function(e){return a.catchErrors(e)})}}))}}]),a}(l.a.Component)),qa=function(e){var a=e.name,t=e.slug,n=e.weight,r=e.markers,o=e.isOpen,i=e.closeModal,c=e.onChange,s=e.onSubmit,m=e.modalLoading,d=e.generateSlug;return l.a.createElement(he,{isOpen:o,modalLoading:m,closeModal:i},l.a.createElement("section",{className:"section-container add-container"},l.a.createElement("h4",{className:"add-container__title"},"Add skill"),l.a.createElement("span",{className:"ion-close-round add-container__close",onClick:i}),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:s},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"add-name"},"Skill"),l.a.createElement("input",{name:"name",type:"text",value:a,id:"add-name",onChange:c,className:"form-control"})),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"add-slug"},"Slug"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{required:!0,name:"slug",type:"text",value:t,id:"add-slug",onChange:c,className:"form-control"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:d,disabled:!a||t},"Generate")))),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("label",{htmlFor:"add-weight"},"Weight"),l.a.createElement("input",{min:0,max:999,name:"weight",type:"number",value:n,id:"add-weight",onChange:c,className:"form-control"})),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("label",{htmlFor:"add-aliases"},"Aliases"),l.a.createElement("textarea",{rows:3,type:"text",name:"markers",value:r,id:"add-aliases",onChange:c,className:"form-control"})))),m?l.a.createElement("div",{className:"add-container__is-loading"},l.a.createElement(ve,null)):l.a.createElement("footer",{className:"add-container__buttons"},l.a.createElement(se.a,{outline:!0,color:"secondary",onClick:i},"Cancel"),l.a.createElement(se.a,{disabled:!a||!t,outline:!0,color:"primary",type:"submit"},"Save")))))))},Va=function(e){var a=e.name,t=e.slug,n=e.weight,r=e.markers,o=e.original,i=e.isOpen,c=e.closeModal,s=e.onChange,m=e.onSubmit,d=e.modalLoading,u=e.deleteClick,p=e.generateSlug;return l.a.createElement(Ee,{isOpen:i,modalLoading:d,closeModal:c},l.a.createElement("section",{className:"section-container edit-container"},l.a.createElement("h4",{className:"edit-container__title"},"Edit: ",l.a.createElement("b",null,o.name)),l.a.createElement("span",{className:"ion-close-round edit-container__close",onClick:c}),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:m},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"edit-name"},"Skill"),l.a.createElement("input",{name:"name",type:"text",value:a,id:"edit-name",onChange:s,className:"form-control"})),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"edit-slug"},"Slug"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{required:!0,name:"slug",type:"text",value:t,id:"edit-slug",onChange:s,className:"form-control"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:p,disabled:!a},"Generate")))),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("label",{htmlFor:"edit-weight"},"Weight"),l.a.createElement("input",{min:0,max:999,name:"weight",type:"number",value:n,id:"edit-weight",onChange:s,className:"form-control"})),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("label",{htmlFor:"edit-aliases"},"Aliases"),l.a.createElement("textarea",{rows:3,type:"text",name:"markers",value:r,id:"edit-aliases",onChange:s,className:"form-control"})))),d?l.a.createElement("div",{className:"edit-container__is-loading"},l.a.createElement(ve,null)):l.a.createElement("footer",{className:"edit-container__buttons"},l.a.createElement(se.a,{outline:!0,color:"danger",onClick:u},"Delete"),l.a.createElement(se.a,{outline:!0,color:"secondary",onClick:c},"Cancel"),l.a.createElement(se.a,{outline:!0,color:"primary",type:"submit"},"Save")))))))},Wa=function(e){var a=e.isOpen,t=e.modalLoading,n=e.closeModal,r=e.original,o=e.deleteSubmit;return l.a.createElement(ye,{isOpen:a,modalLoading:t,closeModal:n},l.a.createElement("section",{className:"section-container delete-container"},l.a.createElement("span",{className:"ion-close-round ReactModal__delete__close",onClick:n}),l.a.createElement("div",{className:"ReactModal__delete__title"},l.a.createElement("span",null,"Are you sure you want to delete ")," ",l.a.createElement("br",null),l.a.createElement("span",null,r.id," - ",l.a.createElement("b",null,r.name),"?")),t?l.a.createElement("div",{className:"ReactModal__delete__is-loading"},l.a.createElement(ve,null)):l.a.createElement("footer",{className:"ReactModal__delete__buttons"},l.a.createElement(se.a,{outline:!0,color:"secondary",onClick:n},"Cancel"),l.a.createElement(se.a,{outline:!0,color:"danger",onClick:o},"Delete"))))},Ga=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,t=e.pageSize,n=e.page,l=e.filtered,r=e.sorted,o={where:{},limit:t,skip:n*t,order:"id DESC"};return l.forEach(function(e){"id"===e.id?o.where[e.id]=e.value:o.where[e.id]={like:"%"+e.value+"%"}}),r.forEach(function(e){var a=e.desc?"DESC":"ASC";o.order="".concat(e.id," ").concat(a)}),_.a.get("".concat(w,"/").concat(A,"/skills"),{params:{filter:o},headers:{Authorization:a}})},Qa=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,t=e.filtered,n={};return t.forEach(function(e){"id"===e.id?n[e.id]=e.value:n[e.id]={like:"%"+e.value+"%"}}),_.a.get("".concat(w,"/").concat(A,"/skills/count"),{params:{where:n},headers:{Authorization:a}})},Ya=function(e,a,t,n){var l=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.post("".concat(w,"/").concat(A,"/skills"),{name:e,slug:a,weight:t,markers:n},{headers:{Authorization:l}})},Za=function(e,a,t,n,l){var r=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.patch("".concat(w,"/").concat(A,"/skills/").concat(e),{name:a,slug:t,markers:n,weight:l},{headers:{Authorization:r}})},Ka=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.delete("".concat(w,"/").concat(A,"/skills/").concat(e),{headers:{Authorization:a}})},$a=[{Header:"Id",accessor:"id",width:60,style:{textAlign:"right"},Cell:function(e){var a=e.original.id;return l.a.createElement("div",{className:"ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Skill",accessor:"name",style:{fontWeight:"bold"},Cell:function(e){var a=e.original.name;return l.a.createElement("div",{className:"table-column-name  ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Slug",accessor:"slug",Cell:function(e){var a=e.original.slug;return l.a.createElement("div",{className:"ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Aliases",accessor:"markers",Cell:function(e){var a=e.original.markers;return l.a.createElement("div",{className:"ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Weight",accessor:"weight",width:60,Cell:function(e){var a=e.original.weight;return l.a.createElement("div",{className:"ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}}],Xa=Ce(function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={skills:[],skillsCount:null,tableLoading:!1,original:{},count:null,alertIsOpen:!1,alertType:"",alertErrorText:"",errorAlertIsOpen:!1,addModalIsOpen:!1,editModalIsOpen:!1,deleteModalIsOpen:!1,modalLoading:!1,id:null,name:"",slug:"",weight:null,markers:""},t.onChange=function(e){return t.setState(Object(j.a)({},e.target.name,e.target.value))},t.catchErrors=function(e){401===e.response.status?(localStorage.removeItem("ph-admin-user-data"),t.props.history.push("/login")):t.setState({errorAlertIsOpen:!0,modalLoading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(e,", ").concat(e.response.data.error.sqlMessage)})},t.addClick=function(){t.setState({addModalIsOpen:!0,alertIsOpen:!1,name:"",slug:"",weight:null,markers:""})},t.addSubmit=function(e){e.preventDefault(),t.setState({modalLoading:!0,errorAlertIsOpen:!1});var a=t.state,n=a.name,l=a.slug,r=a.weight,o=a.markers,i=a.skills;Ya(n,l,r,o).then(function(e){var a=[e.data].concat(i);t.setState({modalLoading:!1,addModalIsOpen:!1,alertType:"add",alertIsOpen:!0,skills:a}),setTimeout(function(){t.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return t.catchErrors(e)})},t.editClick=function(e){return function(a){a.stopPropagation(),t.setState({original:e,alertIsOpen:!1,editModalIsOpen:!0,id:e.id,name:e.name,slug:e.slug,markers:e.markers,weight:e.weight})}},t.editSubmit=function(e){e.preventDefault(),t.setState({modalLoading:!0,errorAlertIsOpen:!1});var a=t.state,n=a.id,l=a.name,r=a.slug,o=a.markers,i=a.weight;Za(n,l,r,o,i).then(function(){for(var e=t.state.skills,a=0;a<e.length;a++)e[a].id===n&&(e[a]={id:n,name:l,slug:r,markers:o,weight:i});t.setState({skills:e,modalLoading:!1,editModalIsOpen:!1,alertType:"edit",alertIsOpen:!0}),setTimeout(function(){t.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return t.catchErrors(e)})},t.deleteClick=function(e){return function(a){a.stopPropagation(),t.setState({original:e,deleteModalIsOpen:!0,alertIsOpen:!1})}},t.deleteSubmit=function(){var e=[],a=t.state,n=a.skills,l=a.original.id;t.setState({modalLoading:!0,errorAlertIsOpen:!1}),Ka(l).then(function(){for(var a=0;a<n.length;a++)n[a].id!==l&&e.push(n[a]);t.setState({skills:e,editModalIsOpen:!1,deleteModalIsOpen:!1,modalLoading:!1,alertType:"delete",alertIsOpen:!0}),setTimeout(function(){t.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return t.catchErrors(e)})},t.closeAddModal=function(){return!t.state.modalLoading&&t.setState({addModalIsOpen:!1})},t.closeEditModal=function(){return!t.state.modalLoading&&t.setState({editModalIsOpen:!1})},t.closeDeleteModal=function(){return!t.state.modalLoading&&t.setState({deleteModalIsOpen:!1})},t.closeErrorAlert=function(){return t.setState({errorAlertIsOpen:!1})},t.generateSlug=function(){var e=t.state.name;t.setState({slug:re()(e,{replacement:"-",lower:!0})})},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.setHeaderTitle("Skills")}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keyup",function(a){return 27===a.keyCode&&e.closeEditModal()})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",function(e){return 27===e.keyCode})}},{key:"render",value:function(){var e=this,a=this.state,t=a.tableLoading,n=a.original,r=a.skills,o=a.skillsCount,i=a.name,c=a.slug,s=a.weight,m=a.markers,d=a.addModalIsOpen,u=a.editModalIsOpen,p=a.modalLoading,g=a.deleteModalIsOpen,h=a.alertIsOpen,v=a.alertType,f=a.alertErrorText,E=a.errorAlertIsOpen,b=[{Header:"",width:30,sortable:!1,filterable:!1,Cell:function(a){var t=a.original;return l.a.createElement("div",{className:"rt-custom__controls"},l.a.createElement("i",{className:"ion-android-delete",onClick:e.deleteClick(t)}))}}];return l.a.createElement("div",{className:"roles-page"},l.a.createElement("p",{className:"md-lg"},"Total records:\xa0",l.a.createElement("b",null,this.state.count&&this.state.count.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),h&&l.a.createElement(ce,{type:v,original:n,errorText:f,errorAlertIsOpen:E,closeErrorAlert:this.closeErrorAlert}),l.a.createElement(ue,{text:"skill",loading:p,addClick:this.addClick}),l.a.createElement(qa,{name:i,slug:c,weight:s,markers:m,isOpen:d,modalLoading:p,closeModal:this.closeAddModal,onChange:this.onChange,onSubmit:this.addSubmit,generateSlug:this.generateSlug}),l.a.createElement(Va,{original:n,name:i,slug:c,weight:s,markers:m,isOpen:u,modalLoading:p,closeModal:this.closeEditModal,onChange:this.onChange,onSubmit:this.editSubmit,deleteClick:this.deleteClick(n),generateSlug:this.generateSlug}),l.a.createElement(Wa,{isOpen:g,modalLoading:p,closeModal:this.closeDeleteModal,original:n,deleteSubmit:this.deleteSubmit}),l.a.createElement(ie,{manual:!0,pages:o,data:r,loading:t,columns:[].concat(Object(ne.a)($a),b),getTdProps:function(a,t,n,l){return{onClick:function(a){if(void 0!==t){var n=t.original;return e.editClick(n)(a)}return null}}},onFetchData:function(a){e.setState({tableLoading:!0}),Qa(a).then(function(t){e.setState({count:t.data.count,skillsCount:Math.ceil(t.data.count/a.pageSize)}),Ga(a).then(function(a){return e.setState({skills:a.data,tableLoading:!1})}).catch(function(a){return e.catchErrors(a)})}).catch(function(a){return e.catchErrors(a)})}}))}}]),a}(l.a.Component)),et=function(e){var a=e.name,t=e.slug,n=e.weight,r=e.keywords,o=e.negative,i=e.original,c=e.isOpen,s=e.closeModal,m=e.onChange,d=e.onSubmit,u=e.modalLoading,p=e.generateSlug;return l.a.createElement(Ee,{isOpen:c,modalLoading:u,closeModal:s},l.a.createElement("section",{className:"section-container edit-container"},l.a.createElement("h4",{className:"edit-container__title"},"Edit: ",l.a.createElement("b",null,i.name)),l.a.createElement("span",{className:"ion-close-round edit-container__close",onClick:s}),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:d},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"edit-name"},"Role"),l.a.createElement("input",{required:!0,name:"name",type:"text",value:a,id:"edit-name",onChange:m,className:"form-control"})),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("label",{htmlFor:"edit-slug"},"Slug"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{required:!0,name:"slug",type:"text",value:t,id:"edit-slug",onChange:m,className:"form-control"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-light",type:"button",onClick:p},"Generate")))),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("label",{htmlFor:"edit-weight"},"Weight"),l.a.createElement("input",{min:0,max:999,name:"weight",type:"number",value:n,id:"edit-weight",onChange:m,className:"form-control"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"edit-keywords"},"Search Phrases, comma-separated"),l.a.createElement("textarea",{rows:6,type:"text",name:"keywords",value:r,id:"edit-keywords",onChange:m,className:"form-control"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"edit-negative"},"Stop-Words, comma-separated"),l.a.createElement("textarea",{rows:6,type:"text",name:"negative",value:o,id:"edit-negative",onChange:m,className:"form-control"})))),u?l.a.createElement("div",{className:"edit-container__is-loading"},l.a.createElement(ve,null)):l.a.createElement("footer",{className:"edit-container__buttons"},l.a.createElement(se.a,{outline:!0,color:"secondary",onClick:s},"Cancel"),l.a.createElement(se.a,{disabled:!a||!t,outline:!0,color:"primary",type:"submit"},"Save")))))))},at=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,t=e.pageSize,n=e.page,l=e.filtered,r=e.sorted,o={where:{},limit:t,skip:n*t,order:"id ASC"};return l.forEach(function(e){"id"===e.id?o.where[e.id]=e.value:o.where[e.id]={like:"%"+e.value+"%"}}),r.forEach(function(e){var a=e.desc?"DESC":"ASC";o.order="".concat(e.id," ").concat(a)}),_.a.get("".concat(w,"/").concat(A,"/vacancy_roles"),{params:{filter:o},headers:{Authorization:a}})},tt=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,t=e.filtered,n={};return t.forEach(function(e){"id"===e.id?n[e.id]=e.value:n[e.id]={like:"%"+e.value+"%"}}),_.a.get("".concat(w,"/").concat(A,"/vacancy_roles/count"),{params:{where:n},headers:{Authorization:a}})},nt=function(e,a,t,n,l,r){var o=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.patch("".concat(w,"/").concat(A,"/vacancy_roles/").concat(e),{name:a,slug:t,weight:n,keywords:l,negative:r},{headers:{Authorization:o}})},lt=[{Header:"Id",accessor:"id",width:60,style:{textAlign:"right"},Cell:function(e){var a=e.original.id;return l.a.createElement("div",{className:"ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Role",accessor:"name",style:{fontWeight:"bold"},Cell:function(e){var a=e.original.name;return l.a.createElement("div",{className:"table-column-name  ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Slug",accessor:"slug",Cell:function(e){var a=e.original.slug;return l.a.createElement("div",{className:"ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Weight",accessor:"weight",width:60,Cell:function(e){var a=e.original.weight;return l.a.createElement("div",{className:"ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}}],rt=Ce(function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={roles:[],rolesCount:null,tableLoading:!1,count:null,original:{},alertIsOpen:!1,alertType:"",alertErrorText:"",editModalIsOpen:!1,modalLoading:!1,id:null,name:"",slug:"",weight:null,keywords:"",negative:""},t.onChange=function(e){return t.setState(Object(j.a)({},e.target.name,e.target.value))},t.catchErrors=function(e){401===e.response.status?(localStorage.removeItem("ph-admin-user-data"),t.props.history.push("/login")):t.setState({modalLoading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(e,", ").concat(e.response.data.error.sqlMessage)})},t.editClick=function(e){return function(a){a.stopPropagation(),t.setState({editModalIsOpen:!0,original:e,id:e.id,name:e.name,slug:e.slug,weight:e.weight,keywords:e.keywords,negative:e.negative,alertIsOpen:!1})}},t.closeModal=function(){return!t.state.modalLoading&&t.setState({editModalIsOpen:!1})},t.editSubmit=function(e){e.preventDefault(),t.setState({modalLoading:!0});var a=t.state,n=a.id,l=a.name,r=a.slug,o=a.weight,i=a.keywords,c=a.negative;nt(n,l,r,o,i,c).then(function(){for(var e=t.state.roles,a=0;a<e.length;a++)e[a].id===n&&(e[a]={id:n,name:l,slug:r,weight:o,keywords:i,negative:c});t.setState({roles:e,modalLoading:!1,editModalIsOpen:!1,alertType:"edit",alertIsOpen:!0}),setTimeout(function(){t.setState({alertIsOpen:!1})},2e3)}).catch(function(e){return t.catchErrors(e)})},t.generateSlug=function(){var e=t.state.name;t.setState({slug:re()(e,{replacement:"-",lower:!0})})},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.setHeaderTitle("Roles")}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keyup",function(a){return 27===a.keyCode&&e.closeModal()})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",function(e){return 27===e.keyCode})}},{key:"render",value:function(){var e=this,a=this.state,t=a.tableLoading,n=a.original,r=a.roles,o=a.rolesCount,i=(a.count,a.name),c=a.slug,s=a.weight,m=a.keywords,d=a.negative,u=a.editModalIsOpen,p=a.modalLoading,g=a.alertIsOpen,h=a.alertType,v=a.alertErrorText,f=[{Header:"",width:30,sortable:!1,filterable:!1,Cell:function(a){var t=a.original;return l.a.createElement("div",{className:"rt-custom__controls"},l.a.createElement("i",{className:"ion-edit",onClick:e.editClick(t)}))}}];return l.a.createElement("div",{className:"roles-page"},l.a.createElement("p",{className:"md-lg"},"Total records:\xa0",l.a.createElement("b",null,this.state.count&&this.state.count.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),g&&l.a.createElement(ce,{type:h,original:n,errorText:v}),l.a.createElement(et,{name:i,slug:c,weight:s,keywords:m,negative:d,original:n,isOpen:u,modalLoading:p,closeModal:this.closeModal,onChange:this.onChange,onSubmit:this.editSubmit,generateSlug:this.generateSlug}),l.a.createElement(ie,{data:r,manual:!0,pages:o,loading:t,columns:[].concat(Object(ne.a)(lt),f),getTdProps:function(a,t,n,l){return{onClick:function(a){if(void 0!==t){var n=t.original;return e.editClick(n)(a)}return null}}},onFetchData:function(a){e.setState({tableLoading:!0}),tt(a).then(function(t){e.setState({count:t.data.count,rolesCount:Math.ceil(t.data.count/a.pageSize)}),at(a).then(function(a){return e.setState({roles:a.data,tableLoading:!1})}).catch(function(a){return e.catchErrors(a)})}).catch(function(a){return e.catchErrors(a)})}}))}}]),a}(l.a.Component)),ot=[{Header:"Id",accessor:"id",width:60,style:{textAlign:"right"},Cell:function(e){var a=e.original.id;return l.a.createElement("div",{className:"ellipsis-text",title:a||""},a||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Plan",accessor:"name",style:{fontWeight:"bold"},Cell:function(e){var a=e.original,t=a.name,n=a.id;return l.a.createElement("div",{className:"table-column-name  ellipsis-text",title:t||""},l.a.createElement(P.a,{to:"/plans/".concat(n)},t||""))},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}},{Header:"Price",accessor:"price",Cell:function(e){var a=e.original.price;return l.a.createElement("div",{className:"ellipsis-text",title:"$".concat(a)||""},"$".concat(a)||"")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(Ie.Input,{value:a?a.value:"",onChange:function(e){return t(e.target.value)},style:{width:"100%",height:"38px"},debounceTimeout:800})}}];var it=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},ct=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,t=e.pageSize,n=e.page,l=e.filtered,r=e.sorted,o={where:{},limit:t,skip:n*t,order:"id ASC"};return l.forEach(function(e){"id"===e.id?o.where[e.id]=e.value:o.where[e.id]={like:"%"+e.value+"%"}}),r.forEach(function(e){var a=e.desc?"DESC":"ASC";o.order="".concat(e.id," ").concat(a)}),_.a.get("".concat(w,"/").concat(A,"/plans"),{params:{filter:o},headers:{Authorization:a}})},st=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id,t=e.filtered,n={};return t.forEach(function(e){"id"===e.id?n[e.id]=e.value:n[e.id]={like:"%"+e.value+"%"}}),_.a.get("".concat(w,"/").concat(A,"/plans/count"),{params:{where:n},headers:{Authorization:a}})},mt=Ce(function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={plans:[],plansCount:null,tableLoading:!1,count:null,original:{},alertIsOpen:!1,alertType:"",alertErrorText:""},t.catchErrors=function(e){var a=e.response.data.error,n=a.name,l=a.statusCode,r=a.message;401===l?(localStorage.removeItem("ph-admin-user-data"),t.props.history.push("/login")):t.setState({errorAlertIsOpen:!0,modalLoading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.setHeaderTitle("Plans")}},{key:"componentWillReceiveProps",value:function(){var e=(this.props.history.location.state||{}).afterEditData;if(!ze()(e)){for(var a=this.state.plans,t=0;t<a.length;t++)a[t].id===e.id&&(a[t]={id:e.id,name:e.name,price:e.price});this.setState({plans:a})}}},{key:"render",value:function(){var e=this,a=[{Header:"",width:30,sortable:!1,filterable:!1,Cell:function(e){var a=e.original.id;return l.a.createElement("div",{className:"rt-custom__controls"},l.a.createElement(P.a,{to:"/plans/".concat(a)},l.a.createElement("i",{className:"ion-edit"})))}}],t=this.state,n=t.plans,r=t.plansCount,o=t.count,i=t.tableLoading,c=t.original,s=t.alertIsOpen,m=t.alertType,d=t.alertErrorText;return l.a.createElement("div",{className:"plans-page"},l.a.createElement("p",{className:"md-lg"},"Total records:\xa0",l.a.createElement("b",null,o&&it(this.state.count))),s&&l.a.createElement(ce,{type:m,original:c,errorText:d}),l.a.createElement(ie,{data:n,manual:!0,pages:r,loading:i,columns:[].concat(Object(ne.a)(ot),a),onFetchData:function(a){e.setState({tableLoading:!0}),st(a).then(function(t){e.setState({count:t.data.count,plansCount:Math.ceil(t.data.count/a.pageSize)}),ct(a).then(function(a){return e.setState({plans:a.data,tableLoading:!1})}).catch(function(a){return e.catchErrors(a)})}).catch(function(a){return e.catchErrors(a)})}}))}}]),a}(l.a.Component)),dt=function(e){var a=e.type,t=e.name,n=e.errorText,r=e.errorAlertIsOpen,o=e.closeErrorAlert;return l.a.createElement(l.a.Fragment,null,"add"===a&&l.a.createElement(y.a,{color:"success"},"New item has been added")||"edit"===a&&l.a.createElement(y.a,{color:"warning"},l.a.createElement("b",null,t," has been edited"))||"delete"===a&&l.a.createElement(y.a,{color:"danger"},l.a.createElement("b",null,t," has been deleted"))||"error"===a&&l.a.createElement(y.a,{color:"danger",isOpen:r,toggle:o},n)||"copy"===a&&l.a.createElement(y.a,{color:"warning"},"Copied"))},ut=function(e){var a=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.get("".concat(w,"/").concat(A,"/plans/").concat(e),{headers:{Authorization:a}})},pt=function(e,a,t){var n=JSON.parse(localStorage.getItem("ph-admin-user-data")).id;return _.a.patch("".concat(w,"/").concat(A,"/plans/").concat(e),{name:a,price:t},{headers:{Authorization:n}})},gt=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={id:null,name:"",price:null,oldName:"",alertIsOpen:!1,alertType:"",alertErrorText:"",loading:!1},t.onChange=function(e){return t.setState(Object(j.a)({},e.target.name,e.target.value))},t.closeDetail=function(){return t.props.history.push("/plans")},t.closeErrorAlert=function(){return t.setState({errorAlertIsOpen:!1})},t.editSubmit=function(e){e.preventDefault(),t.setState({loading:!0});var a=t.state,n=a.id,l=a.name,r=a.price;pt(n,l,r).then(function(e){t.setState({alertIsOpen:!0,alertType:"edit"}),setTimeout(function(){t.setState({loading:!1,alertIsOpen:!1}),t.props.history.push({pathname:"/plans",state:{afterEditData:e.data}})},2e3)}).catch(function(e){return t.catchErrors(e)})},t.catchErrors=function(e){var a=e.response.data.error,n=a.name,l=a.statusCode,r=a.message;401===l?(localStorage.removeItem("ph-admin-user-data"),t.props.history.push("/login")):t.setState({errorAlertIsOpen:!0,loading:!1,alertType:"error",alertIsOpen:!0,alertErrorText:"".concat(n,", ").concat(r)})},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match;this.setState({loading:!0}),ut(a.params.id).then(function(a){var t=a.data,n=t.id,l=t.name,r=t.price;e.setState({id:n,name:l,price:r,oldName:l,loading:!1})}).catch(function(a){return e.catchErrors(a)})}},{key:"render",value:function(){var e=this.state,a=e.name,t=e.price,n=e.oldName,r=e.alertIsOpen,o=e.alertType,i=e.alertErrorText,c=e.errorAlertIsOpen,s=e.loading;return l.a.createElement("section",{className:"ph-detail-page  container"},r&&l.a.createElement(dt,{name:a,type:o,errorText:i,errorAlertIsOpen:c,closeErrorAlert:this.closeErrorAlert}),l.a.createElement("h4",{className:"ph-detail-page__title"},"Edit: ",l.a.createElement("b",null,n)),l.a.createElement("span",{className:"ion-close-round ph-detail-page__close",onClick:this.closeDetail}),s&&l.a.createElement("div",{className:"ph-detail-page__is-loading"},l.a.createElement(ve,null)),l.a.createElement("div",{className:"cardbox"},l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("form",{action:"",onSubmit:this.editSubmit},l.a.createElement("fieldset",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"edit-name"},"Plan"),l.a.createElement("input",{required:!0,name:"name",type:"text",value:a,id:"edit-name",onChange:this.onChange,className:"form-control"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"edit-price"},"Price"),l.a.createElement("input",{required:!0,min:0,max:1e4,name:"price",type:"number",value:t,id:"edit-price",onChange:this.onChange,className:"form-control"})))),l.a.createElement("footer",{className:"ph-detail-page__buttons"},l.a.createElement(se.a,{outline:!0,color:"secondary",onClick:this.closeDetail},"Cancel"),l.a.createElement(se.a,{disabled:!a||!t,outline:!0,color:"primary",type:"submit"},"Save"))))))}}]),a}(l.a.Component);t(542),t(544),t(546),t(548),t(550),t(552),t(554),t(556),t(558),t(560),t(563),t(565),t(567),t(569),t(571),t(573),t(575),t(362),t(577),t(579);t(581),t(583);var ht=t(663),vt=t(377),ft=t(359),Et=t.n(ft),bt={validate:function(e){var a="checkbox"===e.type,t=a?e.checked:e.value;if(!e.name)throw new Error("Input name must not be empty.");var n=e.getAttribute("data-param"),l=JSON.parse(e.getAttribute("data-validate")),r=[];return l&&l.length&&l.forEach(function(e){switch(e){case"required":r[e]=a?!1===t:Et.a.isEmpty(t);break;case"email":r[e]=!Et.a.isEmail(t);break;case"number":r[e]=!Et.a.isNumeric(t);break;case"integer":r[e]=!Et.a.isInt(t);break;case"alphanum":r[e]=!Et.a.isAlphanumeric(t);break;case"url":r[e]=!Et.a.isURL(t);break;case"equalto":var l=document.getElementById(n).value;r[e]=!Et.a.equals(t,l);break;case"minlen":r[e]=!Et.a.isLength(t,{min:n});break;case"maxlen":r[e]=!Et.a.isLength(t,{max:n});break;case"len":var o=JSON.parse(n),i=Object(vt.a)(o,2),c=i[0],s=i[1];r[e]=!Et.a.isLength(t,{min:c,max:s});break;case"min":r[e]=!Et.a.isInt(t,{min:Et.a.toInt(n)});break;case"max":r[e]=!Et.a.isInt(t,{max:Et.a.toInt(n)});break;case"list":var m=JSON.parse(n);r[e]=!Et.a.isIn(t,m);break;default:throw new Error("Unrecognized validator.")}}),r},bulkValidate:function(e){var a=this,t={},n=!1;return e.forEach(function(e){var l=a.validate(e);t=Object(M.a)({},t,Object(j.a)({},e.name,l)),n||(n=Object.keys(l).some(function(e){return l[e]}))}),{errors:t,hasError:n}}},yt=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={formLock:{text:""}},t.validateOnChange=function(e){var a,n=e.target,l=n.form,r="checkbox"===n.type?n.checked:n.value,o=bt.validate(n);t.setState(Object(j.a)({},l.name,Object(M.a)({},t.state[l.name],(a={},Object(j.a)(a,n.name,r),Object(j.a)(a,"errors",Object(M.a)({},t.state[l.name].errors,Object(j.a)({},n.name,o))),a))))},t.onSubmit=function(e){var a=e.target,n=Object(ne.a)(a.elements).filter(function(e){return["INPUT","SELECT"].includes(e.nodeName)}),l=bt.bulkValidate(n),r=l.errors,o=l.hasError;t.setState(Object(j.a)({},a.name,Object(M.a)({},t.state[a.name],{errors:r}))),console.log(o?"Form has errors. Check!":"Form Submitted!"),e.preventDefault()},t.hasError=function(e,a,n){return t.state[e]&&t.state[e].errors&&t.state[e].errors[a]&&t.state[e].errors[a][n]},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"container-full"},l.a.createElement("div",{className:"container container-xs"},l.a.createElement("div",{className:"text-center mv-lg"},l.a.createElement("img",{className:"rounded-circle mb block-center img-fluid thumb64",src:"img/user/01.jpg",alt:"User Avatar"}),l.a.createElement("p",null,"Brian Walker")),l.a.createElement("form",{className:"cardbox form-validate",name:"formLock",onSubmit:this.onSubmit},l.a.createElement("div",{className:"cardbox-heading"},l.a.createElement("p",{className:"text-center"},"Type your password to unlock terminal")),l.a.createElement("div",{className:"cardbox-offset pb0"},l.a.createElement("div",{className:"cardbox-offset-item; text-right ng-fadeInLeftShort"},l.a.createElement("button",{className:"btn btn-success btn-circle btn-lg",type:"submit"},l.a.createElement("em",{className:"ion-checkmark-round"})))),l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("div",{className:"mda-form-group float-label mda-input-group"},l.a.createElement("div",{className:"mda-form-control"},l.a.createElement(ht.a,{type:"password",name:"text",invalid:this.hasError("formLock","text","required"),onChange:this.validateOnChange,"data-validate":'["required"]',value:this.state.formLock.text}),l.a.createElement("div",{className:"mda-form-control-line"}),l.a.createElement("label",null,"Password")),l.a.createElement(R.a,{className:"mda-form-msg right",to:"/login"},"Not you?"),l.a.createElement("span",{className:"mda-input-group-addon"},l.a.createElement("em",{className:"ion-ios-locked-outline icon-lg"})))))))}}]),a}(n.Component),Nt=function(e,a){return _.a.post("".concat(w,"/").concat(A,"/users/login?include=user"),{email:e,password:a}).then(function(e){return e.data})},Ct=(t(238),function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={formLogin:{email:"",password:""},loading:!1,error:!1,errorRights:!1,success:!1},t.validateOnChange=function(e){var a,n,l=e.target,r=l.form,o="checkbox"===l.type?l.checked:l.value,i=bt.validate(l);t.setState((n={},Object(j.a)(n,r.name,Object(M.a)({},t.state[r.name],(a={},Object(j.a)(a,l.name,o),Object(j.a)(a,"errors",Object(M.a)({},t.state[r.name].errors,Object(j.a)({},l.name,i))),a))),Object(j.a)(n,"error",!1),Object(j.a)(n,"success",!1),n))},t.onSubmit=function(e){var a,n=e.target,l=Object(ne.a)(n.elements).filter(function(e){return["INPUT","SELECT"].includes(e.nodeName)}),r=bt.bulkValidate(l),o=r.errors,i=r.hasError;t.setState((a={},Object(j.a)(a,n.name,Object(M.a)({},t.state[n.name],{errors:o})),Object(j.a)(a,"error",!1),Object(j.a)(a,"errorRights",!1),Object(j.a)(a,"success",!1),a)),console.log(i?"Form has errors. Check!":"Form Submitted!"),e.preventDefault();var c=t.state.formLogin,s=c.email,m=c.password;Nt(s,m).then(t.setState({loading:!0})).then(function(e){var a=e.user.roles;a.length?a.map(function(a){"admin"===a.name?(localStorage.setItem("ph-admin-user-data",JSON.stringify(e)),t.setState({loading:!1,success:!0}),setTimeout(function(){t.props.history.push("/companies")},1e3)):t.setState({errorRights:!0,loading:!1})}):t.setState({errorRights:!0,loading:!1})}).catch(function(){return t.setState({error:!0,loading:!1})})},t.hasError=function(e,a,n){return t.state[e]&&t.state[e].errors&&t.state[e].errors[a]&&t.state[e].errors[a][n]},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.state.formLogin,a=e.email,t=e.password,n=this.state,r=n.success,o=n.error,i=n.errorRights,c=n.loading;return l.a.createElement("div",{className:"container-full"},r&&l.a.createElement(y.a,{color:"success"},"Success"),o&&l.a.createElement(y.a,{color:"danger"},"Wrong email or password"),i&&l.a.createElement(y.a,{color:"danger"},"You don't have admin rights"),l.a.createElement("div",{className:de()("container container-xs",{"login-success":r})},l.a.createElement("div",{className:"text-center"},l.a.createElement("img",{style:{display:"inline-flex",margin:"12vh 0  20px",width:"200px"},src:"img/logo.svg",alt:"Brand logo"})),l.a.createElement("form",{className:de()("cardbox b0 form-validate",{error:o}),action:"",name:"formLogin",onSubmit:this.onSubmit},l.a.createElement("div",{className:"cardbox-heading"},l.a.createElement("div",{className:"cardbox-title text-center"},"Login")),l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("div",{className:"mda-form-group float-label mda-input-group"},l.a.createElement("div",{className:"mda-form-control"},l.a.createElement(ht.a,{type:"email",name:"email",className:a&&"hasValue",invalid:this.hasError("formLogin","email","required")||this.hasError("formLogin","email","email"),onChange:this.validateOnChange,"data-validate":'["required", "email"]',value:this.state.formLogin.email}),l.a.createElement("div",{className:"mda-form-control-line"}),l.a.createElement("label",null,"Email address")),l.a.createElement("span",{className:de()("mda-input-group-addon",{hasValue:a})},l.a.createElement("em",{className:"ion-ios-email-outline icon-lg"}))),l.a.createElement("div",{className:"mda-form-group float-label mda-input-group"},l.a.createElement("div",{className:"mda-form-control"},l.a.createElement(ht.a,{type:"password",name:"password",className:t&&"hasValue",invalid:this.hasError("formLogin","password","required"),onChange:this.validateOnChange,"data-validate":'["required"]',value:this.state.formLogin.password}),l.a.createElement("div",{className:"mda-form-control-line"}),l.a.createElement("label",null,"Password")),l.a.createElement("span",{className:de()("mda-input-group-addon",{hasValue:t})},l.a.createElement("em",{className:"ion-ios-locked-outline icon-lg"})))),l.a.createElement("button",{type:"submit",disabled:!a||!t,className:"btn btn-primary btn-flat",style:{display:"flex",justifyContent:"center"}},c?l.a.createElement(ve,null):"Authenticate"))))}}]),a}(n.Component));Ct.contextTypes={router:F.a.object};var St={Lock:yt,Login:Ct,Recover:function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={formRecover:{submitted:!1,email:""}},t.validateOnChange=function(e){var a,n=e.target,l=n.form,r="checkbox"===n.type?n.checked:n.value,o=bt.validate(n);t.setState(Object(j.a)({},l.name,Object(M.a)({},t.state[l.name],(a={},Object(j.a)(a,n.name,r),Object(j.a)(a,"errors",Object(M.a)({},t.state[l.name].errors,Object(j.a)({},n.name,o))),a))))},t.onSubmit=function(e){var a=e.target,n=Object(ne.a)(a.elements).filter(function(e){return["INPUT","SELECT"].includes(e.nodeName)}),l=bt.bulkValidate(n),r=l.errors,o=l.hasError;t.setState(Object(j.a)({},a.name,Object(M.a)({},t.state[a.name],{errors:r}))),console.log(o?"Form has errors. Check!":"Form Submitted!"),t.setState({formRecover:Object(M.a)({},t.state.formRecover,{submitted:!o})}),e.preventDefault()},t.hasError=function(e,a,n){return t.state[e]&&t.state[e].errors&&t.state[e].errors[a]&&t.state[e].errors[a][n]},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.state.formRecover.submitted;return l.a.createElement("div",{className:"container-full"},l.a.createElement("div",{className:"container container-xs"},l.a.createElement("div",{className:"text-center mv-lg"},l.a.createElement("img",{className:"rounded-circle mb block-center img-fluid thumb64",src:"img/user/01.jpg",alt:"User Avatar"}),l.a.createElement("p",null,"Brian Walker")),e?l.a.createElement("div",{className:"cardbox bg-success ng-fadeIn",id:"confirmation"},l.a.createElement("div",{className:"cardbox-heading"},l.a.createElement("em",{className:"ion-checkmark-round float-right icon-lg"}),l.a.createElement("h4",{className:"mt0"},"Mail Sent!")),l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("p",null,"Please check your inbox and follow instructions to reset your password.")),l.a.createElement("div",{className:"cardbox-footer text-right"},l.a.createElement(R.a,{className:"btn btn-success btn-flat text-white",to:"/login"},"Login",l.a.createElement("em",{className:"ion-ios-arrow-thin-right icon-fw"})))):l.a.createElement("form",{className:"cardbox form-validate",action:"",name:"formRecover",onSubmit:this.onSubmit},l.a.createElement("div",{className:"cardbox-heading"},l.a.createElement("p",{className:"text-center text-inherit"},"Fill with your mail to receive instructions on how to reset your password.")),l.a.createElement("div",{className:"cardbox-offset pb0"},l.a.createElement("div",{className:"cardbox-offset-item text-right ng-fadeInLeftShort"},l.a.createElement("button",{className:"btn btn-success btn-circle btn-lg",type:"submit"},l.a.createElement("em",{className:"ion-checkmark-round"})))),l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("div",{className:"mda-form-group float-label mda-input-group"},l.a.createElement("div",{className:"mda-form-control"},l.a.createElement(ht.a,{type:"email",name:"email",invalid:this.hasError("formRecover","email","required")||this.hasError("formRecover","email","email"),onChange:this.validateOnChange,"data-validate":'["required", "email"]',value:this.state.formRecover.email}),l.a.createElement("div",{className:"mda-form-control-line"}),l.a.createElement("label",null,"Email address")),l.a.createElement("span",{className:"mda-input-group-addon"},l.a.createElement("em",{className:"ion-ios-email-outline icon-lg"})))))))}}]),a}(n.Component),Signup:function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={formRegister:{email:"",password:"",password2:""}},t.validateOnChange=function(e){var a,n=e.target,l=n.form,r="checkbox"===n.type?n.checked:n.value,o=bt.validate(n);t.setState(Object(j.a)({},l.name,Object(M.a)({},t.state[l.name],(a={},Object(j.a)(a,n.name,r),Object(j.a)(a,"errors",Object(M.a)({},t.state[l.name].errors,Object(j.a)({},n.name,o))),a))))},t.onSubmit=function(e){var a=e.target,n=Object(ne.a)(a.elements).filter(function(e){return["INPUT","SELECT"].includes(e.nodeName)}),l=bt.bulkValidate(n),r=l.errors,o=l.hasError;t.setState(Object(j.a)({},a.name,Object(M.a)({},t.state[a.name],{errors:r}))),console.log(o?"Form has errors. Check!":"Form Submitted!"),e.preventDefault()},t.hasError=function(e,a,n){return t.state[e]&&t.state[e].errors&&t.state[e].errors[a]&&t.state[e].errors[a][n]},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"container-full"},l.a.createElement("div",{className:"container container-xs"},l.a.createElement("div",{className:"text-center"},l.a.createElement("img",{className:"mv-lg img-fluid thumb64",src:"img/logo.png",alt:"Brand logo"})),l.a.createElement("form",{className:"cardbox b0 form-validate",name:"formRegister",action:"",onSubmit:this.onSubmit},l.a.createElement("div",{className:"cardbox-offset pb0"},l.a.createElement("div",{className:"cardbox-offset-item text-right"},l.a.createElement("div",{className:"btn btn-success btn-circle btn-lg invisible",id:"form-ok"},l.a.createElement("em",{className:"ion-checkmark-round"})))),l.a.createElement("div",{className:"cardbox-heading"},l.a.createElement("div",{className:"cardbox-title text-center"},"Create account")),l.a.createElement("div",{className:"cardbox-body"},l.a.createElement("div",{className:"mda-form-group float-label mda-input-group"},l.a.createElement("div",{className:"mda-form-control"},l.a.createElement(ht.a,{type:"email",name:"email",invalid:this.hasError("formRegister","email","required")||this.hasError("formRegister","email","email"),onChange:this.validateOnChange,"data-validate":'["required", "email"]',value:this.state.formRegister.email}),l.a.createElement("div",{className:"mda-form-control-line"}),l.a.createElement("label",null,"Email address")),l.a.createElement("span",{className:"mda-input-group-addon"},l.a.createElement("em",{className:"ion-ios-email-outline icon-lg"}))),l.a.createElement("div",{className:"mda-form-group float-label mda-input-group"},l.a.createElement("div",{className:"mda-form-control"},l.a.createElement(ht.a,{type:"password",id:"id-source",name:"password",invalid:this.hasError("formRegister","password","required"),onChange:this.validateOnChange,"data-validate":'["required"]',value:this.state.formRegister.password}),l.a.createElement("div",{className:"mda-form-control-line"}),l.a.createElement("label",null,"Password")),l.a.createElement("span",{className:"mda-input-group-addon"},l.a.createElement("em",{className:"ion-ios-locked-outline icon-lg"}))),l.a.createElement("div",{className:"mda-form-group float-label mda-input-group"},l.a.createElement("div",{className:"mda-form-control"},l.a.createElement(ht.a,{type:"password",name:"password2",invalid:this.hasError("formRegister","password2","equalto"),onChange:this.validateOnChange,"data-validate":'["equalto"]',value:this.state.formRegister.password2,"data-param":"id-source"}),l.a.createElement("div",{className:"mda-form-control-line"}),l.a.createElement("label",null,"Confirm password")),l.a.createElement("span",{className:"mda-input-group-addon"},l.a.createElement("em",{className:"ion-ios-locked-outline icon-lg"})))),l.a.createElement("button",{className:"btn btn-primary btn-flat",type:"submit"},"Create"),l.a.createElement("div",{className:"cardbox-body bg-gray-lighter text-center text-sm"},l.a.createElement("span",{className:"spr"},"By registering I accept the"),l.a.createElement("a",{className:"spr",href:"#"},"Terms of Service"),l.a.createElement("span",{className:"spr"},"and"),l.a.createElement("a",{className:"spr",href:"#"},"Privacy")))))}}]),a}(n.Component),User:St,Layout:function(e){return l.a.createElement("div",{className:"layout-container"},l.a.createElement("div",{className:"page-container bg-blue-grey-900"},e.children))}},Ot=Object(v.a)(function(e){var a,t=e.location,n=JSON.parse(localStorage.getItem("ph-admin-user-data"));return n&&n.id?l.a.createElement(te,null,l.a.createElement(g.a,{path:"/companies",component:Te}),l.a.createElement(g.a,{path:"/users",component:ma}),l.a.createElement(g.a,{path:"/jobs",component:Ba}),l.a.createElement(g.a,{path:"/skills",component:Xa}),l.a.createElement(g.a,{path:"/roles",component:rt}),l.a.createElement(g.a,{path:"/plans",component:mt}),l.a.createElement(g.a,{path:"/plans/:id",component:gt})):(localStorage.removeItem("ph-admin-user-data"),l.a.createElement(St.Layout,null,l.a.createElement(p.a,{location:t},l.a.createElement(g.a,{path:"/login",component:(a=St.Login,function(e){return l.a.createElement(a,e)})}),l.a.createElement(h.a,{to:"/login"}))))}),kt=t(374),_t=t.n(kt),wt=(t(646),function(){function e(a){var t=this;Object(i.a)(this,e);var n=this.detectClickEvent();this.element=a,this.rippleElement=this.getElement(),this.element.addEventListener(n,function(){t.rippleElement.classList.remove("md-ripple-animate"),t.calcSizeAndPos(),t.rippleElement.classList.add("md-ripple-animate")}),this.rippleElement.addEventListener("transitionend",function(){t.rippleElement.classList.remove("md-ripple-animate"),t.rippleElement.style.width=0,t.rippleElement.style.height=0})}return Object(c.a)(e,[{key:"getElement",value:function(){var e=this.element.querySelector(".md-ripple");return null===e&&((e=document.createElement("span")).className="md-ripple",this.element.appendChild(e)),e}},{key:"calcSizeAndPos",value:function(){var e=Math.max(this.element.offsetWidth,this.element.offsetHeight);this.rippleElement.style.width=e+"px",this.rippleElement.style.height=e+"px",this.rippleElement.style.marginTop=-e/2+"px",this.rippleElement.style.marginLeft=-e/2+"px"}},{key:"detectClickEvent",value:function(){return/iphone|ipad/gi.test(navigator.appVersion)?"touchstart":"mousedown"}}]),e}());!function(){_t()(function(){[].slice.call(document.querySelectorAll(".ripple")).forEach(function(e){return new wt(e)})})}();var At=function(e){function a(){return Object(i.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("ph-admin-theme",e);e&&(document.body.classList.remove("theme-1"),document.body.classList.add(e))}},{key:"render",value:function(){return l.a.createElement(u.a,{basename:"/"},l.a.createElement(Ot,null))}}]),a}(n.Component),xt=t(363),It=t(375),Lt=t.n(It);xt.a.use(Lt.a).use(D.b).init({fallbackLng:"en",backend:{loadPath:"locales/{{lng}}/{{ns}}.json"},ns:["translations"],defaultNS:"translations",debug:!1,react:{wait:!0}});xt.a;o.a.render(l.a.createElement(At,null),document.getElementById("app"))}},[[244,2,1]]]);
//# sourceMappingURL=main.38b3e5ff.chunk.js.map